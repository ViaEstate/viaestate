var EI=Object.defineProperty;var pj=r=>{throw TypeError(r)};var AI=(r,e,t)=>e in r?EI(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ge=(r,e,t)=>AI(r,typeof e!="symbol"?e+"":e,t),hy=(r,e,t)=>e.has(r)||pj("Cannot "+t);var u=(r,e,t)=>(hy(r,e,"read from private field"),t?t.call(r):e.get(r)),N=(r,e,t)=>e.has(r)?pj("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),j=(r,e,t,i)=>(hy(r,e,"write to private field"),i?i.call(r,t):e.set(r,t),t),C=(r,e,t)=>(hy(r,e,"access private method"),t);var Nr=(r,e,t,i)=>({set _(s){j(r,e,s,t)},get _(){return u(r,e,i)}});function NI(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in r)){const n=Object.getOwnPropertyDescriptor(i,s);n&&Object.defineProperty(r,s,n.get?n:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}})();function cA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dA={exports:{}},y_={},uA={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm=Symbol.for("react.element"),CI=Symbol.for("react.portal"),PI=Symbol.for("react.fragment"),TI=Symbol.for("react.strict_mode"),RI=Symbol.for("react.profiler"),II=Symbol.for("react.provider"),DI=Symbol.for("react.context"),FI=Symbol.for("react.forward_ref"),LI=Symbol.for("react.suspense"),MI=Symbol.for("react.memo"),OI=Symbol.for("react.lazy"),fj=Symbol.iterator;function $I(r){return r===null||typeof r!="object"?null:(r=fj&&r[fj]||r["@@iterator"],typeof r=="function"?r:null)}var hA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pA=Object.assign,fA={};function Ju(r,e,t){this.props=r,this.context=e,this.refs=fA,this.updater=t||hA}Ju.prototype.isReactComponent={};Ju.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};Ju.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function mA(){}mA.prototype=Ju.prototype;function tk(r,e,t){this.props=r,this.context=e,this.refs=fA,this.updater=t||hA}var rk=tk.prototype=new mA;rk.constructor=tk;pA(rk,Ju.prototype);rk.isPureReactComponent=!0;var mj=Array.isArray,gA=Object.prototype.hasOwnProperty,ik={current:null},vA={key:!0,ref:!0,__self:!0,__source:!0};function _A(r,e,t){var i,s={},n=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(n=""+e.key),e)gA.call(e,i)&&!vA.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(l===1)s.children=t;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(r&&r.defaultProps)for(i in l=r.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:mm,type:r,key:n,ref:o,props:s,_owner:ik.current}}function VI(r,e){return{$$typeof:mm,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function sk(r){return typeof r=="object"&&r!==null&&r.$$typeof===mm}function zI(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var gj=/\/+/g;function py(r,e){return typeof r=="object"&&r!==null&&r.key!=null?zI(""+r.key):e.toString(36)}function mg(r,e,t,i,s){var n=typeof r;(n==="undefined"||n==="boolean")&&(r=null);var o=!1;if(r===null)o=!0;else switch(n){case"string":case"number":o=!0;break;case"object":switch(r.$$typeof){case mm:case CI:o=!0}}if(o)return o=r,s=s(o),r=i===""?"."+py(o,0):i,mj(s)?(t="",r!=null&&(t=r.replace(gj,"$&/")+"/"),mg(s,e,t,"",function(d){return d})):s!=null&&(sk(s)&&(s=VI(s,t+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(gj,"$&/")+"/")+r)),e.push(s)),1;if(o=0,i=i===""?".":i+":",mj(r))for(var l=0;l<r.length;l++){n=r[l];var c=i+py(n,l);o+=mg(n,e,t,c,s)}else if(c=$I(r),typeof c=="function")for(r=c.call(r),l=0;!(n=r.next()).done;)n=n.value,c=i+py(n,l++),o+=mg(n,e,t,c,s);else if(n==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Mm(r,e,t){if(r==null)return r;var i=[],s=0;return mg(r,i,"","",function(n){return e.call(t,n,s++)}),i}function BI(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var Vr={current:null},gg={transition:null},UI={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:gg,ReactCurrentOwner:ik};function yA(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Mm,forEach:function(r,e,t){Mm(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return Mm(r,function(){e++}),e},toArray:function(r){return Mm(r,function(e){return e})||[]},only:function(r){if(!sk(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Fe.Component=Ju;Fe.Fragment=PI;Fe.Profiler=RI;Fe.PureComponent=tk;Fe.StrictMode=TI;Fe.Suspense=LI;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UI;Fe.act=yA;Fe.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var i=pA({},r.props),s=r.key,n=r.ref,o=r._owner;if(e!=null){if(e.ref!==void 0&&(n=e.ref,o=ik.current),e.key!==void 0&&(s=""+e.key),r.type&&r.type.defaultProps)var l=r.type.defaultProps;for(c in e)gA.call(e,c)&&!vA.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=t;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:mm,type:r.type,key:s,ref:n,props:i,_owner:o}};Fe.createContext=function(r){return r={$$typeof:DI,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:II,_context:r},r.Consumer=r};Fe.createElement=_A;Fe.createFactory=function(r){var e=_A.bind(null,r);return e.type=r,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(r){return{$$typeof:FI,render:r}};Fe.isValidElement=sk;Fe.lazy=function(r){return{$$typeof:OI,_payload:{_status:-1,_result:r},_init:BI}};Fe.memo=function(r,e){return{$$typeof:MI,type:r,compare:e===void 0?null:e}};Fe.startTransition=function(r){var e=gg.transition;gg.transition={};try{r()}finally{gg.transition=e}};Fe.unstable_act=yA;Fe.useCallback=function(r,e){return Vr.current.useCallback(r,e)};Fe.useContext=function(r){return Vr.current.useContext(r)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(r){return Vr.current.useDeferredValue(r)};Fe.useEffect=function(r,e){return Vr.current.useEffect(r,e)};Fe.useId=function(){return Vr.current.useId()};Fe.useImperativeHandle=function(r,e,t){return Vr.current.useImperativeHandle(r,e,t)};Fe.useInsertionEffect=function(r,e){return Vr.current.useInsertionEffect(r,e)};Fe.useLayoutEffect=function(r,e){return Vr.current.useLayoutEffect(r,e)};Fe.useMemo=function(r,e){return Vr.current.useMemo(r,e)};Fe.useReducer=function(r,e,t){return Vr.current.useReducer(r,e,t)};Fe.useRef=function(r){return Vr.current.useRef(r)};Fe.useState=function(r){return Vr.current.useState(r)};Fe.useSyncExternalStore=function(r,e,t){return Vr.current.useSyncExternalStore(r,e,t)};Fe.useTransition=function(){return Vr.current.useTransition()};Fe.version="18.3.1";uA.exports=Fe;var b=uA.exports;const Ta=cA(b),x_=NI({__proto__:null,default:Ta},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qI=b,HI=Symbol.for("react.element"),GI=Symbol.for("react.fragment"),WI=Object.prototype.hasOwnProperty,KI=qI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YI={key:!0,ref:!0,__self:!0,__source:!0};function xA(r,e,t){var i,s={},n=null,o=null;t!==void 0&&(n=""+t),e.key!==void 0&&(n=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)WI.call(e,i)&&!YI.hasOwnProperty(i)&&(s[i]=e[i]);if(r&&r.defaultProps)for(i in e=r.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:HI,type:r,key:n,ref:o,props:s,_owner:KI.current}}y_.Fragment=GI;y_.jsx=xA;y_.jsxs=xA;dA.exports=y_;var a=dA.exports,bA={exports:{}},Ai={},wA={exports:{}},kA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(D,z){var F=D.length;D.push(z);e:for(;0<F;){var B=F-1>>>1,J=D[B];if(0<s(J,z))D[B]=z,D[F]=J,F=B;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var z=D[0],F=D.pop();if(F!==z){D[0]=F;e:for(var B=0,J=D.length,te=J>>>1;B<te;){var re=2*(B+1)-1,q=D[re],ie=re+1,H=D[ie];if(0>s(q,F))ie<J&&0>s(H,q)?(D[B]=H,D[ie]=F,B=ie):(D[B]=q,D[re]=F,B=re);else if(ie<J&&0>s(H,F))D[B]=H,D[ie]=F,B=ie;else break e}}return z}function s(D,z){var F=D.sortIndex-z.sortIndex;return F!==0?F:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var n=performance;r.unstable_now=function(){return n.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,p=null,f=3,m=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var z=t(d);z!==null;){if(z.callback===null)i(d);else if(z.startTime<=D)i(d),z.sortIndex=z.expirationTime,e(c,z);else break;z=t(d)}}function k(D){if(v=!1,w(D),!g)if(t(c)!==null)g=!0,O(E);else{var z=t(d);z!==null&&V(k,z.startTime-D)}}function E(D,z){g=!1,v&&(v=!1,_(P),P=-1),m=!0;var F=f;try{for(w(z),p=t(c);p!==null&&(!(p.expirationTime>z)||D&&!M());){var B=p.callback;if(typeof B=="function"){p.callback=null,f=p.priorityLevel;var J=B(p.expirationTime<=z);z=r.unstable_now(),typeof J=="function"?p.callback=J:p===t(c)&&i(c),w(z)}else i(c);p=t(c)}if(p!==null)var te=!0;else{var re=t(d);re!==null&&V(k,re.startTime-z),te=!1}return te}finally{p=null,f=F,m=!1}}var S=!1,A=null,P=-1,R=5,I=-1;function M(){return!(r.unstable_now()-I<R)}function L(){if(A!==null){var D=r.unstable_now();I=D;var z=!0;try{z=A(!0,D)}finally{z?W():(S=!1,A=null)}}else S=!1}var W;if(typeof y=="function")W=function(){y(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Y=U.port2;U.port1.onmessage=L,W=function(){Y.postMessage(null)}}else W=function(){x(L,0)};function O(D){A=D,S||(S=!0,W())}function V(D,z){P=x(function(){D(r.unstable_now())},z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(D){D.callback=null},r.unstable_continueExecution=function(){g||m||(g=!0,O(E))},r.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(D){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var F=f;f=z;try{return D()}finally{f=F}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var F=f;f=D;try{return z()}finally{f=F}},r.unstable_scheduleCallback=function(D,z,F){var B=r.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?B+F:B):F=B,D){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=F+J,D={id:h++,callback:z,priorityLevel:D,startTime:F,expirationTime:J,sortIndex:-1},F>B?(D.sortIndex=F,e(d,D),t(c)===null&&D===t(d)&&(v?(_(P),P=-1):v=!0,V(k,F-B))):(D.sortIndex=J,e(c,D),g||m||(g=!0,O(E))),D},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(D){var z=f;return function(){var F=f;f=z;try{return D.apply(this,arguments)}finally{f=F}}}})(kA);wA.exports=kA;var XI=wA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JI=b,Ei=XI;function X(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jA=new Set,dp={};function Dc(r,e){$u(r,e),$u(r+"Capture",e)}function $u(r,e){for(dp[r]=e,r=0;r<e.length;r++)jA.add(e[r])}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_x=Object.prototype.hasOwnProperty,QI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vj={},_j={};function ZI(r){return _x.call(_j,r)?!0:_x.call(vj,r)?!1:QI.test(r)?_j[r]=!0:(vj[r]=!0,!1)}function eD(r,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function tD(r,e,t,i){if(e===null||typeof e>"u"||eD(r,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zr(r,e,t,i,s,n,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=n,this.removeEmptyString=o}var hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){hr[r]=new zr(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];hr[e]=new zr(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){hr[r]=new zr(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){hr[r]=new zr(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){hr[r]=new zr(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){hr[r]=new zr(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){hr[r]=new zr(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){hr[r]=new zr(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){hr[r]=new zr(r,5,!1,r.toLowerCase(),null,!1,!1)});var nk=/[\-:]([a-z])/g;function ak(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(nk,ak);hr[e]=new zr(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(nk,ak);hr[e]=new zr(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(nk,ak);hr[e]=new zr(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){hr[r]=new zr(r,1,!1,r.toLowerCase(),null,!1,!1)});hr.xlinkHref=new zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){hr[r]=new zr(r,1,!1,r.toLowerCase(),null,!0,!0)});function ok(r,e,t,i){var s=hr.hasOwnProperty(e)?hr[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tD(e,t,s,i)&&(t=null),i||s===null?ZI(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):s.mustUseProperty?r[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,i=s.attributeNamespace,t===null?r.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,i?r.setAttributeNS(i,e,t):r.setAttribute(e,t))))}var wa=JI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Om=Symbol.for("react.element"),sd=Symbol.for("react.portal"),nd=Symbol.for("react.fragment"),lk=Symbol.for("react.strict_mode"),yx=Symbol.for("react.profiler"),SA=Symbol.for("react.provider"),EA=Symbol.for("react.context"),ck=Symbol.for("react.forward_ref"),xx=Symbol.for("react.suspense"),bx=Symbol.for("react.suspense_list"),dk=Symbol.for("react.memo"),Da=Symbol.for("react.lazy"),AA=Symbol.for("react.offscreen"),yj=Symbol.iterator;function dh(r){return r===null||typeof r!="object"?null:(r=yj&&r[yj]||r["@@iterator"],typeof r=="function"?r:null)}var bt=Object.assign,fy;function jh(r){if(fy===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);fy=e&&e[1]||""}return`
`+fy+r}var my=!1;function gy(r,e){if(!r||my)return"";my=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(r,[],e)}else{try{e.call()}catch(d){i=d}r.call(e.prototype)}else{try{throw Error()}catch(d){i=d}r()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),n=i.stack.split(`
`),o=s.length-1,l=n.length-1;1<=o&&0<=l&&s[o]!==n[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==n[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==n[l]){var c=`
`+s[o].replace(" at new "," at ");return r.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",r.displayName)),c}while(1<=o&&0<=l);break}}}finally{my=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?jh(r):""}function rD(r){switch(r.tag){case 5:return jh(r.type);case 16:return jh("Lazy");case 13:return jh("Suspense");case 19:return jh("SuspenseList");case 0:case 2:case 15:return r=gy(r.type,!1),r;case 11:return r=gy(r.type.render,!1),r;case 1:return r=gy(r.type,!0),r;default:return""}}function wx(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case nd:return"Fragment";case sd:return"Portal";case yx:return"Profiler";case lk:return"StrictMode";case xx:return"Suspense";case bx:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case EA:return(r.displayName||"Context")+".Consumer";case SA:return(r._context.displayName||"Context")+".Provider";case ck:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case dk:return e=r.displayName||null,e!==null?e:wx(r.type)||"Memo";case Da:e=r._payload,r=r._init;try{return wx(r(e))}catch{}}return null}function iD(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wx(e);case 8:return e===lk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Do(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function NA(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sD(r){var e=NA(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),i=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,n=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,n.call(this,o)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function $m(r){r._valueTracker||(r._valueTracker=sD(r))}function CA(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return r&&(i=NA(r)?r.checked?"true":"false":r.value),r=i,r!==t?(e.setValue(r),!0):!1}function lv(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function kx(r,e){var t=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function xj(r,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Do(e.value!=null?e.value:t),r._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PA(r,e){e=e.checked,e!=null&&ok(r,"checked",e,!1)}function jx(r,e){PA(r,e);var t=Do(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(i==="submit"||i==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?Sx(r,e.type,t):e.hasOwnProperty("defaultValue")&&Sx(r,e.type,Do(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function bj(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function Sx(r,e,t){(e!=="number"||lv(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var Sh=Array.isArray;function xd(r,e,t,i){if(r=r.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<r.length;t++)s=e.hasOwnProperty("$"+r[t].value),r[t].selected!==s&&(r[t].selected=s),s&&i&&(r[t].defaultSelected=!0)}else{for(t=""+Do(t),e=null,s=0;s<r.length;s++){if(r[s].value===t){r[s].selected=!0,i&&(r[s].defaultSelected=!0);return}e!==null||r[s].disabled||(e=r[s])}e!==null&&(e.selected=!0)}}function Ex(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function wj(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(X(92));if(Sh(t)){if(1<t.length)throw Error(X(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:Do(t)}}function TA(r,e){var t=Do(e.value),i=Do(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),i!=null&&(r.defaultValue=""+i)}function kj(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function RA(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ax(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?RA(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Vm,IA=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,s){MSApp.execUnsafeLocalFunction(function(){return r(e,t,i,s)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(Vm=Vm||document.createElement("div"),Vm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vm.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function up(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var Wh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nD=["Webkit","ms","Moz","O"];Object.keys(Wh).forEach(function(r){nD.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),Wh[e]=Wh[r]})});function DA(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Wh.hasOwnProperty(r)&&Wh[r]?(""+e).trim():e+"px"}function FA(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,s=DA(t,e[t],i);t==="float"&&(t="cssFloat"),i?r.setProperty(t,s):r[t]=s}}var aD=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nx(r,e){if(e){if(aD[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function Cx(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Px=null;function uk(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Tx=null,bd=null,wd=null;function jj(r){if(r=_m(r)){if(typeof Tx!="function")throw Error(X(280));var e=r.stateNode;e&&(e=S_(e),Tx(r.stateNode,r.type,e))}}function LA(r){bd?wd?wd.push(r):wd=[r]:bd=r}function MA(){if(bd){var r=bd,e=wd;if(wd=bd=null,jj(r),e)for(r=0;r<e.length;r++)jj(e[r])}}function OA(r,e){return r(e)}function $A(){}var vy=!1;function VA(r,e,t){if(vy)return r(e,t);vy=!0;try{return OA(r,e,t)}finally{vy=!1,(bd!==null||wd!==null)&&($A(),MA())}}function hp(r,e){var t=r.stateNode;if(t===null)return null;var i=S_(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(r=r.type,i=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!i;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(X(231,e,typeof t));return t}var Rx=!1;if(ha)try{var uh={};Object.defineProperty(uh,"passive",{get:function(){Rx=!0}}),window.addEventListener("test",uh,uh),window.removeEventListener("test",uh,uh)}catch{Rx=!1}function oD(r,e,t,i,s,n,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(h){this.onError(h)}}var Kh=!1,cv=null,dv=!1,Ix=null,lD={onError:function(r){Kh=!0,cv=r}};function cD(r,e,t,i,s,n,o,l,c){Kh=!1,cv=null,oD.apply(lD,arguments)}function dD(r,e,t,i,s,n,o,l,c){if(cD.apply(this,arguments),Kh){if(Kh){var d=cv;Kh=!1,cv=null}else throw Error(X(198));dv||(dv=!0,Ix=d)}}function Fc(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function zA(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function Sj(r){if(Fc(r)!==r)throw Error(X(188))}function uD(r){var e=r.alternate;if(!e){if(e=Fc(r),e===null)throw Error(X(188));return e!==r?null:r}for(var t=r,i=e;;){var s=t.return;if(s===null)break;var n=s.alternate;if(n===null){if(i=s.return,i!==null){t=i;continue}break}if(s.child===n.child){for(n=s.child;n;){if(n===t)return Sj(s),r;if(n===i)return Sj(s),e;n=n.sibling}throw Error(X(188))}if(t.return!==i.return)t=s,i=n;else{for(var o=!1,l=s.child;l;){if(l===t){o=!0,t=s,i=n;break}if(l===i){o=!0,i=s,t=n;break}l=l.sibling}if(!o){for(l=n.child;l;){if(l===t){o=!0,t=n,i=s;break}if(l===i){o=!0,i=n,t=s;break}l=l.sibling}if(!o)throw Error(X(189))}}if(t.alternate!==i)throw Error(X(190))}if(t.tag!==3)throw Error(X(188));return t.stateNode.current===t?r:e}function BA(r){return r=uD(r),r!==null?UA(r):null}function UA(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=UA(r);if(e!==null)return e;r=r.sibling}return null}var qA=Ei.unstable_scheduleCallback,Ej=Ei.unstable_cancelCallback,hD=Ei.unstable_shouldYield,pD=Ei.unstable_requestPaint,At=Ei.unstable_now,fD=Ei.unstable_getCurrentPriorityLevel,hk=Ei.unstable_ImmediatePriority,HA=Ei.unstable_UserBlockingPriority,uv=Ei.unstable_NormalPriority,mD=Ei.unstable_LowPriority,GA=Ei.unstable_IdlePriority,b_=null,un=null;function gD(r){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(b_,r,void 0,(r.current.flags&128)===128)}catch{}}var Ns=Math.clz32?Math.clz32:yD,vD=Math.log,_D=Math.LN2;function yD(r){return r>>>=0,r===0?32:31-(vD(r)/_D|0)|0}var zm=64,Bm=4194304;function Eh(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function hv(r,e){var t=r.pendingLanes;if(t===0)return 0;var i=0,s=r.suspendedLanes,n=r.pingedLanes,o=t&268435455;if(o!==0){var l=o&~s;l!==0?i=Eh(l):(n&=o,n!==0&&(i=Eh(n)))}else o=t&~s,o!==0?i=Eh(o):n!==0&&(i=Eh(n));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===16&&(n&4194240)!==0))return e;if(i&4&&(i|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=i;0<e;)t=31-Ns(e),s=1<<t,i|=r[t],e&=~s;return i}function xD(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bD(r,e){for(var t=r.suspendedLanes,i=r.pingedLanes,s=r.expirationTimes,n=r.pendingLanes;0<n;){var o=31-Ns(n),l=1<<o,c=s[o];c===-1?(!(l&t)||l&i)&&(s[o]=xD(l,e)):c<=e&&(r.expiredLanes|=l),n&=~l}}function Dx(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function WA(){var r=zm;return zm<<=1,!(zm&4194240)&&(zm=64),r}function _y(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function gm(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-Ns(e),r[e]=t}function wD(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var i=r.eventTimes;for(r=r.expirationTimes;0<t;){var s=31-Ns(t),n=1<<s;e[s]=0,i[s]=-1,r[s]=-1,t&=~n}}function pk(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var i=31-Ns(t),s=1<<i;s&e|r[i]&e&&(r[i]|=e),t&=~s}}var Ye=0;function KA(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var YA,fk,XA,JA,QA,Fx=!1,Um=[],bo=null,wo=null,ko=null,pp=new Map,fp=new Map,Ma=[],kD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aj(r,e){switch(r){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":pp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fp.delete(e.pointerId)}}function hh(r,e,t,i,s,n){return r===null||r.nativeEvent!==n?(r={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:n,targetContainers:[s]},e!==null&&(e=_m(e),e!==null&&fk(e)),r):(r.eventSystemFlags|=i,e=r.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),r)}function jD(r,e,t,i,s){switch(e){case"focusin":return bo=hh(bo,r,e,t,i,s),!0;case"dragenter":return wo=hh(wo,r,e,t,i,s),!0;case"mouseover":return ko=hh(ko,r,e,t,i,s),!0;case"pointerover":var n=s.pointerId;return pp.set(n,hh(pp.get(n)||null,r,e,t,i,s)),!0;case"gotpointercapture":return n=s.pointerId,fp.set(n,hh(fp.get(n)||null,r,e,t,i,s)),!0}return!1}function ZA(r){var e=ll(r.target);if(e!==null){var t=Fc(e);if(t!==null){if(e=t.tag,e===13){if(e=zA(t),e!==null){r.blockedOn=e,QA(r.priority,function(){XA(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function vg(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=Lx(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var i=new t.constructor(t.type,t);Px=i,t.target.dispatchEvent(i),Px=null}else return e=_m(t),e!==null&&fk(e),r.blockedOn=t,!1;e.shift()}return!0}function Nj(r,e,t){vg(r)&&t.delete(e)}function SD(){Fx=!1,bo!==null&&vg(bo)&&(bo=null),wo!==null&&vg(wo)&&(wo=null),ko!==null&&vg(ko)&&(ko=null),pp.forEach(Nj),fp.forEach(Nj)}function ph(r,e){r.blockedOn===e&&(r.blockedOn=null,Fx||(Fx=!0,Ei.unstable_scheduleCallback(Ei.unstable_NormalPriority,SD)))}function mp(r){function e(s){return ph(s,r)}if(0<Um.length){ph(Um[0],r);for(var t=1;t<Um.length;t++){var i=Um[t];i.blockedOn===r&&(i.blockedOn=null)}}for(bo!==null&&ph(bo,r),wo!==null&&ph(wo,r),ko!==null&&ph(ko,r),pp.forEach(e),fp.forEach(e),t=0;t<Ma.length;t++)i=Ma[t],i.blockedOn===r&&(i.blockedOn=null);for(;0<Ma.length&&(t=Ma[0],t.blockedOn===null);)ZA(t),t.blockedOn===null&&Ma.shift()}var kd=wa.ReactCurrentBatchConfig,pv=!0;function ED(r,e,t,i){var s=Ye,n=kd.transition;kd.transition=null;try{Ye=1,mk(r,e,t,i)}finally{Ye=s,kd.transition=n}}function AD(r,e,t,i){var s=Ye,n=kd.transition;kd.transition=null;try{Ye=4,mk(r,e,t,i)}finally{Ye=s,kd.transition=n}}function mk(r,e,t,i){if(pv){var s=Lx(r,e,t,i);if(s===null)Ny(r,e,i,fv,t),Aj(r,i);else if(jD(s,r,e,t,i))i.stopPropagation();else if(Aj(r,i),e&4&&-1<kD.indexOf(r)){for(;s!==null;){var n=_m(s);if(n!==null&&YA(n),n=Lx(r,e,t,i),n===null&&Ny(r,e,i,fv,t),n===s)break;s=n}s!==null&&i.stopPropagation()}else Ny(r,e,i,null,t)}}var fv=null;function Lx(r,e,t,i){if(fv=null,r=uk(i),r=ll(r),r!==null)if(e=Fc(r),e===null)r=null;else if(t=e.tag,t===13){if(r=zA(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return fv=r,null}function e1(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fD()){case hk:return 1;case HA:return 4;case uv:case mD:return 16;case GA:return 536870912;default:return 16}default:return 16}}var _o=null,gk=null,_g=null;function t1(){if(_g)return _g;var r,e=gk,t=e.length,i,s="value"in _o?_o.value:_o.textContent,n=s.length;for(r=0;r<t&&e[r]===s[r];r++);var o=t-r;for(i=1;i<=o&&e[t-i]===s[n-i];i++);return _g=s.slice(r,1<i?1-i:void 0)}function yg(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function qm(){return!0}function Cj(){return!1}function Ni(r){function e(t,i,s,n,o){this._reactName=t,this._targetInst=s,this.type=i,this.nativeEvent=n,this.target=o,this.currentTarget=null;for(var l in r)r.hasOwnProperty(l)&&(t=r[l],this[l]=t?t(n):n[l]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?qm:Cj,this.isPropagationStopped=Cj,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=qm)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=qm)},persist:function(){},isPersistent:qm}),e}var Qu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vk=Ni(Qu),vm=bt({},Qu,{view:0,detail:0}),ND=Ni(vm),yy,xy,fh,w_=bt({},vm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_k,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==fh&&(fh&&r.type==="mousemove"?(yy=r.screenX-fh.screenX,xy=r.screenY-fh.screenY):xy=yy=0,fh=r),yy)},movementY:function(r){return"movementY"in r?r.movementY:xy}}),Pj=Ni(w_),CD=bt({},w_,{dataTransfer:0}),PD=Ni(CD),TD=bt({},vm,{relatedTarget:0}),by=Ni(TD),RD=bt({},Qu,{animationName:0,elapsedTime:0,pseudoElement:0}),ID=Ni(RD),DD=bt({},Qu,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),FD=Ni(DD),LD=bt({},Qu,{data:0}),Tj=Ni(LD),MD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$D={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VD(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=$D[r])?!!e[r]:!1}function _k(){return VD}var zD=bt({},vm,{key:function(r){if(r.key){var e=MD[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=yg(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?OD[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_k,charCode:function(r){return r.type==="keypress"?yg(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?yg(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),BD=Ni(zD),UD=bt({},w_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rj=Ni(UD),qD=bt({},vm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_k}),HD=Ni(qD),GD=bt({},Qu,{propertyName:0,elapsedTime:0,pseudoElement:0}),WD=Ni(GD),KD=bt({},w_,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),YD=Ni(KD),XD=[9,13,27,32],yk=ha&&"CompositionEvent"in window,Yh=null;ha&&"documentMode"in document&&(Yh=document.documentMode);var JD=ha&&"TextEvent"in window&&!Yh,r1=ha&&(!yk||Yh&&8<Yh&&11>=Yh),Ij=" ",Dj=!1;function i1(r,e){switch(r){case"keyup":return XD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s1(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ad=!1;function QD(r,e){switch(r){case"compositionend":return s1(e);case"keypress":return e.which!==32?null:(Dj=!0,Ij);case"textInput":return r=e.data,r===Ij&&Dj?null:r;default:return null}}function ZD(r,e){if(ad)return r==="compositionend"||!yk&&i1(r,e)?(r=t1(),_g=gk=_o=null,ad=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return r1&&e.locale!=="ko"?null:e.data;default:return null}}var eF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fj(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!eF[r.type]:e==="textarea"}function n1(r,e,t,i){LA(i),e=mv(e,"onChange"),0<e.length&&(t=new vk("onChange","change",null,t,i),r.push({event:t,listeners:e}))}var Xh=null,gp=null;function tF(r){g1(r,0)}function k_(r){var e=cd(r);if(CA(e))return r}function rF(r,e){if(r==="change")return e}var a1=!1;if(ha){var wy;if(ha){var ky="oninput"in document;if(!ky){var Lj=document.createElement("div");Lj.setAttribute("oninput","return;"),ky=typeof Lj.oninput=="function"}wy=ky}else wy=!1;a1=wy&&(!document.documentMode||9<document.documentMode)}function Mj(){Xh&&(Xh.detachEvent("onpropertychange",o1),gp=Xh=null)}function o1(r){if(r.propertyName==="value"&&k_(gp)){var e=[];n1(e,gp,r,uk(r)),VA(tF,e)}}function iF(r,e,t){r==="focusin"?(Mj(),Xh=e,gp=t,Xh.attachEvent("onpropertychange",o1)):r==="focusout"&&Mj()}function sF(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return k_(gp)}function nF(r,e){if(r==="click")return k_(e)}function aF(r,e){if(r==="input"||r==="change")return k_(e)}function oF(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var Ps=typeof Object.is=="function"?Object.is:oF;function vp(r,e){if(Ps(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var s=t[i];if(!_x.call(e,s)||!Ps(r[s],e[s]))return!1}return!0}function Oj(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function $j(r,e){var t=Oj(r);r=0;for(var i;t;){if(t.nodeType===3){if(i=r+t.textContent.length,r<=e&&i>=e)return{node:t,offset:e-r};r=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Oj(t)}}function l1(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?l1(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function c1(){for(var r=window,e=lv();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=lv(r.document)}return e}function xk(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function lF(r){var e=c1(),t=r.focusedElem,i=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&l1(t.ownerDocument.documentElement,t)){if(i!==null&&xk(t)){if(e=i.start,r=i.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var s=t.textContent.length,n=Math.min(i.start,s);i=i.end===void 0?n:Math.min(i.end,s),!r.extend&&n>i&&(s=i,i=n,n=s),s=$j(t,n);var o=$j(t,i);s&&o&&(r.rangeCount!==1||r.anchorNode!==s.node||r.anchorOffset!==s.offset||r.focusNode!==o.node||r.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),r.removeAllRanges(),n>i?(r.addRange(e),r.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var cF=ha&&"documentMode"in document&&11>=document.documentMode,od=null,Mx=null,Jh=null,Ox=!1;function Vj(r,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Ox||od==null||od!==lv(i)||(i=od,"selectionStart"in i&&xk(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Jh&&vp(Jh,i)||(Jh=i,i=mv(Mx,"onSelect"),0<i.length&&(e=new vk("onSelect","select",null,e,t),r.push({event:e,listeners:i}),e.target=od)))}function Hm(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var ld={animationend:Hm("Animation","AnimationEnd"),animationiteration:Hm("Animation","AnimationIteration"),animationstart:Hm("Animation","AnimationStart"),transitionend:Hm("Transition","TransitionEnd")},jy={},d1={};ha&&(d1=document.createElement("div").style,"AnimationEvent"in window||(delete ld.animationend.animation,delete ld.animationiteration.animation,delete ld.animationstart.animation),"TransitionEvent"in window||delete ld.transitionend.transition);function j_(r){if(jy[r])return jy[r];if(!ld[r])return r;var e=ld[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in d1)return jy[r]=e[t];return r}var u1=j_("animationend"),h1=j_("animationiteration"),p1=j_("animationstart"),f1=j_("transitionend"),m1=new Map,zj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bo(r,e){m1.set(r,e),Dc(e,[r])}for(var Sy=0;Sy<zj.length;Sy++){var Ey=zj[Sy],dF=Ey.toLowerCase(),uF=Ey[0].toUpperCase()+Ey.slice(1);Bo(dF,"on"+uF)}Bo(u1,"onAnimationEnd");Bo(h1,"onAnimationIteration");Bo(p1,"onAnimationStart");Bo("dblclick","onDoubleClick");Bo("focusin","onFocus");Bo("focusout","onBlur");Bo(f1,"onTransitionEnd");$u("onMouseEnter",["mouseout","mouseover"]);$u("onMouseLeave",["mouseout","mouseover"]);$u("onPointerEnter",["pointerout","pointerover"]);$u("onPointerLeave",["pointerout","pointerover"]);Dc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ah));function Bj(r,e,t){var i=r.type||"unknown-event";r.currentTarget=t,dD(i,e,void 0,r),r.currentTarget=null}function g1(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var i=r[t],s=i.event;i=i.listeners;e:{var n=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==n&&s.isPropagationStopped())break e;Bj(s,l,d),n=c}else for(o=0;o<i.length;o++){if(l=i[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==n&&s.isPropagationStopped())break e;Bj(s,l,d),n=c}}}if(dv)throw r=Ix,dv=!1,Ix=null,r}function at(r,e){var t=e[Ux];t===void 0&&(t=e[Ux]=new Set);var i=r+"__bubble";t.has(i)||(v1(e,r,2,!1),t.add(i))}function Ay(r,e,t){var i=0;e&&(i|=4),v1(t,r,i,e)}var Gm="_reactListening"+Math.random().toString(36).slice(2);function _p(r){if(!r[Gm]){r[Gm]=!0,jA.forEach(function(t){t!=="selectionchange"&&(hF.has(t)||Ay(t,!1,r),Ay(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[Gm]||(e[Gm]=!0,Ay("selectionchange",!1,e))}}function v1(r,e,t,i){switch(e1(e)){case 1:var s=ED;break;case 4:s=AD;break;default:s=mk}t=s.bind(null,e,t,r),s=void 0,!Rx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?r.addEventListener(e,t,{capture:!0,passive:s}):r.addEventListener(e,t,!0):s!==void 0?r.addEventListener(e,t,{passive:s}):r.addEventListener(e,t,!1)}function Ny(r,e,t,i,s){var n=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ll(l),o===null)return;if(c=o.tag,c===5||c===6){i=n=o;continue e}l=l.parentNode}}i=i.return}VA(function(){var d=n,h=uk(t),p=[];e:{var f=m1.get(r);if(f!==void 0){var m=vk,g=r;switch(r){case"keypress":if(yg(t)===0)break e;case"keydown":case"keyup":m=BD;break;case"focusin":g="focus",m=by;break;case"focusout":g="blur",m=by;break;case"beforeblur":case"afterblur":m=by;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Pj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=HD;break;case u1:case h1:case p1:m=ID;break;case f1:m=WD;break;case"scroll":m=ND;break;case"wheel":m=YD;break;case"copy":case"cut":case"paste":m=FD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Rj}var v=(e&4)!==0,x=!v&&r==="scroll",_=v?f!==null?f+"Capture":null:f;v=[];for(var y=d,w;y!==null;){w=y;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,_!==null&&(k=hp(y,_),k!=null&&v.push(yp(y,k,w)))),x)break;y=y.return}0<v.length&&(f=new m(f,g,null,t,h),p.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=r==="mouseover"||r==="pointerover",m=r==="mouseout"||r==="pointerout",f&&t!==Px&&(g=t.relatedTarget||t.fromElement)&&(ll(g)||g[pa]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=d,g=g?ll(g):null,g!==null&&(x=Fc(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=d),m!==g)){if(v=Pj,k="onMouseLeave",_="onMouseEnter",y="mouse",(r==="pointerout"||r==="pointerover")&&(v=Rj,k="onPointerLeave",_="onPointerEnter",y="pointer"),x=m==null?f:cd(m),w=g==null?f:cd(g),f=new v(k,y+"leave",m,t,h),f.target=x,f.relatedTarget=w,k=null,ll(h)===d&&(v=new v(_,y+"enter",g,t,h),v.target=w,v.relatedTarget=x,k=v),x=k,m&&g)t:{for(v=m,_=g,y=0,w=v;w;w=Oc(w))y++;for(w=0,k=_;k;k=Oc(k))w++;for(;0<y-w;)v=Oc(v),y--;for(;0<w-y;)_=Oc(_),w--;for(;y--;){if(v===_||_!==null&&v===_.alternate)break t;v=Oc(v),_=Oc(_)}v=null}else v=null;m!==null&&Uj(p,f,m,v,!1),g!==null&&x!==null&&Uj(p,x,g,v,!0)}}e:{if(f=d?cd(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=rF;else if(Fj(f))if(a1)E=aF;else{E=sF;var S=iF}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=nF);if(E&&(E=E(r,d))){n1(p,E,t,h);break e}S&&S(r,f,d),r==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Sx(f,"number",f.value)}switch(S=d?cd(d):window,r){case"focusin":(Fj(S)||S.contentEditable==="true")&&(od=S,Mx=d,Jh=null);break;case"focusout":Jh=Mx=od=null;break;case"mousedown":Ox=!0;break;case"contextmenu":case"mouseup":case"dragend":Ox=!1,Vj(p,t,h);break;case"selectionchange":if(cF)break;case"keydown":case"keyup":Vj(p,t,h)}var A;if(yk)e:{switch(r){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ad?i1(r,t)&&(P="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(r1&&t.locale!=="ko"&&(ad||P!=="onCompositionStart"?P==="onCompositionEnd"&&ad&&(A=t1()):(_o=h,gk="value"in _o?_o.value:_o.textContent,ad=!0)),S=mv(d,P),0<S.length&&(P=new Tj(P,r,null,t,h),p.push({event:P,listeners:S}),A?P.data=A:(A=s1(t),A!==null&&(P.data=A)))),(A=JD?QD(r,t):ZD(r,t))&&(d=mv(d,"onBeforeInput"),0<d.length&&(h=new Tj("onBeforeInput","beforeinput",null,t,h),p.push({event:h,listeners:d}),h.data=A))}g1(p,e)})}function yp(r,e,t){return{instance:r,listener:e,currentTarget:t}}function mv(r,e){for(var t=e+"Capture",i=[];r!==null;){var s=r,n=s.stateNode;s.tag===5&&n!==null&&(s=n,n=hp(r,t),n!=null&&i.unshift(yp(r,n,s)),n=hp(r,e),n!=null&&i.push(yp(r,n,s))),r=r.return}return i}function Oc(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Uj(r,e,t,i,s){for(var n=e._reactName,o=[];t!==null&&t!==i;){var l=t,c=l.alternate,d=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&d!==null&&(l=d,s?(c=hp(t,n),c!=null&&o.unshift(yp(t,c,l))):s||(c=hp(t,n),c!=null&&o.push(yp(t,c,l)))),t=t.return}o.length!==0&&r.push({event:e,listeners:o})}var pF=/\r\n?/g,fF=/\u0000|\uFFFD/g;function qj(r){return(typeof r=="string"?r:""+r).replace(pF,`
`).replace(fF,"")}function Wm(r,e,t){if(e=qj(e),qj(r)!==e&&t)throw Error(X(425))}function gv(){}var $x=null,Vx=null;function zx(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bx=typeof setTimeout=="function"?setTimeout:void 0,mF=typeof clearTimeout=="function"?clearTimeout:void 0,Hj=typeof Promise=="function"?Promise:void 0,gF=typeof queueMicrotask=="function"?queueMicrotask:typeof Hj<"u"?function(r){return Hj.resolve(null).then(r).catch(vF)}:Bx;function vF(r){setTimeout(function(){throw r})}function Cy(r,e){var t=e,i=0;do{var s=t.nextSibling;if(r.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(i===0){r.removeChild(s),mp(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=s}while(t);mp(e)}function jo(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function Gj(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var Zu=Math.random().toString(36).slice(2),on="__reactFiber$"+Zu,xp="__reactProps$"+Zu,pa="__reactContainer$"+Zu,Ux="__reactEvents$"+Zu,_F="__reactListeners$"+Zu,yF="__reactHandles$"+Zu;function ll(r){var e=r[on];if(e)return e;for(var t=r.parentNode;t;){if(e=t[pa]||t[on]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=Gj(r);r!==null;){if(t=r[on])return t;r=Gj(r)}return e}r=t,t=r.parentNode}return null}function _m(r){return r=r[on]||r[pa],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function cd(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(X(33))}function S_(r){return r[xp]||null}var qx=[],dd=-1;function Uo(r){return{current:r}}function lt(r){0>dd||(r.current=qx[dd],qx[dd]=null,dd--)}function it(r,e){dd++,qx[dd]=r.current,r.current=e}var Fo={},Sr=Uo(Fo),Zr=Uo(!1),xc=Fo;function Vu(r,e){var t=r.type.contextTypes;if(!t)return Fo;var i=r.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},n;for(n in t)s[n]=e[n];return i&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=s),s}function ei(r){return r=r.childContextTypes,r!=null}function vv(){lt(Zr),lt(Sr)}function Wj(r,e,t){if(Sr.current!==Fo)throw Error(X(168));it(Sr,e),it(Zr,t)}function _1(r,e,t){var i=r.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(X(108,iD(r)||"Unknown",s));return bt({},t,i)}function _v(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Fo,xc=Sr.current,it(Sr,r),it(Zr,Zr.current),!0}function Kj(r,e,t){var i=r.stateNode;if(!i)throw Error(X(169));t?(r=_1(r,e,xc),i.__reactInternalMemoizedMergedChildContext=r,lt(Zr),lt(Sr),it(Sr,r)):lt(Zr),it(Zr,t)}var Dn=null,E_=!1,Py=!1;function y1(r){Dn===null?Dn=[r]:Dn.push(r)}function xF(r){E_=!0,y1(r)}function qo(){if(!Py&&Dn!==null){Py=!0;var r=0,e=Ye;try{var t=Dn;for(Ye=1;r<t.length;r++){var i=t[r];do i=i(!0);while(i!==null)}Dn=null,E_=!1}catch(s){throw Dn!==null&&(Dn=Dn.slice(r+1)),qA(hk,qo),s}finally{Ye=e,Py=!1}}return null}var ud=[],hd=0,yv=null,xv=0,$i=[],Vi=0,bc=null,oa=1,la="";function Qo(r,e){ud[hd++]=xv,ud[hd++]=yv,yv=r,xv=e}function x1(r,e,t){$i[Vi++]=oa,$i[Vi++]=la,$i[Vi++]=bc,bc=r;var i=oa;r=la;var s=32-Ns(i)-1;i&=~(1<<s),t+=1;var n=32-Ns(e)+s;if(30<n){var o=s-s%5;n=(i&(1<<o)-1).toString(32),i>>=o,s-=o,oa=1<<32-Ns(e)+s|t<<s|i,la=n+r}else oa=1<<n|t<<s|i,la=r}function bk(r){r.return!==null&&(Qo(r,1),x1(r,1,0))}function wk(r){for(;r===yv;)yv=ud[--hd],ud[hd]=null,xv=ud[--hd],ud[hd]=null;for(;r===bc;)bc=$i[--Vi],$i[Vi]=null,la=$i[--Vi],$i[Vi]=null,oa=$i[--Vi],$i[Vi]=null}var ki=null,wi=null,ht=!1,bs=null;function b1(r,e){var t=qi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function Yj(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,ki=r,wi=jo(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,ki=r,wi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=bc!==null?{id:oa,overflow:la}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=qi(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,ki=r,wi=null,!0):!1;default:return!1}}function Hx(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Gx(r){if(ht){var e=wi;if(e){var t=e;if(!Yj(r,e)){if(Hx(r))throw Error(X(418));e=jo(t.nextSibling);var i=ki;e&&Yj(r,e)?b1(i,t):(r.flags=r.flags&-4097|2,ht=!1,ki=r)}}else{if(Hx(r))throw Error(X(418));r.flags=r.flags&-4097|2,ht=!1,ki=r}}}function Xj(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;ki=r}function Km(r){if(r!==ki)return!1;if(!ht)return Xj(r),ht=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!zx(r.type,r.memoizedProps)),e&&(e=wi)){if(Hx(r))throw w1(),Error(X(418));for(;e;)b1(r,e),e=jo(e.nextSibling)}if(Xj(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(X(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){wi=jo(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}wi=null}}else wi=ki?jo(r.stateNode.nextSibling):null;return!0}function w1(){for(var r=wi;r;)r=jo(r.nextSibling)}function zu(){wi=ki=null,ht=!1}function kk(r){bs===null?bs=[r]:bs.push(r)}var bF=wa.ReactCurrentBatchConfig;function mh(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(X(309));var i=t.stateNode}if(!i)throw Error(X(147,r));var s=i,n=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===n?e.ref:(e=function(o){var l=s.refs;o===null?delete l[n]:l[n]=o},e._stringRef=n,e)}if(typeof r!="string")throw Error(X(284));if(!t._owner)throw Error(X(290,r))}return r}function Ym(r,e){throw r=Object.prototype.toString.call(e),Error(X(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function Jj(r){var e=r._init;return e(r._payload)}function k1(r){function e(_,y){if(r){var w=_.deletions;w===null?(_.deletions=[y],_.flags|=16):w.push(y)}}function t(_,y){if(!r)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function i(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function s(_,y){return _=No(_,y),_.index=0,_.sibling=null,_}function n(_,y,w){return _.index=w,r?(w=_.alternate,w!==null?(w=w.index,w<y?(_.flags|=2,y):w):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return r&&_.alternate===null&&(_.flags|=2),_}function l(_,y,w,k){return y===null||y.tag!==6?(y=My(w,_.mode,k),y.return=_,y):(y=s(y,w),y.return=_,y)}function c(_,y,w,k){var E=w.type;return E===nd?h(_,y,w.props.children,k,w.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Da&&Jj(E)===y.type)?(k=s(y,w.props),k.ref=mh(_,y,w),k.return=_,k):(k=Eg(w.type,w.key,w.props,null,_.mode,k),k.ref=mh(_,y,w),k.return=_,k)}function d(_,y,w,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Oy(w,_.mode,k),y.return=_,y):(y=s(y,w.children||[]),y.return=_,y)}function h(_,y,w,k,E){return y===null||y.tag!==7?(y=vc(w,_.mode,k,E),y.return=_,y):(y=s(y,w),y.return=_,y)}function p(_,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=My(""+y,_.mode,w),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Om:return w=Eg(y.type,y.key,y.props,null,_.mode,w),w.ref=mh(_,null,y),w.return=_,w;case sd:return y=Oy(y,_.mode,w),y.return=_,y;case Da:var k=y._init;return p(_,k(y._payload),w)}if(Sh(y)||dh(y))return y=vc(y,_.mode,w,null),y.return=_,y;Ym(_,y)}return null}function f(_,y,w,k){var E=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:l(_,y,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Om:return w.key===E?c(_,y,w,k):null;case sd:return w.key===E?d(_,y,w,k):null;case Da:return E=w._init,f(_,y,E(w._payload),k)}if(Sh(w)||dh(w))return E!==null?null:h(_,y,w,k,null);Ym(_,w)}return null}function m(_,y,w,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(w)||null,l(y,_,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Om:return _=_.get(k.key===null?w:k.key)||null,c(y,_,k,E);case sd:return _=_.get(k.key===null?w:k.key)||null,d(y,_,k,E);case Da:var S=k._init;return m(_,y,w,S(k._payload),E)}if(Sh(k)||dh(k))return _=_.get(w)||null,h(y,_,k,E,null);Ym(y,k)}return null}function g(_,y,w,k){for(var E=null,S=null,A=y,P=y=0,R=null;A!==null&&P<w.length;P++){A.index>P?(R=A,A=null):R=A.sibling;var I=f(_,A,w[P],k);if(I===null){A===null&&(A=R);break}r&&A&&I.alternate===null&&e(_,A),y=n(I,y,P),S===null?E=I:S.sibling=I,S=I,A=R}if(P===w.length)return t(_,A),ht&&Qo(_,P),E;if(A===null){for(;P<w.length;P++)A=p(_,w[P],k),A!==null&&(y=n(A,y,P),S===null?E=A:S.sibling=A,S=A);return ht&&Qo(_,P),E}for(A=i(_,A);P<w.length;P++)R=m(A,_,P,w[P],k),R!==null&&(r&&R.alternate!==null&&A.delete(R.key===null?P:R.key),y=n(R,y,P),S===null?E=R:S.sibling=R,S=R);return r&&A.forEach(function(M){return e(_,M)}),ht&&Qo(_,P),E}function v(_,y,w,k){var E=dh(w);if(typeof E!="function")throw Error(X(150));if(w=E.call(w),w==null)throw Error(X(151));for(var S=E=null,A=y,P=y=0,R=null,I=w.next();A!==null&&!I.done;P++,I=w.next()){A.index>P?(R=A,A=null):R=A.sibling;var M=f(_,A,I.value,k);if(M===null){A===null&&(A=R);break}r&&A&&M.alternate===null&&e(_,A),y=n(M,y,P),S===null?E=M:S.sibling=M,S=M,A=R}if(I.done)return t(_,A),ht&&Qo(_,P),E;if(A===null){for(;!I.done;P++,I=w.next())I=p(_,I.value,k),I!==null&&(y=n(I,y,P),S===null?E=I:S.sibling=I,S=I);return ht&&Qo(_,P),E}for(A=i(_,A);!I.done;P++,I=w.next())I=m(A,_,P,I.value,k),I!==null&&(r&&I.alternate!==null&&A.delete(I.key===null?P:I.key),y=n(I,y,P),S===null?E=I:S.sibling=I,S=I);return r&&A.forEach(function(L){return e(_,L)}),ht&&Qo(_,P),E}function x(_,y,w,k){if(typeof w=="object"&&w!==null&&w.type===nd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Om:e:{for(var E=w.key,S=y;S!==null;){if(S.key===E){if(E=w.type,E===nd){if(S.tag===7){t(_,S.sibling),y=s(S,w.props.children),y.return=_,_=y;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Da&&Jj(E)===S.type){t(_,S.sibling),y=s(S,w.props),y.ref=mh(_,S,w),y.return=_,_=y;break e}t(_,S);break}else e(_,S);S=S.sibling}w.type===nd?(y=vc(w.props.children,_.mode,k,w.key),y.return=_,_=y):(k=Eg(w.type,w.key,w.props,null,_.mode,k),k.ref=mh(_,y,w),k.return=_,_=k)}return o(_);case sd:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){t(_,y.sibling),y=s(y,w.children||[]),y.return=_,_=y;break e}else{t(_,y);break}else e(_,y);y=y.sibling}y=Oy(w,_.mode,k),y.return=_,_=y}return o(_);case Da:return S=w._init,x(_,y,S(w._payload),k)}if(Sh(w))return g(_,y,w,k);if(dh(w))return v(_,y,w,k);Ym(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(t(_,y.sibling),y=s(y,w),y.return=_,_=y):(t(_,y),y=My(w,_.mode,k),y.return=_,_=y),o(_)):t(_,y)}return x}var Bu=k1(!0),j1=k1(!1),bv=Uo(null),wv=null,pd=null,jk=null;function Sk(){jk=pd=wv=null}function Ek(r){var e=bv.current;lt(bv),r._currentValue=e}function Wx(r,e,t){for(;r!==null;){var i=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),r===t)break;r=r.return}}function jd(r,e){wv=r,jk=pd=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(Qr=!0),r.firstContext=null)}function Yi(r){var e=r._currentValue;if(jk!==r)if(r={context:r,memoizedValue:e,next:null},pd===null){if(wv===null)throw Error(X(308));pd=r,wv.dependencies={lanes:0,firstContext:r}}else pd=pd.next=r;return e}var cl=null;function Ak(r){cl===null?cl=[r]:cl.push(r)}function S1(r,e,t,i){var s=e.interleaved;return s===null?(t.next=t,Ak(e)):(t.next=s.next,s.next=t),e.interleaved=t,fa(r,i)}function fa(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var Fa=!1;function Nk(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E1(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ca(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function So(r,e,t){var i=r.updateQueue;if(i===null)return null;if(i=i.shared,ze&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,fa(r,t)}return s=i.interleaved,s===null?(e.next=e,Ak(i)):(e.next=s.next,s.next=e),i.interleaved=e,fa(r,t)}function xg(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=r.pendingLanes,t|=i,e.lanes=t,pk(r,t)}}function Qj(r,e){var t=r.updateQueue,i=r.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var s=null,n=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};n===null?s=n=o:n=n.next=o,t=t.next}while(t!==null);n===null?s=n=e:n=n.next=e}else s=n=e;t={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:n,shared:i.shared,effects:i.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function kv(r,e,t,i){var s=r.updateQueue;Fa=!1;var n=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?n=d:o.next=d,o=c;var h=r.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(n!==null){var p=s.baseState;o=0,h=d=c=null,l=n;do{var f=l.lane,m=l.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=r,v=l;switch(f=e,m=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){p=g.call(m,p,f);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(m,p,f):g,f==null)break e;p=bt({},p,f);break e;case 2:Fa=!0}}l.callback!==null&&l.lane!==0&&(r.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=m,c=p):h=h.next=m,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=p),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else n===null&&(s.shared.lanes=0);kc|=o,r.lanes=o,r.memoizedState=p}}function Zj(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var i=r[e],s=i.callback;if(s!==null){if(i.callback=null,i=t,typeof s!="function")throw Error(X(191,s));s.call(i)}}}var ym={},hn=Uo(ym),bp=Uo(ym),wp=Uo(ym);function dl(r){if(r===ym)throw Error(X(174));return r}function Ck(r,e){switch(it(wp,e),it(bp,r),it(hn,ym),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ax(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=Ax(e,r)}lt(hn),it(hn,e)}function Uu(){lt(hn),lt(bp),lt(wp)}function A1(r){dl(wp.current);var e=dl(hn.current),t=Ax(e,r.type);e!==t&&(it(bp,r),it(hn,t))}function Pk(r){bp.current===r&&(lt(hn),lt(bp))}var vt=Uo(0);function jv(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ty=[];function Tk(){for(var r=0;r<Ty.length;r++)Ty[r]._workInProgressVersionPrimary=null;Ty.length=0}var bg=wa.ReactCurrentDispatcher,Ry=wa.ReactCurrentBatchConfig,wc=0,yt=null,Ut=null,Zt=null,Sv=!1,Qh=!1,kp=0,wF=0;function pr(){throw Error(X(321))}function Rk(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!Ps(r[t],e[t]))return!1;return!0}function Ik(r,e,t,i,s,n){if(wc=n,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bg.current=r===null||r.memoizedState===null?EF:AF,r=t(i,s),Qh){n=0;do{if(Qh=!1,kp=0,25<=n)throw Error(X(301));n+=1,Zt=Ut=null,e.updateQueue=null,bg.current=NF,r=t(i,s)}while(Qh)}if(bg.current=Ev,e=Ut!==null&&Ut.next!==null,wc=0,Zt=Ut=yt=null,Sv=!1,e)throw Error(X(300));return r}function Dk(){var r=kp!==0;return kp=0,r}function Bs(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?yt.memoizedState=Zt=r:Zt=Zt.next=r,Zt}function Xi(){if(Ut===null){var r=yt.alternate;r=r!==null?r.memoizedState:null}else r=Ut.next;var e=Zt===null?yt.memoizedState:Zt.next;if(e!==null)Zt=e,Ut=r;else{if(r===null)throw Error(X(310));Ut=r,r={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Zt===null?yt.memoizedState=Zt=r:Zt=Zt.next=r}return Zt}function jp(r,e){return typeof e=="function"?e(r):e}function Iy(r){var e=Xi(),t=e.queue;if(t===null)throw Error(X(311));t.lastRenderedReducer=r;var i=Ut,s=i.baseQueue,n=t.pending;if(n!==null){if(s!==null){var o=s.next;s.next=n.next,n.next=o}i.baseQueue=s=n,t.pending=null}if(s!==null){n=s.next,i=i.baseState;var l=o=null,c=null,d=n;do{var h=d.lane;if((wc&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:r(i,d.action);else{var p={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=p,o=i):c=c.next=p,yt.lanes|=h,kc|=h}d=d.next}while(d!==null&&d!==n);c===null?o=i:c.next=l,Ps(i,e.memoizedState)||(Qr=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=c,t.lastRenderedState=i}if(r=t.interleaved,r!==null){s=r;do n=s.lane,yt.lanes|=n,kc|=n,s=s.next;while(s!==r)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Dy(r){var e=Xi(),t=e.queue;if(t===null)throw Error(X(311));t.lastRenderedReducer=r;var i=t.dispatch,s=t.pending,n=e.memoizedState;if(s!==null){t.pending=null;var o=s=s.next;do n=r(n,o.action),o=o.next;while(o!==s);Ps(n,e.memoizedState)||(Qr=!0),e.memoizedState=n,e.baseQueue===null&&(e.baseState=n),t.lastRenderedState=n}return[n,i]}function N1(){}function C1(r,e){var t=yt,i=Xi(),s=e(),n=!Ps(i.memoizedState,s);if(n&&(i.memoizedState=s,Qr=!0),i=i.queue,Fk(R1.bind(null,t,i,r),[r]),i.getSnapshot!==e||n||Zt!==null&&Zt.memoizedState.tag&1){if(t.flags|=2048,Sp(9,T1.bind(null,t,i,s,e),void 0,null),er===null)throw Error(X(349));wc&30||P1(t,e,s)}return s}function P1(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function T1(r,e,t,i){e.value=t,e.getSnapshot=i,I1(e)&&D1(r)}function R1(r,e,t){return t(function(){I1(e)&&D1(r)})}function I1(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!Ps(r,t)}catch{return!0}}function D1(r){var e=fa(r,1);e!==null&&Cs(e,r,1,-1)}function eS(r){var e=Bs();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:r},e.queue=r,r=r.dispatch=SF.bind(null,yt,r),[e.memoizedState,r]}function Sp(r,e,t,i){return r={tag:r,create:e,destroy:t,deps:i,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(i=t.next,t.next=r,r.next=i,e.lastEffect=r)),r}function F1(){return Xi().memoizedState}function wg(r,e,t,i){var s=Bs();yt.flags|=r,s.memoizedState=Sp(1|e,t,void 0,i===void 0?null:i)}function A_(r,e,t,i){var s=Xi();i=i===void 0?null:i;var n=void 0;if(Ut!==null){var o=Ut.memoizedState;if(n=o.destroy,i!==null&&Rk(i,o.deps)){s.memoizedState=Sp(e,t,n,i);return}}yt.flags|=r,s.memoizedState=Sp(1|e,t,n,i)}function tS(r,e){return wg(8390656,8,r,e)}function Fk(r,e){return A_(2048,8,r,e)}function L1(r,e){return A_(4,2,r,e)}function M1(r,e){return A_(4,4,r,e)}function O1(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function $1(r,e,t){return t=t!=null?t.concat([r]):null,A_(4,4,O1.bind(null,e,r),t)}function Lk(){}function V1(r,e){var t=Xi();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Rk(e,i[1])?i[0]:(t.memoizedState=[r,e],r)}function z1(r,e){var t=Xi();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Rk(e,i[1])?i[0]:(r=r(),t.memoizedState=[r,e],r)}function B1(r,e,t){return wc&21?(Ps(t,e)||(t=WA(),yt.lanes|=t,kc|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,Qr=!0),r.memoizedState=t)}function kF(r,e){var t=Ye;Ye=t!==0&&4>t?t:4,r(!0);var i=Ry.transition;Ry.transition={};try{r(!1),e()}finally{Ye=t,Ry.transition=i}}function U1(){return Xi().memoizedState}function jF(r,e,t){var i=Ao(r);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},q1(r))H1(e,t);else if(t=S1(r,e,t,i),t!==null){var s=Lr();Cs(t,r,i,s),G1(t,e,i)}}function SF(r,e,t){var i=Ao(r),s={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(q1(r))H1(e,s);else{var n=r.alternate;if(r.lanes===0&&(n===null||n.lanes===0)&&(n=e.lastRenderedReducer,n!==null))try{var o=e.lastRenderedState,l=n(o,t);if(s.hasEagerState=!0,s.eagerState=l,Ps(l,o)){var c=e.interleaved;c===null?(s.next=s,Ak(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}t=S1(r,e,s,i),t!==null&&(s=Lr(),Cs(t,r,i,s),G1(t,e,i))}}function q1(r){var e=r.alternate;return r===yt||e!==null&&e===yt}function H1(r,e){Qh=Sv=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function G1(r,e,t){if(t&4194240){var i=e.lanes;i&=r.pendingLanes,t|=i,e.lanes=t,pk(r,t)}}var Ev={readContext:Yi,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},EF={readContext:Yi,useCallback:function(r,e){return Bs().memoizedState=[r,e===void 0?null:e],r},useContext:Yi,useEffect:tS,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,wg(4194308,4,O1.bind(null,e,r),t)},useLayoutEffect:function(r,e){return wg(4194308,4,r,e)},useInsertionEffect:function(r,e){return wg(4,2,r,e)},useMemo:function(r,e){var t=Bs();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var i=Bs();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},i.queue=r,r=r.dispatch=jF.bind(null,yt,r),[i.memoizedState,r]},useRef:function(r){var e=Bs();return r={current:r},e.memoizedState=r},useState:eS,useDebugValue:Lk,useDeferredValue:function(r){return Bs().memoizedState=r},useTransition:function(){var r=eS(!1),e=r[0];return r=kF.bind(null,r[1]),Bs().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var i=yt,s=Bs();if(ht){if(t===void 0)throw Error(X(407));t=t()}else{if(t=e(),er===null)throw Error(X(349));wc&30||P1(i,e,t)}s.memoizedState=t;var n={value:t,getSnapshot:e};return s.queue=n,tS(R1.bind(null,i,n,r),[r]),i.flags|=2048,Sp(9,T1.bind(null,i,n,t,e),void 0,null),t},useId:function(){var r=Bs(),e=er.identifierPrefix;if(ht){var t=la,i=oa;t=(i&~(1<<32-Ns(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=kp++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=wF++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},AF={readContext:Yi,useCallback:V1,useContext:Yi,useEffect:Fk,useImperativeHandle:$1,useInsertionEffect:L1,useLayoutEffect:M1,useMemo:z1,useReducer:Iy,useRef:F1,useState:function(){return Iy(jp)},useDebugValue:Lk,useDeferredValue:function(r){var e=Xi();return B1(e,Ut.memoizedState,r)},useTransition:function(){var r=Iy(jp)[0],e=Xi().memoizedState;return[r,e]},useMutableSource:N1,useSyncExternalStore:C1,useId:U1,unstable_isNewReconciler:!1},NF={readContext:Yi,useCallback:V1,useContext:Yi,useEffect:Fk,useImperativeHandle:$1,useInsertionEffect:L1,useLayoutEffect:M1,useMemo:z1,useReducer:Dy,useRef:F1,useState:function(){return Dy(jp)},useDebugValue:Lk,useDeferredValue:function(r){var e=Xi();return Ut===null?e.memoizedState=r:B1(e,Ut.memoizedState,r)},useTransition:function(){var r=Dy(jp)[0],e=Xi().memoizedState;return[r,e]},useMutableSource:N1,useSyncExternalStore:C1,useId:U1,unstable_isNewReconciler:!1};function ss(r,e){if(r&&r.defaultProps){e=bt({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function Kx(r,e,t,i){e=r.memoizedState,t=t(i,e),t=t==null?e:bt({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var N_={isMounted:function(r){return(r=r._reactInternals)?Fc(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var i=Lr(),s=Ao(r),n=ca(i,s);n.payload=e,t!=null&&(n.callback=t),e=So(r,n,s),e!==null&&(Cs(e,r,s,i),xg(e,r,s))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var i=Lr(),s=Ao(r),n=ca(i,s);n.tag=1,n.payload=e,t!=null&&(n.callback=t),e=So(r,n,s),e!==null&&(Cs(e,r,s,i),xg(e,r,s))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=Lr(),i=Ao(r),s=ca(t,i);s.tag=2,e!=null&&(s.callback=e),e=So(r,s,i),e!==null&&(Cs(e,r,i,t),xg(e,r,i))}};function rS(r,e,t,i,s,n,o){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(i,n,o):e.prototype&&e.prototype.isPureReactComponent?!vp(t,i)||!vp(s,n):!0}function W1(r,e,t){var i=!1,s=Fo,n=e.contextType;return typeof n=="object"&&n!==null?n=Yi(n):(s=ei(e)?xc:Sr.current,i=e.contextTypes,n=(i=i!=null)?Vu(r,s):Fo),e=new e(t,n),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=N_,r.stateNode=e,e._reactInternals=r,i&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=n),e}function iS(r,e,t,i){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==r&&N_.enqueueReplaceState(e,e.state,null)}function Yx(r,e,t,i){var s=r.stateNode;s.props=t,s.state=r.memoizedState,s.refs={},Nk(r);var n=e.contextType;typeof n=="object"&&n!==null?s.context=Yi(n):(n=ei(e)?xc:Sr.current,s.context=Vu(r,n)),s.state=r.memoizedState,n=e.getDerivedStateFromProps,typeof n=="function"&&(Kx(r,e,n,t),s.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&N_.enqueueReplaceState(s,s.state,null),kv(r,t,s,i),s.state=r.memoizedState),typeof s.componentDidMount=="function"&&(r.flags|=4194308)}function qu(r,e){try{var t="",i=e;do t+=rD(i),i=i.return;while(i);var s=t}catch(n){s=`
Error generating stack: `+n.message+`
`+n.stack}return{value:r,source:e,stack:s,digest:null}}function Fy(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function Xx(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var CF=typeof WeakMap=="function"?WeakMap:Map;function K1(r,e,t){t=ca(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Nv||(Nv=!0,ab=i),Xx(r,e)},t}function Y1(r,e,t){t=ca(-1,t),t.tag=3;var i=r.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;t.payload=function(){return i(s)},t.callback=function(){Xx(r,e)}}var n=r.stateNode;return n!==null&&typeof n.componentDidCatch=="function"&&(t.callback=function(){Xx(r,e),typeof i!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function sS(r,e,t){var i=r.pingCache;if(i===null){i=r.pingCache=new CF;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(t)||(s.add(t),r=UF.bind(null,r,e,t),e.then(r,r))}function nS(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function aS(r,e,t,i,s){return r.mode&1?(r.flags|=65536,r.lanes=s,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ca(-1,1),e.tag=2,So(t,e,1))),t.lanes|=1),r)}var PF=wa.ReactCurrentOwner,Qr=!1;function Dr(r,e,t,i){e.child=r===null?j1(e,null,t,i):Bu(e,r.child,t,i)}function oS(r,e,t,i,s){t=t.render;var n=e.ref;return jd(e,s),i=Ik(r,e,t,i,n,s),t=Dk(),r!==null&&!Qr?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~s,ma(r,e,s)):(ht&&t&&bk(e),e.flags|=1,Dr(r,e,i,s),e.child)}function lS(r,e,t,i,s){if(r===null){var n=t.type;return typeof n=="function"&&!qk(n)&&n.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=n,X1(r,e,n,i,s)):(r=Eg(t.type,null,i,e,e.mode,s),r.ref=e.ref,r.return=e,e.child=r)}if(n=r.child,!(r.lanes&s)){var o=n.memoizedProps;if(t=t.compare,t=t!==null?t:vp,t(o,i)&&r.ref===e.ref)return ma(r,e,s)}return e.flags|=1,r=No(n,i),r.ref=e.ref,r.return=e,e.child=r}function X1(r,e,t,i,s){if(r!==null){var n=r.memoizedProps;if(vp(n,i)&&r.ref===e.ref)if(Qr=!1,e.pendingProps=i=n,(r.lanes&s)!==0)r.flags&131072&&(Qr=!0);else return e.lanes=r.lanes,ma(r,e,s)}return Jx(r,e,t,i,s)}function J1(r,e,t){var i=e.pendingProps,s=i.children,n=r!==null?r.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(md,gi),gi|=t;else{if(!(t&1073741824))return r=n!==null?n.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,it(md,gi),gi|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=n!==null?n.baseLanes:t,it(md,gi),gi|=i}else n!==null?(i=n.baseLanes|t,e.memoizedState=null):i=t,it(md,gi),gi|=i;return Dr(r,e,s,t),e.child}function Q1(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Jx(r,e,t,i,s){var n=ei(t)?xc:Sr.current;return n=Vu(e,n),jd(e,s),t=Ik(r,e,t,i,n,s),i=Dk(),r!==null&&!Qr?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~s,ma(r,e,s)):(ht&&i&&bk(e),e.flags|=1,Dr(r,e,t,s),e.child)}function cS(r,e,t,i,s){if(ei(t)){var n=!0;_v(e)}else n=!1;if(jd(e,s),e.stateNode===null)kg(r,e),W1(e,t,i),Yx(e,t,i,s),i=!0;else if(r===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=t.contextType;typeof d=="object"&&d!==null?d=Yi(d):(d=ei(t)?xc:Sr.current,d=Vu(e,d));var h=t.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||c!==d)&&iS(e,o,i,d),Fa=!1;var f=e.memoizedState;o.state=f,kv(e,i,o,s),c=e.memoizedState,l!==i||f!==c||Zr.current||Fa?(typeof h=="function"&&(Kx(e,t,h,i),c=e.memoizedState),(l=Fa||rS(e,t,l,i,f,c,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),o.props=i,o.state=c,o.context=d,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,E1(r,e),l=e.memoizedProps,d=e.type===e.elementType?l:ss(e.type,l),o.props=d,p=e.pendingProps,f=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=Yi(c):(c=ei(t)?xc:Sr.current,c=Vu(e,c));var m=t.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||f!==c)&&iS(e,o,i,c),Fa=!1,f=e.memoizedState,o.state=f,kv(e,i,o,s);var g=e.memoizedState;l!==p||f!==g||Zr.current||Fa?(typeof m=="function"&&(Kx(e,t,m,i),g=e.memoizedState),(d=Fa||rS(e,t,d,i,f,g,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===r.memoizedProps&&f===r.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&f===r.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||l===r.memoizedProps&&f===r.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&f===r.memoizedState||(e.flags|=1024),i=!1)}return Qx(r,e,t,i,n,s)}function Qx(r,e,t,i,s,n){Q1(r,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&Kj(e,t,!1),ma(r,e,n);i=e.stateNode,PF.current=e;var l=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,r!==null&&o?(e.child=Bu(e,r.child,null,n),e.child=Bu(e,null,l,n)):Dr(r,e,l,n),e.memoizedState=i.state,s&&Kj(e,t,!0),e.child}function Z1(r){var e=r.stateNode;e.pendingContext?Wj(r,e.pendingContext,e.pendingContext!==e.context):e.context&&Wj(r,e.context,!1),Ck(r,e.containerInfo)}function dS(r,e,t,i,s){return zu(),kk(s),e.flags|=256,Dr(r,e,t,i),e.child}var Zx={dehydrated:null,treeContext:null,retryLane:0};function eb(r){return{baseLanes:r,cachePool:null,transitions:null}}function eN(r,e,t){var i=e.pendingProps,s=vt.current,n=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=r!==null&&r.memoizedState===null?!1:(s&2)!==0),l?(n=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(s|=1),it(vt,s&1),r===null)return Gx(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,r=i.fallback,n?(i=e.mode,n=e.child,o={mode:"hidden",children:o},!(i&1)&&n!==null?(n.childLanes=0,n.pendingProps=o):n=T_(o,i,0,null),r=vc(r,i,t,null),n.return=e,r.return=e,n.sibling=r,e.child=n,e.child.memoizedState=eb(t),e.memoizedState=Zx,r):Mk(e,o));if(s=r.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return TF(r,e,o,i,l,s,t);if(n){n=i.fallback,o=e.mode,s=r.child,l=s.sibling;var c={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=No(s,c),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?n=No(l,n):(n=vc(n,o,t,null),n.flags|=2),n.return=e,i.return=e,i.sibling=n,e.child=i,i=n,n=e.child,o=r.child.memoizedState,o=o===null?eb(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},n.memoizedState=o,n.childLanes=r.childLanes&~t,e.memoizedState=Zx,i}return n=r.child,r=n.sibling,i=No(n,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=i,e.memoizedState=null,i}function Mk(r,e){return e=T_({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function Xm(r,e,t,i){return i!==null&&kk(i),Bu(e,r.child,null,t),r=Mk(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function TF(r,e,t,i,s,n,o){if(t)return e.flags&256?(e.flags&=-257,i=Fy(Error(X(422))),Xm(r,e,o,i)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(n=i.fallback,s=e.mode,i=T_({mode:"visible",children:i.children},s,0,null),n=vc(n,s,o,null),n.flags|=2,i.return=e,n.return=e,i.sibling=n,e.child=i,e.mode&1&&Bu(e,r.child,null,o),e.child.memoizedState=eb(o),e.memoizedState=Zx,n);if(!(e.mode&1))return Xm(r,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,n=Error(X(419)),i=Fy(n,i,void 0),Xm(r,e,o,i)}if(l=(o&r.childLanes)!==0,Qr||l){if(i=er,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==n.retryLane&&(n.retryLane=s,fa(r,s),Cs(i,r,s,-1))}return Uk(),i=Fy(Error(X(421))),Xm(r,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=r.child,e=qF.bind(null,r),s._reactRetry=e,null):(r=n.treeContext,wi=jo(s.nextSibling),ki=e,ht=!0,bs=null,r!==null&&($i[Vi++]=oa,$i[Vi++]=la,$i[Vi++]=bc,oa=r.id,la=r.overflow,bc=e),e=Mk(e,i.children),e.flags|=4096,e)}function uS(r,e,t){r.lanes|=e;var i=r.alternate;i!==null&&(i.lanes|=e),Wx(r.return,e,t)}function Ly(r,e,t,i,s){var n=r.memoizedState;n===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:s}:(n.isBackwards=e,n.rendering=null,n.renderingStartTime=0,n.last=i,n.tail=t,n.tailMode=s)}function tN(r,e,t){var i=e.pendingProps,s=i.revealOrder,n=i.tail;if(Dr(r,e,i.children,t),i=vt.current,i&2)i=i&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&uS(r,t,e);else if(r.tag===19)uS(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}i&=1}if(it(vt,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)r=t.alternate,r!==null&&jv(r)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),Ly(e,!1,s,t,n);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(r=s.alternate,r!==null&&jv(r)===null){e.child=s;break}r=s.sibling,s.sibling=t,t=s,s=r}Ly(e,!0,t,null,n);break;case"together":Ly(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kg(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function ma(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),kc|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(X(153));if(e.child!==null){for(r=e.child,t=No(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=No(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function RF(r,e,t){switch(e.tag){case 3:Z1(e),zu();break;case 5:A1(e);break;case 1:ei(e.type)&&_v(e);break;case 4:Ck(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;it(bv,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(it(vt,vt.current&1),e.flags|=128,null):t&e.child.childLanes?eN(r,e,t):(it(vt,vt.current&1),r=ma(r,e,t),r!==null?r.sibling:null);it(vt,vt.current&1);break;case 19:if(i=(t&e.childLanes)!==0,r.flags&128){if(i)return tN(r,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),it(vt,vt.current),i)break;return null;case 22:case 23:return e.lanes=0,J1(r,e,t)}return ma(r,e,t)}var rN,tb,iN,sN;rN=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};tb=function(){};iN=function(r,e,t,i){var s=r.memoizedProps;if(s!==i){r=e.stateNode,dl(hn.current);var n=null;switch(t){case"input":s=kx(r,s),i=kx(r,i),n=[];break;case"select":s=bt({},s,{value:void 0}),i=bt({},i,{value:void 0}),n=[];break;case"textarea":s=Ex(r,s),i=Ex(r,i),n=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(r.onclick=gv)}Nx(t,i);var o;t=null;for(d in s)if(!i.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(dp.hasOwnProperty(d)?n||(n=[]):(n=n||[]).push(d,null));for(d in i){var c=i[d];if(l=s!=null?s[d]:void 0,i.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(n||(n=[]),n.push(d,t)),t=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(n=n||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(n=n||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(dp.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&at("scroll",r),n||l===c||(n=[])):(n=n||[]).push(d,c))}t&&(n=n||[]).push("style",t);var d=n;(e.updateQueue=d)&&(e.flags|=4)}};sN=function(r,e,t,i){t!==i&&(e.flags|=4)};function gh(r,e){if(!ht)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:i.sibling=null}}function fr(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,i=0;if(e)for(var s=r.child;s!==null;)t|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=r,s=s.sibling;else for(s=r.child;s!==null;)t|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=r,s=s.sibling;return r.subtreeFlags|=i,r.childLanes=t,e}function IF(r,e,t){var i=e.pendingProps;switch(wk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(e),null;case 1:return ei(e.type)&&vv(),fr(e),null;case 3:return i=e.stateNode,Uu(),lt(Zr),lt(Sr),Tk(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(r===null||r.child===null)&&(Km(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bs!==null&&(cb(bs),bs=null))),tb(r,e),fr(e),null;case 5:Pk(e);var s=dl(wp.current);if(t=e.type,r!==null&&e.stateNode!=null)iN(r,e,t,i,s),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(X(166));return fr(e),null}if(r=dl(hn.current),Km(e)){i=e.stateNode,t=e.type;var n=e.memoizedProps;switch(i[on]=e,i[xp]=n,r=(e.mode&1)!==0,t){case"dialog":at("cancel",i),at("close",i);break;case"iframe":case"object":case"embed":at("load",i);break;case"video":case"audio":for(s=0;s<Ah.length;s++)at(Ah[s],i);break;case"source":at("error",i);break;case"img":case"image":case"link":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"input":xj(i,n),at("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!n.multiple},at("invalid",i);break;case"textarea":wj(i,n),at("invalid",i)}Nx(t,n),s=null;for(var o in n)if(n.hasOwnProperty(o)){var l=n[o];o==="children"?typeof l=="string"?i.textContent!==l&&(n.suppressHydrationWarning!==!0&&Wm(i.textContent,l,r),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(n.suppressHydrationWarning!==!0&&Wm(i.textContent,l,r),s=["children",""+l]):dp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&at("scroll",i)}switch(t){case"input":$m(i),bj(i,n,!0);break;case"textarea":$m(i),kj(i);break;case"select":case"option":break;default:typeof n.onClick=="function"&&(i.onclick=gv)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=RA(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=o.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof i.is=="string"?r=o.createElement(t,{is:i.is}):(r=o.createElement(t),t==="select"&&(o=r,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):r=o.createElementNS(r,t),r[on]=e,r[xp]=i,rN(r,e,!1,!1),e.stateNode=r;e:{switch(o=Cx(t,i),t){case"dialog":at("cancel",r),at("close",r),s=i;break;case"iframe":case"object":case"embed":at("load",r),s=i;break;case"video":case"audio":for(s=0;s<Ah.length;s++)at(Ah[s],r);s=i;break;case"source":at("error",r),s=i;break;case"img":case"image":case"link":at("error",r),at("load",r),s=i;break;case"details":at("toggle",r),s=i;break;case"input":xj(r,i),s=kx(r,i),at("invalid",r);break;case"option":s=i;break;case"select":r._wrapperState={wasMultiple:!!i.multiple},s=bt({},i,{value:void 0}),at("invalid",r);break;case"textarea":wj(r,i),s=Ex(r,i),at("invalid",r);break;default:s=i}Nx(t,s),l=s;for(n in l)if(l.hasOwnProperty(n)){var c=l[n];n==="style"?FA(r,c):n==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&IA(r,c)):n==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&up(r,c):typeof c=="number"&&up(r,""+c):n!=="suppressContentEditableWarning"&&n!=="suppressHydrationWarning"&&n!=="autoFocus"&&(dp.hasOwnProperty(n)?c!=null&&n==="onScroll"&&at("scroll",r):c!=null&&ok(r,n,c,o))}switch(t){case"input":$m(r),bj(r,i,!1);break;case"textarea":$m(r),kj(r);break;case"option":i.value!=null&&r.setAttribute("value",""+Do(i.value));break;case"select":r.multiple=!!i.multiple,n=i.value,n!=null?xd(r,!!i.multiple,n,!1):i.defaultValue!=null&&xd(r,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(r.onclick=gv)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fr(e),null;case 6:if(r&&e.stateNode!=null)sN(r,e,r.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(X(166));if(t=dl(wp.current),dl(hn.current),Km(e)){if(i=e.stateNode,t=e.memoizedProps,i[on]=e,(n=i.nodeValue!==t)&&(r=ki,r!==null))switch(r.tag){case 3:Wm(i.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Wm(i.nodeValue,t,(r.mode&1)!==0)}n&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[on]=e,e.stateNode=i}return fr(e),null;case 13:if(lt(vt),i=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ht&&wi!==null&&e.mode&1&&!(e.flags&128))w1(),zu(),e.flags|=98560,n=!1;else if(n=Km(e),i!==null&&i.dehydrated!==null){if(r===null){if(!n)throw Error(X(318));if(n=e.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(X(317));n[on]=e}else zu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fr(e),n=!1}else bs!==null&&(cb(bs),bs=null),n=!0;if(!n)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(r!==null&&r.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(r===null||vt.current&1?qt===0&&(qt=3):Uk())),e.updateQueue!==null&&(e.flags|=4),fr(e),null);case 4:return Uu(),tb(r,e),r===null&&_p(e.stateNode.containerInfo),fr(e),null;case 10:return Ek(e.type._context),fr(e),null;case 17:return ei(e.type)&&vv(),fr(e),null;case 19:if(lt(vt),n=e.memoizedState,n===null)return fr(e),null;if(i=(e.flags&128)!==0,o=n.rendering,o===null)if(i)gh(n,!1);else{if(qt!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(o=jv(r),o!==null){for(e.flags|=128,gh(n,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)n=t,r=i,n.flags&=14680066,o=n.alternate,o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return it(vt,vt.current&1|2),e.child}r=r.sibling}n.tail!==null&&At()>Hu&&(e.flags|=128,i=!0,gh(n,!1),e.lanes=4194304)}else{if(!i)if(r=jv(o),r!==null){if(e.flags|=128,i=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),gh(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!ht)return fr(e),null}else 2*At()-n.renderingStartTime>Hu&&t!==1073741824&&(e.flags|=128,i=!0,gh(n,!1),e.lanes=4194304);n.isBackwards?(o.sibling=e.child,e.child=o):(t=n.last,t!==null?t.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=At(),e.sibling=null,t=vt.current,it(vt,i?t&1|2:t&1),e):(fr(e),null);case 22:case 23:return Bk(),i=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?gi&1073741824&&(fr(e),e.subtreeFlags&6&&(e.flags|=8192)):fr(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function DF(r,e){switch(wk(e),e.tag){case 1:return ei(e.type)&&vv(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return Uu(),lt(Zr),lt(Sr),Tk(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return Pk(e),null;case 13:if(lt(vt),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(X(340));zu()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return lt(vt),null;case 4:return Uu(),null;case 10:return Ek(e.type._context),null;case 22:case 23:return Bk(),null;case 24:return null;default:return null}}var Jm=!1,kr=!1,FF=typeof WeakSet=="function"?WeakSet:Set,ae=null;function fd(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){jt(r,e,i)}else t.current=null}function rb(r,e,t){try{t()}catch(i){jt(r,e,i)}}var hS=!1;function LF(r,e){if($x=pv,r=c1(),xk(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var s=i.anchorOffset,n=i.focusNode;i=i.focusOffset;try{t.nodeType,n.nodeType}catch{t=null;break e}var o=0,l=-1,c=-1,d=0,h=0,p=r,f=null;t:for(;;){for(var m;p!==t||s!==0&&p.nodeType!==3||(l=o+s),p!==n||i!==0&&p.nodeType!==3||(c=o+i),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)f=p,p=m;for(;;){if(p===r)break t;if(f===t&&++d===s&&(l=o),f===n&&++h===i&&(c=o),(m=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=m}t=l===-1||c===-1?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Vx={focusedElem:r,selectionRange:t},pv=!1,ae=e;ae!==null;)if(e=ae,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,ae=r;else for(;ae!==null;){e=ae;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,x=g.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:ss(e.type,v),x);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(k){jt(e,e.return,k)}if(r=e.sibling,r!==null){r.return=e.return,ae=r;break}ae=e.return}return g=hS,hS=!1,g}function Zh(r,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&r)===r){var n=s.destroy;s.destroy=void 0,n!==void 0&&rb(e,t,n)}s=s.next}while(s!==i)}}function C_(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function ib(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function nN(r){var e=r.alternate;e!==null&&(r.alternate=null,nN(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[on],delete e[xp],delete e[Ux],delete e[_F],delete e[yF])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function aN(r){return r.tag===5||r.tag===3||r.tag===4}function pS(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||aN(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sb(r,e,t){var i=r.tag;if(i===5||i===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=gv));else if(i!==4&&(r=r.child,r!==null))for(sb(r,e,t),r=r.sibling;r!==null;)sb(r,e,t),r=r.sibling}function nb(r,e,t){var i=r.tag;if(i===5||i===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(i!==4&&(r=r.child,r!==null))for(nb(r,e,t),r=r.sibling;r!==null;)nb(r,e,t),r=r.sibling}var lr=null,ys=!1;function Na(r,e,t){for(t=t.child;t!==null;)oN(r,e,t),t=t.sibling}function oN(r,e,t){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(b_,t)}catch{}switch(t.tag){case 5:kr||fd(t,e);case 6:var i=lr,s=ys;lr=null,Na(r,e,t),lr=i,ys=s,lr!==null&&(ys?(r=lr,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):lr.removeChild(t.stateNode));break;case 18:lr!==null&&(ys?(r=lr,t=t.stateNode,r.nodeType===8?Cy(r.parentNode,t):r.nodeType===1&&Cy(r,t),mp(r)):Cy(lr,t.stateNode));break;case 4:i=lr,s=ys,lr=t.stateNode.containerInfo,ys=!0,Na(r,e,t),lr=i,ys=s;break;case 0:case 11:case 14:case 15:if(!kr&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var n=s,o=n.destroy;n=n.tag,o!==void 0&&(n&2||n&4)&&rb(t,e,o),s=s.next}while(s!==i)}Na(r,e,t);break;case 1:if(!kr&&(fd(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(l){jt(t,e,l)}Na(r,e,t);break;case 21:Na(r,e,t);break;case 22:t.mode&1?(kr=(i=kr)||t.memoizedState!==null,Na(r,e,t),kr=i):Na(r,e,t);break;default:Na(r,e,t)}}function fS(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new FF),e.forEach(function(i){var s=HF.bind(null,r,i);t.has(i)||(t.add(i),i.then(s,s))})}}function es(r,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];try{var n=r,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:lr=l.stateNode,ys=!1;break e;case 3:lr=l.stateNode.containerInfo,ys=!0;break e;case 4:lr=l.stateNode.containerInfo,ys=!0;break e}l=l.return}if(lr===null)throw Error(X(160));oN(n,o,s),lr=null,ys=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){jt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lN(e,r),e=e.sibling}function lN(r,e){var t=r.alternate,i=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(es(e,r),Ms(r),i&4){try{Zh(3,r,r.return),C_(3,r)}catch(v){jt(r,r.return,v)}try{Zh(5,r,r.return)}catch(v){jt(r,r.return,v)}}break;case 1:es(e,r),Ms(r),i&512&&t!==null&&fd(t,t.return);break;case 5:if(es(e,r),Ms(r),i&512&&t!==null&&fd(t,t.return),r.flags&32){var s=r.stateNode;try{up(s,"")}catch(v){jt(r,r.return,v)}}if(i&4&&(s=r.stateNode,s!=null)){var n=r.memoizedProps,o=t!==null?t.memoizedProps:n,l=r.type,c=r.updateQueue;if(r.updateQueue=null,c!==null)try{l==="input"&&n.type==="radio"&&n.name!=null&&PA(s,n),Cx(l,o);var d=Cx(l,n);for(o=0;o<c.length;o+=2){var h=c[o],p=c[o+1];h==="style"?FA(s,p):h==="dangerouslySetInnerHTML"?IA(s,p):h==="children"?up(s,p):ok(s,h,p,d)}switch(l){case"input":jx(s,n);break;case"textarea":TA(s,n);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!n.multiple;var m=n.value;m!=null?xd(s,!!n.multiple,m,!1):f!==!!n.multiple&&(n.defaultValue!=null?xd(s,!!n.multiple,n.defaultValue,!0):xd(s,!!n.multiple,n.multiple?[]:"",!1))}s[xp]=n}catch(v){jt(r,r.return,v)}}break;case 6:if(es(e,r),Ms(r),i&4){if(r.stateNode===null)throw Error(X(162));s=r.stateNode,n=r.memoizedProps;try{s.nodeValue=n}catch(v){jt(r,r.return,v)}}break;case 3:if(es(e,r),Ms(r),i&4&&t!==null&&t.memoizedState.isDehydrated)try{mp(e.containerInfo)}catch(v){jt(r,r.return,v)}break;case 4:es(e,r),Ms(r);break;case 13:es(e,r),Ms(r),s=r.child,s.flags&8192&&(n=s.memoizedState!==null,s.stateNode.isHidden=n,!n||s.alternate!==null&&s.alternate.memoizedState!==null||(Vk=At())),i&4&&fS(r);break;case 22:if(h=t!==null&&t.memoizedState!==null,r.mode&1?(kr=(d=kr)||h,es(e,r),kr=d):es(e,r),Ms(r),i&8192){if(d=r.memoizedState!==null,(r.stateNode.isHidden=d)&&!h&&r.mode&1)for(ae=r,h=r.child;h!==null;){for(p=ae=h;ae!==null;){switch(f=ae,m=f.child,f.tag){case 0:case 11:case 14:case 15:Zh(4,f,f.return);break;case 1:fd(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){jt(i,t,v)}}break;case 5:fd(f,f.return);break;case 22:if(f.memoizedState!==null){gS(p);continue}}m!==null?(m.return=f,ae=m):gS(p)}h=h.sibling}e:for(h=null,p=r;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,d?(n=s.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=DA("display",o))}catch(v){jt(r,r.return,v)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(v){jt(r,r.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===r)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break e;for(;p.sibling===null;){if(p.return===null||p.return===r)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:es(e,r),Ms(r),i&4&&fS(r);break;case 21:break;default:es(e,r),Ms(r)}}function Ms(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(aN(t)){var i=t;break e}t=t.return}throw Error(X(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(up(s,""),i.flags&=-33);var n=pS(r);nb(r,n,s);break;case 3:case 4:var o=i.stateNode.containerInfo,l=pS(r);sb(r,l,o);break;default:throw Error(X(161))}}catch(c){jt(r,r.return,c)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function MF(r,e,t){ae=r,cN(r)}function cN(r,e,t){for(var i=(r.mode&1)!==0;ae!==null;){var s=ae,n=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||Jm;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||kr;l=Jm;var d=kr;if(Jm=o,(kr=c)&&!d)for(ae=s;ae!==null;)o=ae,c=o.child,o.tag===22&&o.memoizedState!==null?vS(s):c!==null?(c.return=o,ae=c):vS(s);for(;n!==null;)ae=n,cN(n),n=n.sibling;ae=s,Jm=l,kr=d}mS(r)}else s.subtreeFlags&8772&&n!==null?(n.return=s,ae=n):mS(r)}}function mS(r){for(;ae!==null;){var e=ae;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kr||C_(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!kr)if(t===null)i.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:ss(e.type,t.memoizedProps);i.componentDidUpdate(s,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var n=e.updateQueue;n!==null&&Zj(e,n,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Zj(e,o,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&mp(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}kr||e.flags&512&&ib(e)}catch(f){jt(e,e.return,f)}}if(e===r){ae=null;break}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}}function gS(r){for(;ae!==null;){var e=ae;if(e===r){ae=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ae=t;break}ae=e.return}}function vS(r){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{C_(4,e)}catch(c){jt(e,t,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(c){jt(e,s,c)}}var n=e.return;try{ib(e)}catch(c){jt(e,n,c)}break;case 5:var o=e.return;try{ib(e)}catch(c){jt(e,o,c)}}}catch(c){jt(e,e.return,c)}if(e===r){ae=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ae=l;break}ae=e.return}}var OF=Math.ceil,Av=wa.ReactCurrentDispatcher,Ok=wa.ReactCurrentOwner,Wi=wa.ReactCurrentBatchConfig,ze=0,er=null,Rt=null,dr=0,gi=0,md=Uo(0),qt=0,Ep=null,kc=0,P_=0,$k=0,ep=null,Xr=null,Vk=0,Hu=1/0,Pn=null,Nv=!1,ab=null,Eo=null,Qm=!1,yo=null,Cv=0,tp=0,ob=null,jg=-1,Sg=0;function Lr(){return ze&6?At():jg!==-1?jg:jg=At()}function Ao(r){return r.mode&1?ze&2&&dr!==0?dr&-dr:bF.transition!==null?(Sg===0&&(Sg=WA()),Sg):(r=Ye,r!==0||(r=window.event,r=r===void 0?16:e1(r.type)),r):1}function Cs(r,e,t,i){if(50<tp)throw tp=0,ob=null,Error(X(185));gm(r,t,i),(!(ze&2)||r!==er)&&(r===er&&(!(ze&2)&&(P_|=t),qt===4&&Oa(r,dr)),ti(r,i),t===1&&ze===0&&!(e.mode&1)&&(Hu=At()+500,E_&&qo()))}function ti(r,e){var t=r.callbackNode;bD(r,e);var i=hv(r,r===er?dr:0);if(i===0)t!==null&&Ej(t),r.callbackNode=null,r.callbackPriority=0;else if(e=i&-i,r.callbackPriority!==e){if(t!=null&&Ej(t),e===1)r.tag===0?xF(_S.bind(null,r)):y1(_S.bind(null,r)),gF(function(){!(ze&6)&&qo()}),t=null;else{switch(KA(i)){case 1:t=hk;break;case 4:t=HA;break;case 16:t=uv;break;case 536870912:t=GA;break;default:t=uv}t=vN(t,dN.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function dN(r,e){if(jg=-1,Sg=0,ze&6)throw Error(X(327));var t=r.callbackNode;if(Sd()&&r.callbackNode!==t)return null;var i=hv(r,r===er?dr:0);if(i===0)return null;if(i&30||i&r.expiredLanes||e)e=Pv(r,i);else{e=i;var s=ze;ze|=2;var n=hN();(er!==r||dr!==e)&&(Pn=null,Hu=At()+500,gc(r,e));do try{zF();break}catch(l){uN(r,l)}while(!0);Sk(),Av.current=n,ze=s,Rt!==null?e=0:(er=null,dr=0,e=qt)}if(e!==0){if(e===2&&(s=Dx(r),s!==0&&(i=s,e=lb(r,s))),e===1)throw t=Ep,gc(r,0),Oa(r,i),ti(r,At()),t;if(e===6)Oa(r,i);else{if(s=r.current.alternate,!(i&30)&&!$F(s)&&(e=Pv(r,i),e===2&&(n=Dx(r),n!==0&&(i=n,e=lb(r,n))),e===1))throw t=Ep,gc(r,0),Oa(r,i),ti(r,At()),t;switch(r.finishedWork=s,r.finishedLanes=i,e){case 0:case 1:throw Error(X(345));case 2:Zo(r,Xr,Pn);break;case 3:if(Oa(r,i),(i&130023424)===i&&(e=Vk+500-At(),10<e)){if(hv(r,0)!==0)break;if(s=r.suspendedLanes,(s&i)!==i){Lr(),r.pingedLanes|=r.suspendedLanes&s;break}r.timeoutHandle=Bx(Zo.bind(null,r,Xr,Pn),e);break}Zo(r,Xr,Pn);break;case 4:if(Oa(r,i),(i&4194240)===i)break;for(e=r.eventTimes,s=-1;0<i;){var o=31-Ns(i);n=1<<o,o=e[o],o>s&&(s=o),i&=~n}if(i=s,i=At()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*OF(i/1960))-i,10<i){r.timeoutHandle=Bx(Zo.bind(null,r,Xr,Pn),i);break}Zo(r,Xr,Pn);break;case 5:Zo(r,Xr,Pn);break;default:throw Error(X(329))}}}return ti(r,At()),r.callbackNode===t?dN.bind(null,r):null}function lb(r,e){var t=ep;return r.current.memoizedState.isDehydrated&&(gc(r,e).flags|=256),r=Pv(r,e),r!==2&&(e=Xr,Xr=t,e!==null&&cb(e)),r}function cb(r){Xr===null?Xr=r:Xr.push.apply(Xr,r)}function $F(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var s=t[i],n=s.getSnapshot;s=s.value;try{if(!Ps(n(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Oa(r,e){for(e&=~$k,e&=~P_,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-Ns(e),i=1<<t;r[t]=-1,e&=~i}}function _S(r){if(ze&6)throw Error(X(327));Sd();var e=hv(r,0);if(!(e&1))return ti(r,At()),null;var t=Pv(r,e);if(r.tag!==0&&t===2){var i=Dx(r);i!==0&&(e=i,t=lb(r,i))}if(t===1)throw t=Ep,gc(r,0),Oa(r,e),ti(r,At()),t;if(t===6)throw Error(X(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,Zo(r,Xr,Pn),ti(r,At()),null}function zk(r,e){var t=ze;ze|=1;try{return r(e)}finally{ze=t,ze===0&&(Hu=At()+500,E_&&qo())}}function jc(r){yo!==null&&yo.tag===0&&!(ze&6)&&Sd();var e=ze;ze|=1;var t=Wi.transition,i=Ye;try{if(Wi.transition=null,Ye=1,r)return r()}finally{Ye=i,Wi.transition=t,ze=e,!(ze&6)&&qo()}}function Bk(){gi=md.current,lt(md)}function gc(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,mF(t)),Rt!==null)for(t=Rt.return;t!==null;){var i=t;switch(wk(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&vv();break;case 3:Uu(),lt(Zr),lt(Sr),Tk();break;case 5:Pk(i);break;case 4:Uu();break;case 13:lt(vt);break;case 19:lt(vt);break;case 10:Ek(i.type._context);break;case 22:case 23:Bk()}t=t.return}if(er=r,Rt=r=No(r.current,null),dr=gi=e,qt=0,Ep=null,$k=P_=kc=0,Xr=ep=null,cl!==null){for(e=0;e<cl.length;e++)if(t=cl[e],i=t.interleaved,i!==null){t.interleaved=null;var s=i.next,n=t.pending;if(n!==null){var o=n.next;n.next=s,i.next=o}t.pending=i}cl=null}return r}function uN(r,e){do{var t=Rt;try{if(Sk(),bg.current=Ev,Sv){for(var i=yt.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Sv=!1}if(wc=0,Zt=Ut=yt=null,Qh=!1,kp=0,Ok.current=null,t===null||t.return===null){qt=1,Ep=e,Rt=null;break}e:{var n=r,o=t.return,l=t,c=e;if(e=dr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=nS(o);if(m!==null){m.flags&=-257,aS(m,o,l,n,e),m.mode&1&&sS(n,d,e),e=m,c=d;var g=e.updateQueue;if(g===null){var v=new Set;v.add(c),e.updateQueue=v}else g.add(c);break e}else{if(!(e&1)){sS(n,d,e),Uk();break e}c=Error(X(426))}}else if(ht&&l.mode&1){var x=nS(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),aS(x,o,l,n,e),kk(qu(c,l));break e}}n=c=qu(c,l),qt!==4&&(qt=2),ep===null?ep=[n]:ep.push(n),n=o;do{switch(n.tag){case 3:n.flags|=65536,e&=-e,n.lanes|=e;var _=K1(n,c,e);Qj(n,_);break e;case 1:l=c;var y=n.type,w=n.stateNode;if(!(n.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Eo===null||!Eo.has(w)))){n.flags|=65536,e&=-e,n.lanes|=e;var k=Y1(n,l,e);Qj(n,k);break e}}n=n.return}while(n!==null)}fN(t)}catch(E){e=E,Rt===t&&t!==null&&(Rt=t=t.return);continue}break}while(!0)}function hN(){var r=Av.current;return Av.current=Ev,r===null?Ev:r}function Uk(){(qt===0||qt===3||qt===2)&&(qt=4),er===null||!(kc&268435455)&&!(P_&268435455)||Oa(er,dr)}function Pv(r,e){var t=ze;ze|=2;var i=hN();(er!==r||dr!==e)&&(Pn=null,gc(r,e));do try{VF();break}catch(s){uN(r,s)}while(!0);if(Sk(),ze=t,Av.current=i,Rt!==null)throw Error(X(261));return er=null,dr=0,qt}function VF(){for(;Rt!==null;)pN(Rt)}function zF(){for(;Rt!==null&&!hD();)pN(Rt)}function pN(r){var e=gN(r.alternate,r,gi);r.memoizedProps=r.pendingProps,e===null?fN(r):Rt=e,Ok.current=null}function fN(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=DF(t,e),t!==null){t.flags&=32767,Rt=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{qt=6,Rt=null;return}}else if(t=IF(t,e,gi),t!==null){Rt=t;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=r}while(e!==null);qt===0&&(qt=5)}function Zo(r,e,t){var i=Ye,s=Wi.transition;try{Wi.transition=null,Ye=1,BF(r,e,t,i)}finally{Wi.transition=s,Ye=i}return null}function BF(r,e,t,i){do Sd();while(yo!==null);if(ze&6)throw Error(X(327));t=r.finishedWork;var s=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(X(177));r.callbackNode=null,r.callbackPriority=0;var n=t.lanes|t.childLanes;if(wD(r,n),r===er&&(Rt=er=null,dr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Qm||(Qm=!0,vN(uv,function(){return Sd(),null})),n=(t.flags&15990)!==0,t.subtreeFlags&15990||n){n=Wi.transition,Wi.transition=null;var o=Ye;Ye=1;var l=ze;ze|=4,Ok.current=null,LF(r,t),lN(t,r),lF(Vx),pv=!!$x,Vx=$x=null,r.current=t,MF(t),pD(),ze=l,Ye=o,Wi.transition=n}else r.current=t;if(Qm&&(Qm=!1,yo=r,Cv=s),n=r.pendingLanes,n===0&&(Eo=null),gD(t.stateNode),ti(r,At()),e!==null)for(i=r.onRecoverableError,t=0;t<e.length;t++)s=e[t],i(s.value,{componentStack:s.stack,digest:s.digest});if(Nv)throw Nv=!1,r=ab,ab=null,r;return Cv&1&&r.tag!==0&&Sd(),n=r.pendingLanes,n&1?r===ob?tp++:(tp=0,ob=r):tp=0,qo(),null}function Sd(){if(yo!==null){var r=KA(Cv),e=Wi.transition,t=Ye;try{if(Wi.transition=null,Ye=16>r?16:r,yo===null)var i=!1;else{if(r=yo,yo=null,Cv=0,ze&6)throw Error(X(331));var s=ze;for(ze|=4,ae=r.current;ae!==null;){var n=ae,o=n.child;if(ae.flags&16){var l=n.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ae=d;ae!==null;){var h=ae;switch(h.tag){case 0:case 11:case 15:Zh(8,h,n)}var p=h.child;if(p!==null)p.return=h,ae=p;else for(;ae!==null;){h=ae;var f=h.sibling,m=h.return;if(nN(h),h===d){ae=null;break}if(f!==null){f.return=m,ae=f;break}ae=m}}}var g=n.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ae=n}}if(n.subtreeFlags&2064&&o!==null)o.return=n,ae=o;else e:for(;ae!==null;){if(n=ae,n.flags&2048)switch(n.tag){case 0:case 11:case 15:Zh(9,n,n.return)}var _=n.sibling;if(_!==null){_.return=n.return,ae=_;break e}ae=n.return}}var y=r.current;for(ae=y;ae!==null;){o=ae;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ae=w;else e:for(o=y;ae!==null;){if(l=ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:C_(9,l)}}catch(E){jt(l,l.return,E)}if(l===o){ae=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ae=k;break e}ae=l.return}}if(ze=s,qo(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(b_,r)}catch{}i=!0}return i}finally{Ye=t,Wi.transition=e}}return!1}function yS(r,e,t){e=qu(t,e),e=K1(r,e,1),r=So(r,e,1),e=Lr(),r!==null&&(gm(r,1,e),ti(r,e))}function jt(r,e,t){if(r.tag===3)yS(r,r,t);else for(;e!==null;){if(e.tag===3){yS(e,r,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Eo===null||!Eo.has(i))){r=qu(t,r),r=Y1(e,r,1),e=So(e,r,1),r=Lr(),e!==null&&(gm(e,1,r),ti(e,r));break}}e=e.return}}function UF(r,e,t){var i=r.pingCache;i!==null&&i.delete(e),e=Lr(),r.pingedLanes|=r.suspendedLanes&t,er===r&&(dr&t)===t&&(qt===4||qt===3&&(dr&130023424)===dr&&500>At()-Vk?gc(r,0):$k|=t),ti(r,e)}function mN(r,e){e===0&&(r.mode&1?(e=Bm,Bm<<=1,!(Bm&130023424)&&(Bm=4194304)):e=1);var t=Lr();r=fa(r,e),r!==null&&(gm(r,e,t),ti(r,t))}function qF(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),mN(r,t)}function HF(r,e){var t=0;switch(r.tag){case 13:var i=r.stateNode,s=r.memoizedState;s!==null&&(t=s.retryLane);break;case 19:i=r.stateNode;break;default:throw Error(X(314))}i!==null&&i.delete(e),mN(r,t)}var gN;gN=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||Zr.current)Qr=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return Qr=!1,RF(r,e,t);Qr=!!(r.flags&131072)}else Qr=!1,ht&&e.flags&1048576&&x1(e,xv,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;kg(r,e),r=e.pendingProps;var s=Vu(e,Sr.current);jd(e,t),s=Ik(null,e,i,r,s,t);var n=Dk();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ei(i)?(n=!0,_v(e)):n=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Nk(e),s.updater=N_,e.stateNode=s,s._reactInternals=e,Yx(e,i,r,t),e=Qx(null,e,i,!0,n,t)):(e.tag=0,ht&&n&&bk(e),Dr(null,e,s,t),e=e.child),e;case 16:i=e.elementType;e:{switch(kg(r,e),r=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=WF(i),r=ss(i,r),s){case 0:e=Jx(null,e,i,r,t);break e;case 1:e=cS(null,e,i,r,t);break e;case 11:e=oS(null,e,i,r,t);break e;case 14:e=lS(null,e,i,ss(i.type,r),t);break e}throw Error(X(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:ss(i,s),Jx(r,e,i,s,t);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:ss(i,s),cS(r,e,i,s,t);case 3:e:{if(Z1(e),r===null)throw Error(X(387));i=e.pendingProps,n=e.memoizedState,s=n.element,E1(r,e),kv(e,i,null,t);var o=e.memoizedState;if(i=o.element,n.isDehydrated)if(n={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=n,e.memoizedState=n,e.flags&256){s=qu(Error(X(423)),e),e=dS(r,e,i,t,s);break e}else if(i!==s){s=qu(Error(X(424)),e),e=dS(r,e,i,t,s);break e}else for(wi=jo(e.stateNode.containerInfo.firstChild),ki=e,ht=!0,bs=null,t=j1(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(zu(),i===s){e=ma(r,e,t);break e}Dr(r,e,i,t)}e=e.child}return e;case 5:return A1(e),r===null&&Gx(e),i=e.type,s=e.pendingProps,n=r!==null?r.memoizedProps:null,o=s.children,zx(i,s)?o=null:n!==null&&zx(i,n)&&(e.flags|=32),Q1(r,e),Dr(r,e,o,t),e.child;case 6:return r===null&&Gx(e),null;case 13:return eN(r,e,t);case 4:return Ck(e,e.stateNode.containerInfo),i=e.pendingProps,r===null?e.child=Bu(e,null,i,t):Dr(r,e,i,t),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:ss(i,s),oS(r,e,i,s,t);case 7:return Dr(r,e,e.pendingProps,t),e.child;case 8:return Dr(r,e,e.pendingProps.children,t),e.child;case 12:return Dr(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,n=e.memoizedProps,o=s.value,it(bv,i._currentValue),i._currentValue=o,n!==null)if(Ps(n.value,o)){if(n.children===s.children&&!Zr.current){e=ma(r,e,t);break e}}else for(n=e.child,n!==null&&(n.return=e);n!==null;){var l=n.dependencies;if(l!==null){o=n.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(n.tag===1){c=ca(-1,t&-t),c.tag=2;var d=n.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}n.lanes|=t,c=n.alternate,c!==null&&(c.lanes|=t),Wx(n.return,t,e),l.lanes|=t;break}c=c.next}}else if(n.tag===10)o=n.type===e.type?null:n.child;else if(n.tag===18){if(o=n.return,o===null)throw Error(X(341));o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),Wx(o,t,e),o=n.sibling}else o=n.child;if(o!==null)o.return=n;else for(o=n;o!==null;){if(o===e){o=null;break}if(n=o.sibling,n!==null){n.return=o.return,o=n;break}o=o.return}n=o}Dr(r,e,s.children,t),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,jd(e,t),s=Yi(s),i=i(s),e.flags|=1,Dr(r,e,i,t),e.child;case 14:return i=e.type,s=ss(i,e.pendingProps),s=ss(i.type,s),lS(r,e,i,s,t);case 15:return X1(r,e,e.type,e.pendingProps,t);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:ss(i,s),kg(r,e),e.tag=1,ei(i)?(r=!0,_v(e)):r=!1,jd(e,t),W1(e,i,s),Yx(e,i,s,t),Qx(null,e,i,!0,r,t);case 19:return tN(r,e,t);case 22:return J1(r,e,t)}throw Error(X(156,e.tag))};function vN(r,e){return qA(r,e)}function GF(r,e,t,i){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(r,e,t,i){return new GF(r,e,t,i)}function qk(r){return r=r.prototype,!(!r||!r.isReactComponent)}function WF(r){if(typeof r=="function")return qk(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ck)return 11;if(r===dk)return 14}return 2}function No(r,e){var t=r.alternate;return t===null?(t=qi(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function Eg(r,e,t,i,s,n){var o=2;if(i=r,typeof r=="function")qk(r)&&(o=1);else if(typeof r=="string")o=5;else e:switch(r){case nd:return vc(t.children,s,n,e);case lk:o=8,s|=8;break;case yx:return r=qi(12,t,e,s|2),r.elementType=yx,r.lanes=n,r;case xx:return r=qi(13,t,e,s),r.elementType=xx,r.lanes=n,r;case bx:return r=qi(19,t,e,s),r.elementType=bx,r.lanes=n,r;case AA:return T_(t,s,n,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case SA:o=10;break e;case EA:o=9;break e;case ck:o=11;break e;case dk:o=14;break e;case Da:o=16,i=null;break e}throw Error(X(130,r==null?r:typeof r,""))}return e=qi(o,t,e,s),e.elementType=r,e.type=i,e.lanes=n,e}function vc(r,e,t,i){return r=qi(7,r,i,e),r.lanes=t,r}function T_(r,e,t,i){return r=qi(22,r,i,e),r.elementType=AA,r.lanes=t,r.stateNode={isHidden:!1},r}function My(r,e,t){return r=qi(6,r,null,e),r.lanes=t,r}function Oy(r,e,t){return e=qi(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function KF(r,e,t,i,s){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_y(0),this.expirationTimes=_y(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_y(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hk(r,e,t,i,s,n,o,l,c){return r=new KF(r,e,t,l,c),e===1?(e=1,n===!0&&(e|=8)):e=0,n=qi(3,null,null,e),r.current=n,n.stateNode=r,n.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nk(n),r}function YF(r,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sd,key:i==null?null:""+i,children:r,containerInfo:e,implementation:t}}function _N(r){if(!r)return Fo;r=r._reactInternals;e:{if(Fc(r)!==r||r.tag!==1)throw Error(X(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ei(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(r.tag===1){var t=r.type;if(ei(t))return _1(r,t,e)}return e}function yN(r,e,t,i,s,n,o,l,c){return r=Hk(t,i,!0,r,s,n,o,l,c),r.context=_N(null),t=r.current,i=Lr(),s=Ao(t),n=ca(i,s),n.callback=e??null,So(t,n,s),r.current.lanes=s,gm(r,s,i),ti(r,i),r}function R_(r,e,t,i){var s=e.current,n=Lr(),o=Ao(s);return t=_N(t),e.context===null?e.context=t:e.pendingContext=t,e=ca(n,o),e.payload={element:r},i=i===void 0?null:i,i!==null&&(e.callback=i),r=So(s,e,o),r!==null&&(Cs(r,s,o,n),xg(r,s,o)),o}function Tv(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function xS(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function Gk(r,e){xS(r,e),(r=r.alternate)&&xS(r,e)}function XF(){return null}var xN=typeof reportError=="function"?reportError:function(r){console.error(r)};function Wk(r){this._internalRoot=r}I_.prototype.render=Wk.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(X(409));R_(r,e,null,null)};I_.prototype.unmount=Wk.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;jc(function(){R_(null,r,null,null)}),e[pa]=null}};function I_(r){this._internalRoot=r}I_.prototype.unstable_scheduleHydration=function(r){if(r){var e=JA();r={blockedOn:null,target:r,priority:e};for(var t=0;t<Ma.length&&e!==0&&e<Ma[t].priority;t++);Ma.splice(t,0,r),t===0&&ZA(r)}};function Kk(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function D_(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function bS(){}function JF(r,e,t,i,s){if(s){if(typeof i=="function"){var n=i;i=function(){var d=Tv(o);n.call(d)}}var o=yN(e,i,r,0,null,!1,!1,"",bS);return r._reactRootContainer=o,r[pa]=o.current,_p(r.nodeType===8?r.parentNode:r),jc(),o}for(;s=r.lastChild;)r.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var d=Tv(c);l.call(d)}}var c=Hk(r,0,!1,null,null,!1,!1,"",bS);return r._reactRootContainer=c,r[pa]=c.current,_p(r.nodeType===8?r.parentNode:r),jc(function(){R_(e,c,t,i)}),c}function F_(r,e,t,i,s){var n=t._reactRootContainer;if(n){var o=n;if(typeof s=="function"){var l=s;s=function(){var c=Tv(o);l.call(c)}}R_(e,o,r,s)}else o=JF(t,e,r,s,i);return Tv(o)}YA=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=Eh(e.pendingLanes);t!==0&&(pk(e,t|1),ti(e,At()),!(ze&6)&&(Hu=At()+500,qo()))}break;case 13:jc(function(){var i=fa(r,1);if(i!==null){var s=Lr();Cs(i,r,1,s)}}),Gk(r,1)}};fk=function(r){if(r.tag===13){var e=fa(r,134217728);if(e!==null){var t=Lr();Cs(e,r,134217728,t)}Gk(r,134217728)}};XA=function(r){if(r.tag===13){var e=Ao(r),t=fa(r,e);if(t!==null){var i=Lr();Cs(t,r,e,i)}Gk(r,e)}};JA=function(){return Ye};QA=function(r,e){var t=Ye;try{return Ye=r,e()}finally{Ye=t}};Tx=function(r,e,t){switch(e){case"input":if(jx(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==r&&i.form===r.form){var s=S_(i);if(!s)throw Error(X(90));CA(i),jx(i,s)}}}break;case"textarea":TA(r,t);break;case"select":e=t.value,e!=null&&xd(r,!!t.multiple,e,!1)}};OA=zk;$A=jc;var QF={usingClientEntryPoint:!1,Events:[_m,cd,S_,LA,MA,zk]},vh={findFiberByHostInstance:ll,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZF={bundleType:vh.bundleType,version:vh.version,rendererPackageName:vh.rendererPackageName,rendererConfig:vh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=BA(r),r===null?null:r.stateNode},findFiberByHostInstance:vh.findFiberByHostInstance||XF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zm.isDisabled&&Zm.supportsFiber)try{b_=Zm.inject(ZF),un=Zm}catch{}}Ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QF;Ai.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kk(e))throw Error(X(200));return YF(r,e,null,t)};Ai.createRoot=function(r,e){if(!Kk(r))throw Error(X(299));var t=!1,i="",s=xN;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Hk(r,1,!1,null,null,t,!1,i,s),r[pa]=e.current,_p(r.nodeType===8?r.parentNode:r),new Wk(e)};Ai.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(X(188)):(r=Object.keys(r).join(","),Error(X(268,r)));return r=BA(e),r=r===null?null:r.stateNode,r};Ai.flushSync=function(r){return jc(r)};Ai.hydrate=function(r,e,t){if(!D_(e))throw Error(X(200));return F_(null,r,e,!0,t)};Ai.hydrateRoot=function(r,e,t){if(!Kk(r))throw Error(X(405));var i=t!=null&&t.hydratedSources||null,s=!1,n="",o=xN;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=yN(e,null,r,1,t??null,s,!1,n,o),r[pa]=e.current,_p(r),i)for(r=0;r<i.length;r++)t=i[r],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new I_(e)};Ai.render=function(r,e,t){if(!D_(e))throw Error(X(200));return F_(null,r,e,!1,t)};Ai.unmountComponentAtNode=function(r){if(!D_(r))throw Error(X(40));return r._reactRootContainer?(jc(function(){F_(null,null,r,!1,function(){r._reactRootContainer=null,r[pa]=null})}),!0):!1};Ai.unstable_batchedUpdates=zk;Ai.unstable_renderSubtreeIntoContainer=function(r,e,t,i){if(!D_(t))throw Error(X(200));if(r==null||r._reactInternals===void 0)throw Error(X(38));return F_(r,e,t,!1,i)};Ai.version="18.3.1-next-f1338f8080-20240426";function bN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bN)}catch(r){console.error(r)}}bN(),bA.exports=Ai;var eh=bA.exports;const eL=cA(eh);var wN,wS=eh;wN=wS.createRoot,wS.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ap(){return Ap=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Ap.apply(this,arguments)}var xo;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(xo||(xo={}));const kS="popstate";function tL(r){r===void 0&&(r={});function e(i,s){let{pathname:n,search:o,hash:l}=i.location;return db("",{pathname:n,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Rv(s)}return iL(e,t,null,r)}function xt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Yk(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rL(){return Math.random().toString(36).substr(2,8)}function jS(r,e){return{usr:r.state,key:r.key,idx:e}}function db(r,e,t,i){return t===void 0&&(t=null),Ap({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?th(e):e,{state:t,key:e&&e.key||i||rL()})}function Rv(r){let{pathname:e="/",search:t="",hash:i=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function th(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substr(i),r=r.substr(0,i)),r&&(e.pathname=r)}return e}function iL(r,e,t,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:n=!1}=i,o=s.history,l=xo.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(Ap({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function p(){l=xo.Pop;let x=h(),_=x==null?null:x-d;d=x,c&&c({action:l,location:v.location,delta:_})}function f(x,_){l=xo.Push;let y=db(v.location,x,_);d=h()+1;let w=jS(y,d),k=v.createHref(y);try{o.pushState(w,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(k)}n&&c&&c({action:l,location:v.location,delta:1})}function m(x,_){l=xo.Replace;let y=db(v.location,x,_);d=h();let w=jS(y,d),k=v.createHref(y);o.replaceState(w,"",k),n&&c&&c({action:l,location:v.location,delta:0})}function g(x){let _=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:Rv(x);return y=y.replace(/ $/,"%20"),xt(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let v={get action(){return l},get location(){return r(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(kS,p),c=x,()=>{s.removeEventListener(kS,p),c=null}},createHref(x){return e(s,x)},createURL:g,encodeLocation(x){let _=g(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(x){return o.go(x)}};return v}var SS;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(SS||(SS={}));function sL(r,e,t){return t===void 0&&(t="/"),nL(r,e,t)}function nL(r,e,t,i){let s=typeof e=="string"?th(e):e,n=Gu(s.pathname||"/",t);if(n==null)return null;let o=kN(r);aL(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=vL(n);l=mL(o[c],d)}return l}function kN(r,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let s=(n,o,l)=>{let c={relativePath:l===void 0?n.path||"":l,caseSensitive:n.caseSensitive===!0,childrenIndex:o,route:n};c.relativePath.startsWith("/")&&(xt(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let d=Co([i,c.relativePath]),h=t.concat(c);n.children&&n.children.length>0&&(xt(n.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),kN(n.children,e,h,d)),!(n.path==null&&!n.index)&&e.push({path:d,score:pL(d,n.index),routesMeta:h})};return r.forEach((n,o)=>{var l;if(n.path===""||!((l=n.path)!=null&&l.includes("?")))s(n,o);else for(let c of jN(n.path))s(n,o,c)}),e}function jN(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),n=t.replace(/\?$/,"");if(i.length===0)return s?[n,""]:[n];let o=jN(i.join("/")),l=[];return l.push(...o.map(c=>c===""?n:[n,c].join("/"))),s&&l.push(...o),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function aL(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:fL(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const oL=/^:[\w-]+$/,lL=3,cL=2,dL=1,uL=10,hL=-2,ES=r=>r==="*";function pL(r,e){let t=r.split("/"),i=t.length;return t.some(ES)&&(i+=hL),e&&(i+=cL),t.filter(s=>!ES(s)).reduce((s,n)=>s+(oL.test(n)?lL:n===""?dL:uL),i)}function fL(r,e){return r.length===e.length&&r.slice(0,-1).every((i,s)=>i===e[s])?r[r.length-1]-e[e.length-1]:0}function mL(r,e,t){let{routesMeta:i}=r,s={},n="/",o=[];for(let l=0;l<i.length;++l){let c=i[l],d=l===i.length-1,h=n==="/"?e:e.slice(n.length)||"/",p=ub({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),f=c.route;if(!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Co([n,p.pathname]),pathnameBase:wL(Co([n,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(n=Co([n,p.pathnameBase]))}return o}function ub(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=gL(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let n=s[0],o=n.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((d,h,p)=>{let{paramName:f,isOptional:m}=h;if(f==="*"){let v=l[p]||"";o=n.slice(0,n.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[p];return m&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:n,pathnameBase:o,pattern:r}}function gL(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Yk(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let i=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function vL(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yk(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Gu(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}const _L=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yL=r=>_L.test(r);function xL(r,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:s=""}=typeof r=="string"?th(r):r,n;if(t)if(yL(t))n=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),Yk(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+t))}t.startsWith("/")?n=AS(t.substring(1),"/"):n=AS(t,e)}else n=e;return{pathname:n,search:kL(i),hash:jL(s)}}function AS(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function $y(r,e,t,i){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bL(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xk(r,e){let t=bL(r);return e?t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function Jk(r,e,t,i){i===void 0&&(i=!1);let s;typeof r=="string"?s=th(r):(s=Ap({},r),xt(!s.pathname||!s.pathname.includes("?"),$y("?","pathname","search",s)),xt(!s.pathname||!s.pathname.includes("#"),$y("#","pathname","hash",s)),xt(!s.search||!s.search.includes("#"),$y("#","search","hash",s)));let n=r===""||s.pathname==="",o=n?"/":s.pathname,l;if(o==null)l=t;else{let p=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}l=p>=0?e[p]:"/"}let c=xL(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(n||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Co=r=>r.join("/").replace(/\/\/+/g,"/"),wL=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),kL=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,jL=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function SL(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const SN=["post","put","patch","delete"];new Set(SN);const EL=["get",...SN];new Set(EL);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Np(){return Np=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Np.apply(this,arguments)}const L_=b.createContext(null),EN=b.createContext(null),ka=b.createContext(null),M_=b.createContext(null),xn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),AN=b.createContext(null);function AL(r,e){let{relative:t}=e===void 0?{}:e;rh()||xt(!1);let{basename:i,navigator:s}=b.useContext(ka),{hash:n,pathname:o,search:l}=O_(r,{relative:t}),c=o;return i!=="/"&&(c=o==="/"?i:Co([i,o])),s.createHref({pathname:c,search:l,hash:n})}function rh(){return b.useContext(M_)!=null}function bn(){return rh()||xt(!1),b.useContext(M_).location}function NN(r){b.useContext(ka).static||b.useLayoutEffect(r)}function Ct(){let{isDataRoute:r}=b.useContext(xn);return r?BL():NL()}function NL(){rh()||xt(!1);let r=b.useContext(L_),{basename:e,future:t,navigator:i}=b.useContext(ka),{matches:s}=b.useContext(xn),{pathname:n}=bn(),o=JSON.stringify(Xk(s,t.v7_relativeSplatPath)),l=b.useRef(!1);return NN(()=>{l.current=!0}),b.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){i.go(d);return}let p=Jk(d,JSON.parse(o),n,h.relative==="path");r==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Co([e,p.pathname])),(h.replace?i.replace:i.push)(p,h.state,h)},[e,i,o,n,r])}const CL=b.createContext(null);function PL(r){let e=b.useContext(xn).outlet;return e&&b.createElement(CL.Provider,{value:r},e)}function Ji(){let{matches:r}=b.useContext(xn),e=r[r.length-1];return e?e.params:{}}function O_(r,e){let{relative:t}=e===void 0?{}:e,{future:i}=b.useContext(ka),{matches:s}=b.useContext(xn),{pathname:n}=bn(),o=JSON.stringify(Xk(s,i.v7_relativeSplatPath));return b.useMemo(()=>Jk(r,JSON.parse(o),n,t==="path"),[r,o,n,t])}function TL(r,e){return RL(r,e)}function RL(r,e,t,i){rh()||xt(!1);let{navigator:s}=b.useContext(ka),{matches:n}=b.useContext(xn),o=n[n.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=bn(),h;if(e){var p;let x=typeof e=="string"?th(e):e;c==="/"||(p=x.pathname)!=null&&p.startsWith(c)||xt(!1),h=x}else h=d;let f=h.pathname||"/",m=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=sL(r,{pathname:m}),v=ML(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Co([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Co([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),n,t,i);return e&&v?b.createElement(M_.Provider,{value:{location:Np({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:xo.Pop}},v):v}function IL(){let r=zL(),e=SL(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),t?b.createElement("pre",{style:s},t):null,null)}const DL=b.createElement(IL,null);class FL extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?b.createElement(xn.Provider,{value:this.props.routeContext},b.createElement(AN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LL(r){let{routeContext:e,match:t,children:i}=r,s=b.useContext(L_);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(xn.Provider,{value:e},i)}function ML(r,e,t,i){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),r==null){var n;if(!t)return null;if(t.errors)r=t.matches;else if((n=i)!=null&&n.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=(s=t)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);h>=0||xt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(t&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:f,errors:m}=t,g=p.route.loader&&f[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,p,f)=>{let m,g=!1,v=null,x=null;t&&(m=l&&p.route.id?l[p.route.id]:void 0,v=p.route.errorElement||DL,c&&(d<0&&f===0?(UL("route-fallback"),g=!0,x=null):d===f&&(g=!0,x=p.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),y=()=>{let w;return m?w=v:g?w=x:p.route.Component?w=b.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=h,b.createElement(LL,{match:p,routeContext:{outlet:h,matches:_,isDataRoute:t!=null},children:w})};return t&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?b.createElement(FL,{location:t.location,revalidation:t.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var CN=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(CN||{}),PN=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(PN||{});function OL(r){let e=b.useContext(L_);return e||xt(!1),e}function $L(r){let e=b.useContext(EN);return e||xt(!1),e}function VL(r){let e=b.useContext(xn);return e||xt(!1),e}function TN(r){let e=VL(),t=e.matches[e.matches.length-1];return t.route.id||xt(!1),t.route.id}function zL(){var r;let e=b.useContext(AN),t=$L(),i=TN();return e!==void 0?e:(r=t.errors)==null?void 0:r[i]}function BL(){let{router:r}=OL(CN.UseNavigateStable),e=TN(PN.UseNavigateStable),t=b.useRef(!1);return NN(()=>{t.current=!0}),b.useCallback(function(s,n){n===void 0&&(n={}),t.current&&(typeof s=="number"?r.navigate(s):r.navigate(s,Np({fromRouteId:e},n)))},[r,e])}const NS={};function UL(r,e,t){NS[r]||(NS[r]=!0)}function qL(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Cp(r){let{to:e,replace:t,state:i,relative:s}=r;rh()||xt(!1);let{future:n,static:o}=b.useContext(ka),{matches:l}=b.useContext(xn),{pathname:c}=bn(),d=Ct(),h=Jk(e,Xk(l,n.v7_relativeSplatPath),c,s==="path"),p=JSON.stringify(h);return b.useEffect(()=>d(JSON.parse(p),{replace:t,state:i,relative:s}),[d,p,s,t,i]),null}function HL(r){return PL(r.context)}function et(r){xt(!1)}function GL(r){let{basename:e="/",children:t=null,location:i,navigationType:s=xo.Pop,navigator:n,static:o=!1,future:l}=r;rh()&&xt(!1);let c=e.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:c,navigator:n,static:o,future:Np({v7_relativeSplatPath:!1},l)}),[c,l,n,o]);typeof i=="string"&&(i=th(i));let{pathname:h="/",search:p="",hash:f="",state:m=null,key:g="default"}=i,v=b.useMemo(()=>{let x=Gu(h,c);return x==null?null:{location:{pathname:x,search:p,hash:f,state:m,key:g},navigationType:s}},[c,h,p,f,m,g,s]);return v==null?null:b.createElement(ka.Provider,{value:d},b.createElement(M_.Provider,{children:t,value:v}))}function WL(r){let{children:e,location:t}=r;return TL(hb(e),t)}new Promise(()=>{});function hb(r,e){e===void 0&&(e=[]);let t=[];return b.Children.forEach(r,(i,s)=>{if(!b.isValidElement(i))return;let n=[...e,s];if(i.type===b.Fragment){t.push.apply(t,hb(i.props.children,n));return}i.type!==et&&xt(!1),!i.props.index||!i.props.children||xt(!1);let o={id:i.props.id||n.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=hb(i.props.children,n)),t.push(o)}),t}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iv(){return Iv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Iv.apply(this,arguments)}function RN(r,e){if(r==null)return{};var t={},i=Object.keys(r),s,n;for(n=0;n<i.length;n++)s=i[n],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}function KL(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function YL(r,e){return r.button===0&&(!e||e==="_self")&&!KL(r)}function pb(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let i=r[t];return e.concat(Array.isArray(i)?i.map(s=>[t,s]):[[t,i]])},[]))}function XL(r,e){let t=pb(r);return e&&e.forEach((i,s)=>{t.has(s)||e.getAll(s).forEach(n=>{t.append(s,n)})}),t}const JL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QL=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ZL="6";try{window.__reactRouterVersion=ZL}catch{}const eM=b.createContext({isTransitioning:!1}),tM="startTransition",CS=x_[tM];function rM(r){let{basename:e,children:t,future:i,window:s}=r,n=b.useRef();n.current==null&&(n.current=tL({window:s,v5Compat:!0}));let o=n.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:d}=i||{},h=b.useCallback(p=>{d&&CS?CS(()=>c(p)):c(p)},[c,d]);return b.useLayoutEffect(()=>o.listen(h),[o,h]),b.useEffect(()=>qL(i),[i]),b.createElement(GL,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,future:i})}const iM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fr=b.forwardRef(function(e,t){let{onClick:i,relative:s,reloadDocument:n,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:p}=e,f=RN(e,JL),{basename:m}=b.useContext(ka),g,v=!1;if(typeof d=="string"&&sM.test(d)&&(g=d,iM))try{let w=new URL(window.location.href),k=d.startsWith("//")?new URL(w.protocol+d):new URL(d),E=Gu(k.pathname,m);k.origin===w.origin&&E!=null?d=E+k.search+k.hash:v=!0}catch{}let x=AL(d,{relative:s}),_=aM(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:p});function y(w){i&&i(w),w.defaultPrevented||_(w)}return b.createElement("a",Iv({},f,{href:g||x,onClick:v||n?i:y,ref:t,target:c}))}),Vy=b.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:s=!1,className:n="",end:o=!1,style:l,to:c,viewTransition:d,children:h}=e,p=RN(e,QL),f=O_(c,{relative:p.relative}),m=bn(),g=b.useContext(EN),{navigator:v,basename:x}=b.useContext(ka),_=g!=null&&oM(f)&&d===!0,y=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,w=m.pathname,k=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(w=w.toLowerCase(),k=k?k.toLowerCase():null,y=y.toLowerCase()),k&&x&&(k=Gu(k,x)||k);const E=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let S=w===y||!o&&w.startsWith(y)&&w.charAt(E)==="/",A=k!=null&&(k===y||!o&&k.startsWith(y)&&k.charAt(y.length)==="/"),P={isActive:S,isPending:A,isTransitioning:_},R=S?i:void 0,I;typeof n=="function"?I=n(P):I=[n,S?"active":null,A?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(P):l;return b.createElement(Fr,Iv({},p,{"aria-current":R,className:I,ref:t,style:M,to:c,viewTransition:d}),typeof h=="function"?h(P):h)});var fb;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(fb||(fb={}));var PS;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(PS||(PS={}));function nM(r){let e=b.useContext(L_);return e||xt(!1),e}function aM(r,e){let{target:t,replace:i,state:s,preventScrollReset:n,relative:o,viewTransition:l}=e===void 0?{}:e,c=Ct(),d=bn(),h=O_(r,{relative:o});return b.useCallback(p=>{if(YL(p,t)){p.preventDefault();let f=i!==void 0?i:Rv(d)===Rv(h);c(r,{replace:f,state:s,preventScrollReset:n,relative:o,viewTransition:l})}},[d,c,h,i,s,t,r,n,o,l])}function Qk(r){let e=b.useRef(pb(r)),t=b.useRef(!1),i=bn(),s=b.useMemo(()=>XL(i.search,t.current?null:e.current),[i.search]),n=Ct(),o=b.useCallback((l,c)=>{const d=pb(typeof l=="function"?l(s):l);t.current=!0,n("?"+d,c)},[n,s]);return[s,o]}function oM(r,e){e===void 0&&(e={});let t=b.useContext(eM);t==null&&xt(!1);let{basename:i}=nM(fb.useViewTransitionState),s=O_(r,{relative:e.relative});if(!t.isTransitioning)return!1;let n=Gu(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=Gu(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ub(s.pathname,o)!=null||ub(s.pathname,n)!=null}var ln=function(){return ln=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ln.apply(this,arguments)};function ih(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t}function lM(r,e,t,i){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function l(h){try{d(i.next(h))}catch(p){o(p)}}function c(h){try{d(i.throw(h))}catch(p){o(p)}}function d(h){h.done?n(h.value):s(h.value).then(l,c)}d((i=i.apply(r,e||[])).next())})}function cM(r,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,n;i<s;i++)(n||!(i in e))&&(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return r.concat(n||Array.prototype.slice.call(e))}const dM=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class Zk extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class uM extends Zk{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class TS extends Zk{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class RS extends Zk{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var mb;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(mb||(mb={}));class hM{constructor(e,{headers:t={},customFetch:i,region:s=mb.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=dM(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return lM(this,arguments,void 0,function*(t,i={}){var s;let n,o;try{const{headers:l,method:c,body:d,signal:h,timeout:p}=i;let f={},{region:m}=i;m||(m=this.region);const g=new URL(`${this.url}/${t}`);m&&m!=="any"&&(f["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let v;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=d):typeof d=="string"?(f["Content-Type"]="text/plain",v=d):typeof FormData<"u"&&d instanceof FormData?v=d:(f["Content-Type"]="application/json",v=JSON.stringify(d)):v=d;let x=h;p&&(o=new AbortController,n=setTimeout(()=>o.abort(),p),h?(x=o.signal,h.addEventListener("abort",()=>o.abort())):x=o.signal);const _=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:v,signal:x}).catch(E=>{throw new uM(E)}),y=_.headers.get("x-relay-error");if(y&&y==="true")throw new TS(_);if(!_.ok)throw new RS(_);let w=((s=_.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),k;return w==="application/json"?k=yield _.json():w==="application/octet-stream"||w==="application/pdf"?k=yield _.blob():w==="text/event-stream"?k=_:w==="multipart/form-data"?k=yield _.formData():k=yield _.text(),{data:k,error:null,response:_}}catch(l){return{data:null,error:l,response:l instanceof RS||l instanceof TS?l.context:void 0}}finally{n&&clearTimeout(n)}})}}var pM=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},fM=class{constructor(r){var e,t;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(t=r.isMaybeSingle)!==null&&t!==void 0?t:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async n=>{let o=null,l=null,c=null,d=n.status,h=n.statusText;if(n.ok){var p,f;if(t.method!=="HEAD"){var m;const _=await n.text();_===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((m=t.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=_:l=JSON.parse(_))}const v=(p=t.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),x=(f=n.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&x&&x.length>1&&(c=parseInt(x[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,d=406,h="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const v=await n.text();try{o=JSON.parse(v),Array.isArray(o)&&n.status===404&&(l=[],o=null,d=200,h="OK")}catch{n.status===404&&v===""?(d=204,h="No Content"):o={message:v}}if(o&&t.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,d=200,h="OK"),o&&t.shouldThrowOnError)throw new pM(o)}return{error:o,data:l,count:c,status:d,statusText:h}});return this.shouldThrowOnError||(s=s.catch(n=>{var o;let l="";const c=n==null?void 0:n.cause;if(c){var d,h,p,f;const g=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",v=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";l=`${(p=n==null?void 0:n.name)!==null&&p!==void 0?p:"FetchError"}: ${n==null?void 0:n.message}`,l+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${g}`,v&&(l+=` (${v})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=n==null?void 0:n.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=n==null?void 0:n.name)!==null&&o!==void 0?o:"FetchError"}: ${n==null?void 0:n.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(r,e)}returns(){return this}overrideTypes(){return this}},mM=class extends fM{select(r){let e=!1;const t=(r??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:t,foreignTable:i,referencedTable:s=i}={}){const n=s?`${s}.order`:"order",o=this.url.searchParams.get(n);return this.url.searchParams.set(n,`${o?`${o},`:""}${r}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:t=e}={}){const i=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(i,`${r}`),this}range(r,e,{foreignTable:t,referencedTable:i=t}={}){const s=typeof i>"u"?"offset":`${i}.offset`,n=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${r}`),this.url.searchParams.set(n,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:t=!1,buffers:i=!1,wal:s=!1,format:n="text"}={}){var o;const l=[r?"analyze":null,e?"verbose":null,t?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${n}; for="${c}"; options=${l};`),n==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const IS=new RegExp("[,()]");var Kc=class extends mM{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&IS.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`in.(${t})`),this}notIn(r,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&IS.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`not.in.(${t})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:t,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const n=t===void 0?"":`(${t})`;return this.url.searchParams.append(r,`${s}fts${n}.${e}`),this}match(r){return Object.entries(r).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(r,e,t){return this.url.searchParams.append(r,`not.${e}.${t}`),this}or(r,{foreignTable:e,referencedTable:t=e}={}){const i=t?`${t}.or`:"or";return this.url.searchParams.append(i,`(${r})`),this}filter(r,e,t){return this.url.searchParams.append(r,`${e}.${t}`),this}},gM=class{constructor(r,{headers:e={},schema:t,fetch:i}){this.url=r,this.headers=new Headers(e),this.schema=t,this.fetch=i}select(r,e){const{head:t=!1,count:i}=e??{},s=t?"HEAD":"GET";let n=!1;const o=(r??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",o),i&&this.headers.append("Prefer",`count=${i}`),new Kc({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:t=!0}={}){var i;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),t||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const n=r.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(n.length>0){const o=[...new Set(n)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Kc({method:s,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:t=!1,count:i,defaultToNull:s=!0}={}){var n;const o="POST";if(this.headers.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const l=r.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Kc({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}update(r,{count:e}={}){var t;const i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Kc({method:i,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:r}={}){var e;const t="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new Kc({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},vM=class IN{constructor(e,{headers:t={},schema:i,fetch:s}={}){this.url=e,this.headers=new Headers(t),this.schemaName=i,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new gM(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new IN(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,get:s=!1,count:n}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let d;i||s?(l=i?"HEAD":"GET",Object.entries(t).filter(([p,f])=>f!==void 0).map(([p,f])=>[p,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([p,f])=>{c.searchParams.append(p,f)})):(l="POST",d=t);const h=new Headers(this.headers);return n&&h.set("Prefer",`count=${n}`),new Kc({method:l,url:c,headers:h,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class _M{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const yM="2.88.0",xM=`realtime-js/${yM}`,DN="1.0.0",bM="2.0.0",DS=DN,gb=1e4,wM=1e3,kM=100;var La;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(La||(La={}));var Lt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Lt||(Lt={}));var xs;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(xs||(xs={}));var vb;(function(r){r.websocket="websocket"})(vb||(vb={}));var sl;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(sl||(sl={}));class jM{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,i;const s=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var t,i;const s=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,t,i){var s,n;const o=e.topic,l=(s=e.ref)!==null&&s!==void 0?s:"",c=(n=e.join_ref)!==null&&n!==void 0?n:"",d=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+d.length+p.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let g=new DataView(m),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,c.length),g.setUint8(v++,l.length),g.setUint8(v++,o.length),g.setUint8(v++,d.length),g.setUint8(v++,p.length),g.setUint8(v++,t),Array.from(c,_=>g.setUint8(v++,_.charCodeAt(0))),Array.from(l,_=>g.setUint8(v++,_.charCodeAt(0))),Array.from(o,_=>g.setUint8(v++,_.charCodeAt(0))),Array.from(d,_=>g.setUint8(v++,_.charCodeAt(0))),Array.from(p,_=>g.setUint8(v++,_.charCodeAt(0)));var x=new Uint8Array(m.byteLength+i.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(i),m.byteLength),x.buffer}decode(e,t){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return t(i)}if(typeof e=="string"){const i=JSON.parse(e),[s,n,o,l,c]=i;return t({join_ref:s,ref:n,topic:o,event:l,payload:c})}return t({})}_binaryDecode(e){const t=new DataView(e),i=t.getUint8(0),s=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,s)}}_decodeUserBroadcast(e,t,i){const s=t.getUint8(1),n=t.getUint8(2),o=t.getUint8(3),l=t.getUint8(4);let c=this.HEADER_LENGTH+4;const d=i.decode(e.slice(c,c+s));c=c+s;const h=i.decode(e.slice(c,c+n));c=c+n;const p=i.decode(e.slice(c,c+o));c=c+o;const f=e.slice(c,e.byteLength),m=l===this.JSON_ENCODING?JSON.parse(i.decode(f)):f,g={type:this.BROADCAST_EVENT,event:h,payload:m};return o>0&&(g.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>t.includes(i)))}}class FN{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(tt||(tt={}));const FS=(r,e,t={})=>{var i;const s=(i=t.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((n,o)=>(n[o]=SM(o,r,e,s),n),{}):{}},SM=(r,e,t,i)=>{const s=e.find(l=>l.name===r),n=s==null?void 0:s.type,o=t[r];return n&&!i.includes(n)?LN(n,o):_b(o)},LN=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return CM(e,t)}switch(r){case tt.bool:return EM(e);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return AM(e);case tt.json:case tt.jsonb:return NM(e);case tt.timestamp:return PM(e);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return _b(e);default:return _b(e)}},_b=r=>r,EM=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},AM=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},NM=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},CM=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,i=r[t];if(r[0]==="{"&&i==="}"){let n;const o=r.slice(1,t);try{n=JSON.parse("["+o+"]")}catch{n=o?o.split(","):[]}return n.map(l=>LN(e,l))}return r},PM=r=>typeof r=="string"?r.replace(" ","T"):r,MN=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class zy{constructor(e,t,i={},s=gb){this.channel=e,this.event=t,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var LS;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(LS||(LS={}));class rp{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:n,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rp.syncState(this.state,s,n,o),this.pendingDiffs.forEach(c=>{this.state=rp.syncDiff(this.state,c,n,o)}),this.pendingDiffs=[],l()}),this.channel._on(i.diff,{},s=>{const{onJoin:n,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=rp.syncDiff(this.state,s,n,o),l())}),this.onJoin((s,n,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:n,newPresences:o})}),this.onLeave((s,n,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:n,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,s){const n=this.cloneDeep(e),o=this.transformState(t),l={},c={};return this.map(n,(d,h)=>{o[d]||(c[d]=h)}),this.map(o,(d,h)=>{const p=n[d];if(p){const f=h.map(x=>x.presence_ref),m=p.map(x=>x.presence_ref),g=h.filter(x=>m.indexOf(x.presence_ref)<0),v=p.filter(x=>f.indexOf(x.presence_ref)<0);g.length>0&&(l[d]=g),v.length>0&&(c[d]=v)}else l[d]=h}),this.syncDiff(n,{joins:l,leaves:c},i,s)}static syncDiff(e,t,i,s){const{joins:n,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(n,(l,c)=>{var d;const h=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),h.length>0){const p=e[l].map(m=>m.presence_ref),f=h.filter(m=>p.indexOf(m.presence_ref)<0);e[l].unshift(...f)}i(l,h,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const h=c.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),e[l]=d,s(l,d,c),d.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const s=e[i];return"metas"in s?t[i]=s.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):t[i]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var MS;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(MS||(MS={}));var ip;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(ip||(ip={}));var Tn;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Tn||(Tn={}));class gd{constructor(e,t={config:{}},i){var s,n;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=Lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new zy(this,xs.join,this.params,this.timeout),this.rejoinTimer=new FN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xs.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new rp(this),this.broadcastEndpointURL=MN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((n=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||n===void 0)&&n.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,s,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Lt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(m=>m.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[ip.PRESENCE]&&this.bindings[ip.PRESENCE].length>0||((n=this.params.config.presence)===null||n===void 0?void 0:n.enabled)===!0,p={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Tn.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Tn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},p)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(Tn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,_=[];for(let y=0;y<x;y++){const w=v[y],{filter:{event:k,schema:E,table:S,filter:A}}=w,P=m&&m[y];if(P&&P.event===k&&gd.isFilterValueEqual(P.schema,E)&&gd.isFilterValueEqual(P.table,S)&&gd.isFilterValueEqual(P.filter,A))_.push(Object.assign(Object.assign({},w),{id:P.id}));else{this.unsubscribe(),this.state=Lt.errored,e==null||e(Tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Tn.SUBSCRIBED);return}}).receive("error",m=>{this.state=Lt.errored,e==null||e(Tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===Lt.joined&&e===ip.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,i)}async httpSend(e,t,i={}){var s;if(t==null)return Promise.reject("Payload is required for httpSend()");const n={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(n.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:n,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(e,t={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:n,payload:o}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(n=>{var o,l,c;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&n("ok"),d.receive("ok",()=>n("ok")),d.receive("error",()=>n("error")),d.receive("timeout",()=>n("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Lt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xs.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new zy(this,xs.leave,{},e),i.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Lt.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const s=new AbortController,n=setTimeout(()=>s.abort(),i),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(n),o}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new zy(this,e,t,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>kM){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var s,n;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:h}=xs;if(i&&[l,c,d,h].indexOf(o)>=0&&i!==this._joinRef())return;let f=this._onMessage(o,t,i);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,v,x;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(v=m.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(f,i)):(n=this.bindings[o])===null||n===void 0||n.filter(m=>{var g,v,x,_,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const k=m.id,E=(g=m.filter)===null||g===void 0?void 0:g.event;return k&&((v=t.ids)===null||v===void 0?void 0:v.includes(k))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((x=t.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const k=(y=(_=m==null?void 0:m.filter)===null||_===void 0?void 0:_.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return k==="*"||k===((w=t==null?void 0:t.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:v,table:x,commit_timestamp:_,type:y,errors:w}=g;f=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:_,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(f,i)})}_isClosed(){return this.state===Lt.closed}_isJoined(){return this.state===Lt.joined}_isJoining(){return this.state===Lt.joining}_isLeaving(){return this.state===Lt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const s=e.toLocaleLowerCase(),n={type:s,filter:t,callback:i};return this.bindings[s]?this.bindings[s].push(n):this.bindings[s]=[n],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var n;return!(((n=s.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===i&&gd.isEqual(s.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xs.close,{},e)}_onError(e){this._on(xs.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=FS(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=FS(e.columns,e.old_record)),t}}const By=()=>{},eg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},TM=[1e3,2e3,5e3,1e4],RM=1e4,IM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DM{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gb,this.transport=null,this.heartbeatIntervalMs=eg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=By,this.ref=0,this.reconnectTimer=null,this.vsn=DS,this.logger=By,this.conn=null,this.sendBuffer=[],this.serializer=new jM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),!(!((i=t==null?void 0:t.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${vb.websocket}`,this.httpEndpoint=MN(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_M.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case La.connecting:return sl.Connecting;case La.open:return sl.Open;case La.closing:return sl.Closing;default:return sl.Closed}}isConnected(){return this.connectionState()===sl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,s=this.getChannels().find(n=>n.topic===i);if(s)return s;{const n=new gd(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:i,payload:s,ref:n}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${t} ${i} (${n})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(wM,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},eg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:s,payload:n,ref:o}=t,l=o?`(${o})`:"",c=n.status||"";this.log("receive",`${c} ${i} ${s} ${l}`.trim(),n),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(s,n,o)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===La.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===La.open||this.conn.readyState===La.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(xs.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${i}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([IM],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,i=!1;if(e)t=e,i=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),t=this.accessTokenValue}else t=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const n={access_token:t,version:xM};t&&s.updateJoinPayload(n),s.joinedOnce&&s._isJoined()&&s._push(xs.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new FN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},eg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,s,n,o,l,c,d,h,p,f,m;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:gb,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:eg.HEARTBEAT_INTERVAL,this.worker=(n=e==null?void 0:e.worker)!==null&&n!==void 0?n:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:By,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:DS,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:g=>TM[g-1]||RM,this.vsn){case DN:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(g,v)=>v(JSON.stringify(g)),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:(g,v)=>v(JSON.parse(g));break;case bM:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Pp=class extends Error{constructor(r,e){var t;super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function FM(r,e,t){const i=new URL(e,r);if(t)for(const[s,n]of Object.entries(t))n!==void 0&&i.searchParams.set(s,n);return i.toString()}async function LM(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function MM(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:t,path:i,query:s,body:n,headers:o}){const l=FM(r.baseUrl,i,s),c=await LM(r.auth),d=await e(l,{method:t,headers:{...n?{"Content-Type":"application/json"}:{},...c,...o},body:n?JSON.stringify(n):void 0}),h=await d.text(),p=(d.headers.get("content-type")||"").includes("application/json"),f=p&&h?JSON.parse(h):h;if(!d.ok){const m=p?f:void 0,g=m==null?void 0:m.error;throw new Pp((g==null?void 0:g.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:d.status,headers:d.headers,data:f}}}}function tg(r){return r.join("")}var OM=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:tg(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(r,e){const t={namespace:r.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${tg(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${tg(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${tg(r.namespace)}`}),!0}catch(e){if(e instanceof Pp&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(t){if(t instanceof Pp&&t.status===409)return;throw t}}};function $c(r){return r.join("")}var $M=class{constructor(r,e="",t){this.client=r,this.prefix=e,this.accessDelegation=t}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$c(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$c(r.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(r,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$c(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$c(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$c(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$c(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(t){if(t instanceof Pp&&t.status===404)return!1;throw t}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(t){if(t instanceof Pp&&t.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw t}}},VM=class{constructor(r){var i;let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const t=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=MM({baseUrl:t,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=(i=r.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new OM(this.client,e),this.tableOps=new $M(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},$_=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function gt(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var zM=class extends $_{constructor(r,e,t){super(r),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yb=class extends $_{constructor(r,e){super(r),this.name="StorageUnknownError",this.originalError=e}};const e0=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),BM=()=>Response,xb=r=>{if(Array.isArray(r))return r.map(t=>xb(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,i])=>{const s=t.replace(/([-_][a-z])/gi,n=>n.toUpperCase().replace(/[-_]/g,""));e[s]=xb(i)}),e},UM=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},qM=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function Tp(r){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(r)}function HM(r,e){if(Tp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e);if(Tp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function GM(r){var e=HM(r,"string");return Tp(e)=="symbol"?e:e+""}function WM(r,e,t){return(e=GM(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function OS(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,i)}return t}function ye(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OS(Object(t),!0).forEach(function(i){WM(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):OS(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}const Uy=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},KM=async(r,e,t)=>{r instanceof await BM()&&!(t!=null&&t.noResolveJson)?r.json().then(i=>{const s=r.status||500,n=(i==null?void 0:i.statusCode)||s+"";e(new zM(Uy(i),s,n))}).catch(i=>{e(new yb(Uy(i),i))}):e(new yb(Uy(r),r))},YM=(r,e,t,i)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||!i?s:(UM(i)?(s.headers=ye({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(i)):s.body=i,e!=null&&e.duplex&&(s.duplex=e.duplex),ye(ye({},s),t))};async function xm(r,e,t,i,s,n){return new Promise((o,l)=>{r(t,YM(e,i,s,n)).then(c=>{if(!c.ok)throw c;return i!=null&&i.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>KM(c,l,i))})}async function Rp(r,e,t,i){return xm(r,"GET",e,t,i)}async function ns(r,e,t,i,s){return xm(r,"POST",e,i,s,t)}async function bb(r,e,t,i,s){return xm(r,"PUT",e,i,s,t)}async function XM(r,e,t,i){return xm(r,"HEAD",e,ye(ye({},t),{},{noResolveJson:!0}),i)}async function t0(r,e,t,i,s){return xm(r,"DELETE",e,i,s,t)}var JM=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(gt(e))return{data:null,error:e};throw e}}};let ON;ON=Symbol.toStringTag;var QM=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[ON]="BlobDownloadBuilder",this.promise=null}asStream(){return new JM(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(gt(e))return{data:null,error:e};throw e}}};const ZM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$S={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var eO=class{constructor(r,e={},t,i){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.bucketId=t,this.fetch=e0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,e,t,i){var s=this;try{let n;const o=ye(ye({},$S),i);let l=ye(ye({},s.headers),r==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&t instanceof Blob?(n=new FormData,n.append("cacheControl",o.cacheControl),c&&n.append("metadata",s.encodeMetadata(c)),n.append("",t)):typeof FormData<"u"&&t instanceof FormData?(n=t,n.has("cacheControl")||n.append("cacheControl",o.cacheControl),c&&!n.has("metadata")&&n.append("metadata",s.encodeMetadata(c))):(n=t,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&n instanceof ReadableStream||n&&typeof n=="object"&&"pipe"in n&&typeof n.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(l=ye(ye({},l),i.headers));const d=s._removeEmptyFolders(e),h=s._getFinalPath(d),p=await(r=="PUT"?bb:ns)(s.fetch,`${s.url}/object/${h}`,n,ye({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}}async upload(r,e,t){return this.uploadOrUpdate("POST",r,e,t)}async uploadToSignedUrl(r,e,t,i){var s=this;const n=s._removeEmptyFolders(r),o=s._getFinalPath(n),l=new URL(s.url+`/object/upload/sign/${o}`);l.searchParams.set("token",e);try{let c;const d=ye({upsert:$S.upsert},i),h=ye(ye({},s.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&t instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",t)):typeof FormData<"u"&&t instanceof FormData?(c=t,c.append("cacheControl",d.cacheControl)):(c=t,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType),{data:{path:n,fullPath:(await bb(s.fetch,l.toString(),c,{headers:h})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(gt(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(r,e){var t=this;try{let i=t._getFinalPath(r);const s=ye({},t.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const n=await ns(t.fetch,`${t.url}/object/upload/sign/${i}`,{},{headers:s}),o=new URL(t.url+n.url),l=o.searchParams.get("token");if(!l)throw new $_("No token returned by API");return{data:{signedUrl:o.toString(),path:r,token:l},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}}async update(r,e,t){return this.uploadOrUpdate("PUT",r,e,t)}async move(r,e,t){var i=this;try{return{data:await ns(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}}async copy(r,e,t){var i=this;try{return{data:{path:(await ns(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:i.headers})).Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}}async createSignedUrl(r,e,t){var i=this;try{let s=i._getFinalPath(r),n=await ns(i.fetch,`${i.url}/object/sign/${s}`,ye({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:i.headers});const o=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return n={signedUrl:encodeURI(`${i.url}${n.signedURL}${o}`)},{data:n,error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}}async createSignedUrls(r,e,t){var i=this;try{const s=await ns(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:r},{headers:i.headers}),n=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{data:s.map(o=>ye(ye({},o),{},{signedUrl:o.signedURL?encodeURI(`${i.url}${o.signedURL}${n}`):null})),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}}download(r,e){const t=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=i?`?${i}`:"",n=this._getFinalPath(r),o=()=>Rp(this.fetch,`${this.url}/${t}/${n}${s}`,{headers:this.headers,noResolveJson:!0});return new QM(o,this.shouldThrowOnError)}async info(r){var e=this;const t=e._getFinalPath(r);try{return{data:xb(await Rp(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}}async exists(r){var e=this;const t=e._getFinalPath(r);try{return await XM(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(gt(i)&&i instanceof yb){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}}getPublicUrl(r,e){const t=this._getFinalPath(r),i=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&i.push(s);const n=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&i.push(o);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${n}/public/${t}${l}`)}}}async remove(r){var e=this;try{return{data:await t0(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}}async list(r,e,t){var i=this;try{const s=ye(ye(ye({},ZM),e),{},{prefix:r||""});return{data:await ns(i.fetch,`${i.url}/object/list/${i.bucketId}`,s,{headers:i.headers},t),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}}async listV2(r,e){var t=this;try{const i=ye({},r);return{data:await ns(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,i,{headers:t.headers},e),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const $N="2.88.0",VN={"X-Client-Info":`storage-js/${$N}`};var tO=class{constructor(r,e={},t,i){this.shouldThrowOnError=!1;const s=new URL(r);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=ye(ye({},VN),e),this.fetch=e0(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var e=this;try{const t=e.listBucketOptionsToQueryString(r);return{data:await Rp(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await Rp(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}}async createBucket(r,e={public:!1}){var t=this;try{return{data:await ns(t.fetch,`${t.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}}async updateBucket(r,e){var t=this;try{return{data:await bb(t.fetch,`${t.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}}async emptyBucket(r){var e=this;try{return{data:await ns(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await t0(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},rO=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ye(ye({},VN),e),this.fetch=e0(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await ns(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}}async listBuckets(r){var e=this;try{const t=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&t.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&t.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&t.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&t.set("sortOrder",r.sortOrder),r!=null&&r.search&&t.set("search",r.search);const i=t.toString(),s=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await Rp(e.fetch,s,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await t0(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}}from(r){var e=this;if(!qM(r))throw new $_("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new VM({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(t,{get(s,n){const o=s[n];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(i)throw c;return{data:null,error:c}}}}})}};const r0={"X-Client-Info":`storage-js/${$N}`,"Content-Type":"application/json"};var zN=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function yi(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var qy=class extends zN{constructor(r,e,t){super(r),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},iO=class extends zN{constructor(r,e){super(r),this.name="StorageVectorsUnknownError",this.originalError=e}};const i0=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),sO=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},VS=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),nO=async(r,e,t)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(t!=null&&t.noResolveJson)){const i=r.status||500,s=r;if(typeof s.json=="function")s.json().then(n=>{const o=(n==null?void 0:n.statusCode)||(n==null?void 0:n.code)||i+"";e(new qy(VS(n),i,o))}).catch(()=>{const n=i+"";e(new qy(s.statusText||`HTTP ${i} error`,i,n))});else{const n=i+"";e(new qy(s.statusText||`HTTP ${i} error`,i,n))}}else e(new iO(VS(r),r))},aO=(r,e,t,i)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return i?(sO(i)?(s.headers=ye({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(i)):s.body=i,ye(ye({},s),t)):s};async function oO(r,e,t,i,s,n){return new Promise((o,l)=>{r(t,aO(e,i,s,n)).then(c=>{if(!c.ok)throw c;if(i!=null&&i.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>nO(c,l,i))})}async function xi(r,e,t,i,s){return oO(r,"POST",e,i,s,t)}var lO=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ye(ye({},r0),e),this.fetch=i0(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var e=this;try{return{data:await xi(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yi(t))return{data:null,error:t};throw t}}async getIndex(r,e){var t=this;try{return{data:await xi(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(yi(i))return{data:null,error:i};throw i}}async listIndexes(r){var e=this;try{return{data:await xi(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yi(t))return{data:null,error:t};throw t}}async deleteIndex(r,e){var t=this;try{return{data:await xi(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(yi(i))return{data:null,error:i};throw i}}},cO=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ye(ye({},r0),e),this.fetch=i0(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var e=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await xi(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yi(t))return{data:null,error:t};throw t}}async getVectors(r){var e=this;try{return{data:await xi(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yi(t))return{data:null,error:t};throw t}}async listVectors(r){var e=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await xi(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yi(t))return{data:null,error:t};throw t}}async queryVectors(r){var e=this;try{return{data:await xi(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yi(t))return{data:null,error:t};throw t}}async deleteVectors(r){var e=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await xi(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yi(t))return{data:null,error:t};throw t}}},dO=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ye(ye({},r0),e),this.fetch=i0(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await xi(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yi(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await xi(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yi(t))return{data:null,error:t};throw t}}async listBuckets(r={}){var e=this;try{return{data:await xi(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yi(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await xi(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yi(t))return{data:null,error:t};throw t}}},uO=class extends dO{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new hO(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,t=this;return e().call(t,r)}async getBucket(r){var e=()=>super.getBucket,t=this;return e().call(t,r)}async listBuckets(r={}){var e=()=>super.listBuckets,t=this;return e().call(t,r)}async deleteBucket(r){var e=()=>super.deleteBucket,t=this;return e().call(t,r)}},hO=class extends lO{constructor(r,e,t,i){super(r,e,i),this.vectorBucketName=t}async createIndex(r){var e=()=>super.createIndex,t=this;return e().call(t,ye(ye({},r),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,t=this;return e().call(t,ye(ye({},r),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,r)}index(r){return new pO(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},pO=class extends cO{constructor(r,e,t,i,s){super(r,e,s),this.vectorBucketName=t,this.indexName=i}async putVectors(r){var e=()=>super.putVectors,t=this;return e().call(t,ye(ye({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(r){var e=()=>super.getVectors,t=this;return e().call(t,ye(ye({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,t=this;return e().call(t,ye(ye({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,t=this;return e().call(t,ye(ye({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,t=this;return e().call(t,ye(ye({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},fO=class extends tO{constructor(r,e={},t,i){super(r,e,t,i)}from(r){return new eO(this.url,this.headers,r,this.fetch)}get vectors(){return new uO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new rO(this.url+"/iceberg",this.headers,this.fetch)}};const BN="2.88.0",Yc=30*1e3,wb=3,Hy=wb*Yc,mO="http://localhost:9999",gO="supabase.auth.token",vO={"X-Client-Info":`gotrue-js/${BN}`},kb="X-Supabase-Api-Version",UN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_O=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yO=10*60*1e3;class Ip extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function pe(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class xO extends Ip{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function bO(r){return pe(r)&&r.name==="AuthApiError"}class nl extends Ip{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ja extends Ip{constructor(e,t,i,s){super(e,i,s),this.name=t,this.status=i}}class ri extends ja{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wO(r){return pe(r)&&r.name==="AuthSessionMissingError"}class Vc extends ja{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rg extends ja{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ig extends ja{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kO(r){return pe(r)&&r.name==="AuthImplicitGrantRedirectError"}class zS extends ja{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jO extends ja{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class jb extends ja{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Gy(r){return pe(r)&&r.name==="AuthRetryableFetchError"}class BS extends ja{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class Sb extends ja{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Dv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),US=` 	
\r=`.split(""),SO=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<US.length;e+=1)r[US[e].charCodeAt(0)]=-2;for(let e=0;e<Dv.length;e+=1)r[Dv[e].charCodeAt(0)]=e;return r})();function qS(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Dv[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Dv[i]),e.queuedBits-=6}}function qN(r,e,t){const i=SO[r];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function HS(r){const e=[],t=o=>{e.push(String.fromCodePoint(o))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},n=o=>{NO(o,i,t)};for(let o=0;o<r.length;o+=1)qN(r.charCodeAt(o),s,n);return e.join("")}function EO(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function AO(r,e){for(let t=0;t<r.length;t+=1){let i=r.charCodeAt(t);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(r.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}EO(i,e)}}function NO(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let i=1;i<6;i+=1)if(!(r>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Ed(r){const e=[],t={queue:0,queuedBits:0},i=s=>{e.push(s)};for(let s=0;s<r.length;s+=1)qN(r.charCodeAt(s),t,i);return new Uint8Array(e)}function CO(r){const e=[];return AO(r,t=>e.push(t)),new Uint8Array(e)}function ul(r){const e=[],t={queue:0,queuedBits:0},i=s=>{e.push(s)};return r.forEach(s=>qS(s,t,i)),qS(null,t,i),e.join("")}function PO(r){return Math.round(Date.now()/1e3)+r}function TO(){return Symbol("auth-callback")}const rr=()=>typeof window<"u"&&typeof document<"u",Xo={tested:!1,writable:!1},HN=()=>{if(!rr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xo.tested)return Xo.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Xo.tested=!0,Xo.writable=!0}catch{Xo.tested=!0,Xo.writable=!1}return Xo.writable};function RO(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,n)=>{e[n]=s})}catch{}return t.searchParams.forEach((i,s)=>{e[s]=i}),e}const GN=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),IO=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Xc=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Jo=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},tr=async(r,e)=>{await r.removeItem(e)};class V_{constructor(){this.promise=new V_.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}V_.promiseConstructor=Promise;function Wy(r){const e=r.split(".");if(e.length!==3)throw new Sb("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!_O.test(e[i]))throw new Sb("JWT not in base64url format");return{header:JSON.parse(HS(e[0])),payload:JSON.parse(HS(e[1])),signature:Ed(e[2]),raw:{header:e[0],payload:e[1]}}}async function DO(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function FO(r,e){return new Promise((i,s)=>{(async()=>{for(let n=0;n<1/0;n++)try{const o=await r(n);if(!e(n,null,o)){i(o);return}}catch(o){if(!e(n,o)){s(o);return}}})()})}function LO(r){return("0"+r.toString(16)).substr(-2)}function MO(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let s="";for(let n=0;n<56;n++)s+=t.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(e),Array.from(e,LO).join("")}async function OO(r){const t=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(i);return Array.from(s).map(n=>String.fromCharCode(n)).join("")}async function $O(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await OO(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zc(r,e,t=!1){const i=MO();let s=i;t&&(s+="/PASSWORD_RECOVERY"),await Xc(r,`${e}-code-verifier`,s);const n=await $O(i);return[n,i===n?"plain":"s256"]}const VO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zO(r){const e=r.headers.get(kb);if(!e||!e.match(VO))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function BO(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function UO(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bc(r){if(!qO.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ky(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function HO(r,e){return new Proxy(r,{get:(t,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const n=i.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)"||n==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,i,s)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,i,s)}})}function GS(r){return JSON.parse(JSON.stringify(r))}const el=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),GO=[502,503,504];async function WS(r){var e;if(!IO(r))throw new jb(el(r),0);if(GO.includes(r.status))throw new jb(el(r),r.status);let t;try{t=await r.json()}catch(n){throw new nl(el(n),n)}let i;const s=zO(r);if(s&&s.getTime()>=UN["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new BS(el(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new ri}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0))throw new BS(el(t),r.status,t.weak_password.reasons);throw new xO(el(t),r.status||500,i)}const WO=(r,e,t,i)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),t))};async function _e(r,e,t,i){var s;const n=Object.assign({},i==null?void 0:i.headers);n[kb]||(n[kb]=UN["2024-01-01"].name),i!=null&&i.jwt&&(n.Authorization=`Bearer ${i.jwt}`);const o=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(o.redirect_to=i.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await KO(r,e,t+l,{headers:n,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(c):{data:Object.assign({},c),error:null}}async function KO(r,e,t,i,s,n){const o=WO(e,i,s,n);let l;try{l=await r(t,Object.assign({},o))}catch(c){throw console.error(c),new jb(el(c),0)}if(l.ok||await WS(l),i!=null&&i.noResolveJson)return l;try{return await l.json()}catch(c){await WS(c)}}function ts(r){var e;let t=null;JO(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=PO(r.expires_in)));const i=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:i},error:null}}function KS(r){const e=ts(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=r.weak_password),e}function $a(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function YO(r){return{data:r,error:null}}function XO(r){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:s,verification_type:n}=r,o=ih(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:i,redirect_to:s,verification_type:n},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function YS(r){return r}function JO(r){return r.access_token&&r.refresh_token&&r.expires_in}const Yy=["global","local","others"];class QO{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=GN(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Yy[0]){if(Yy.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yy.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:$a})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=ih(e,["options"]),s=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:XO,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(pe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$a})}catch(t){if(pe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,s,n,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},h=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(n=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:""},xform:YS});if(h.error)throw h.error;const p=await h.json(),f=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);d[`${x}Page`]=v}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(pe(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Bc(e);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$a})}catch(t){if(pe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Bc(e);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:$a})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){Bc(e);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:$a})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Bc(e.userId);try{const{data:t,error:i}=await _e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:i}}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Bc(e.userId),Bc(e.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,i,s,n,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},h=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(n=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:""},xform:YS});if(h.error)throw h.error;const p=await h.json(),f=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);d[`${x}Page`]=v}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(pe(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await _e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}}function XS(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const Uc={debug:!!(globalThis&&HN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class WN extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ZO extends WN{}async function e4(r,e,t){Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await t()}finally{Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw Uc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new ZO(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Uc.debug)try{const n=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(n,null,"  "))}catch(n){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",n)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function t4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function KN(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function r4(r){return parseInt(r,16)}function i4(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function s4(r){var e;const{chainId:t,domain:i,expirationTime:s,issuedAt:n=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:h,uri:p,version:f}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const m=KN(r.address),g=h?`${h}://${i}`:i,v=r.statement?`${r.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${m}

${v}`;let _=`URI: ${p}
Version: ${f}
Chain ID: ${t}${o?`
Nonce: ${o}`:""}
Issued At: ${n.toISOString()}`;if(s&&(_+=`
Expiration Time: ${s.toISOString()}`),l&&(_+=`
Not Before: ${l.toISOString()}`),c&&(_+=`
Request ID: ${c}`),d){let y=`
Resources:`;for(const w of d){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}_+=y}return`${x}
${_}`}class Tt extends Error{constructor({message:e,code:t,cause:i,name:s}){var n;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(n=s??(i instanceof Error?i.name:void 0))!==null&&n!==void 0?n:"Unknown Error",this.code=t}}class Fv extends Tt{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function n4({error:r,options:e}){var t,i,s;const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=n.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((i=n.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((s=n.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Tt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return n.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const o=window.location.hostname;if(YN(o)){if(n.rp.id!==o)return new Tt({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new Tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function a4({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Tt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(YN(i)){if(t.rpId!==i)return new Tt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class o4{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const l4=new o4;function c4(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:i}=r,s=ih(r,["challenge","user","excludeCredentials"]),n=Ed(e).buffer,o=Object.assign(Object.assign({},t),{id:Ed(t.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:n,user:o});if(i&&i.length>0){l.excludeCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const d=i[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Ed(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function d4(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,i=ih(r,["challenge","allowCredentials"]),s=Ed(e).buffer,n=Object.assign(Object.assign({},i),{challenge:s});if(t&&t.length>0){n.allowCredentials=new Array(t.length);for(let o=0;o<t.length;o++){const l=t[o];n.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Ed(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return n}function u4(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:ul(new Uint8Array(r.response.attestationObject)),clientDataJSON:ul(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function h4(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,i=r.getClientExtensionResults(),s=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:ul(new Uint8Array(s.authenticatorData)),clientDataJSON:ul(new Uint8Array(s.clientDataJSON)),signature:ul(new Uint8Array(s.signature)),userHandle:s.userHandle?ul(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function YN(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function JS(){var r,e;return!!(rr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function p4(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fv("Browser returned unexpected credential type",e)}:{data:null,error:new Fv("Empty credential response",e)}}catch(e){return{data:null,error:n4({error:e,options:r})}}}async function f4(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fv("Browser returned unexpected credential type",e)}:{data:null,error:new Fv("Empty credential response",e)}}catch(e){return{data:null,error:a4({error:e,options:r})}}}const m4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},g4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lv(...r){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),t=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of r)if(s)for(const n in s){const o=s[n];if(o!==void 0)if(Array.isArray(o))i[n]=o;else if(t(o))i[n]=o;else if(e(o)){const l=i[n];e(l)?i[n]=Lv(l,o):i[n]=Lv(o)}else i[n]=o}return i}function v4(r,e){return Lv(m4,r,e||{})}function _4(r,e){return Lv(g4,r,e||{})}class y4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:s},n){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!o)return{data:null,error:l};const c=s??l4.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${i}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=v4(o.webauthn.credential_options.publicKey,n==null?void 0:n.create),{data:h,error:p}=await p4({publicKey:d,signal:c});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=_4(o.webauthn.credential_options.publicKey,n==null?void 0:n.request),{data:h,error:p}=await f4(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return pe(o)?{data:null,error:o}:{data:null,error:new nl("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},n){if(!t)return{data:null,error:new Ip("rpId is required for WebAuthn authentication")};try{if(!JS())return{data:null,error:new nl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:s},{request:n});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:t,rpOrigins:i,credential_response:c.credential_response}})}catch(o){return pe(o)?{data:null,error:o}:{data:null,error:new nl("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},n){if(!t)return{data:null,error:new Ip("rpId is required for WebAuthn registration")};try{if(!JS())return{data:null,error:new nl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:s},{create:n});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:t,rpOrigins:i,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return pe(o)?{data:null,error:o}:{data:null,error:new nl("Unexpected error in register",o)}}}}t4();const x4={url:mO,storageKey:gO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function QS(r,e,t){return await t()}const qc={};class Dp{get jwks(){var e,t;return(t=(e=qc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){qc[this.storageKey]=Object.assign(Object.assign({},qc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=qc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){qc[this.storageKey]=Object.assign(Object.assign({},qc[this.storageKey]),{cachedAt:e})}constructor(e){var t,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const n=Object.assign(Object.assign({},x4),e);if(this.storageKey=n.storageKey,this.instanceID=(t=Dp.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Dp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.instanceID>0&&rr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=n.persistSession,this.autoRefreshToken=n.autoRefreshToken,this.admin=new QO({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=GN(n.fetch),this.lock=n.lock||QS,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,this.throwOnError=n.throwOnError,n.lock?this.lock=n.lock:this.persistSession&&rr()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=e4:this.lock=QS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new y4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:HN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=XS(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=XS(this.memoryStorage)),rr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${BN}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},i="none";if(rr()&&(t=RO(window.location.href),this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce")),rr()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:n}=await this._getSessionFromURL(t,i);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),kO(n)){const c=(e=n.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:n}}return await this._removeSession(),{error:n}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return pe(t)?this._returnResult({error:t}):this._returnResult({error:new nl("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,s;try{const n=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ts}),{data:o,error:l}=n;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signUp(e){var t,i,s;try{let n;if("email"in e){const{email:h,password:p,options:f}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await zc(this.storage,this.storageKey)),n=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:p,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},xform:ts})}else if("phone"in e){const{phone:h,password:p,options:f}=e;n=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ts})}else throw new rg("You must provide either an email or phone number and a password");const{data:o,error:l}=n;if(l||!o)return await tr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(n){if(await tr(this.storage,`${this.storageKey}-code-verifier`),pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:o,options:l}=e;t=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:KS})}else if("phone"in e){const{phone:n,password:o,options:l}=e;t=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:KS})}else throw new rg("You must provide either an email or phone number and a password");const{data:i,error:s}=t;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const n=new Vc;return this._returnResult({data:{user:null,session:null},error:n})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(t){if(pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,i,s,n;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(n=e.options)===null||n===void 0?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,s,n,o,l,c,d,h,p,f;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:v,wallet:x,statement:_,options:y}=e;let w;if(rr())if(typeof x=="object")w=x;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")w=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const k=new URL((t=y==null?void 0:y.url)!==null&&t!==void 0?t:window.location.href),E=await w.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=KN(E[0]);let A=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!A){const R=await w.request({method:"eth_chainId"});A=r4(R)}const P={domain:k.host,address:S,statement:_,uri:k.href,version:"1",chainId:A,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=y==null?void 0:y.signInWithEthereum)===null||h===void 0?void 0:h.resources};m=s4(P),g=await w.request({method:"personal_sign",params:[i4(m),S]})}try{const{data:v,error:x}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ts});if(x)throw x;if(!v||!v.session||!v.user){const _=new Vc;return this._returnResult({data:{user:null,session:null},error:_})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(pe(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var t,i,s,n,o,l,c,d,h,p,f,m;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:x,wallet:_,statement:y,options:w}=e;let k;if(rr())if(typeof _=="object")k=_;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))k=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=_}const E=new URL((t=w==null?void 0:w.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in k&&k.signIn){const S=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),y?{statement:y}:null));let A;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")A=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)A=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)g=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),v=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${E.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(i=w==null?void 0:w.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((n=w==null?void 0:w.signInWithSolana)===null||n===void 0)&&n.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((p=(h=w==null?void 0:w.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...w.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const S=await k.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:x,error:_}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ul(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ts});if(_)throw _;if(!x||!x.session||!x.user){const y=new Vc;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:_})}catch(x){if(pe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const t=await Jo(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(t??"").split("/");try{if(!i&&this.flowType==="pkce")throw new jO;const{data:n,error:o}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:ts});if(await tr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!n||!n.session||!n.user){const l=new Vc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign(Object.assign({},n),{redirectType:s??null}),error:o})}catch(n){if(await tr(this.storage,`${this.storageKey}-code-verifier`),pe(n))return this._returnResult({data:{user:null,session:null,redirectType:null},error:n});throw n}}async signInWithIdToken(e){try{const{options:t,provider:i,token:s,access_token:n,nonce:o}=e,l=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:n,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ts}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const h=new Vc;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(t){if(pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,i,s,n,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await zc(this.storage,this.storageKey));const{error:p}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:h}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h})}throw new rg("You must provide either an email or phone number.")}catch(l){if(await tr(this.storage,`${this.storageKey}-code-verifier`),pe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var t,i;try{let s,n;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,n=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:l}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:s,xform:ts});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(s){if(pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var t,i,s,n,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await zc(this.storage,this.storageKey));const d=await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:YO});return!((n=d.data)===null||n===void 0)&&n.url&&rr()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await tr(this.storage,`${this.storageKey}-code-verifier`),pe(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new ri;const{error:s}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(pe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:s,options:n}=e,{error:o}=await _e(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},redirectTo:n==null?void 0:n.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:i,type:s,options:n}=e,{data:o,error:l}=await _e(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new rg("You must provide either an email or phone number and a type")}catch(t){if(pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Jo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Hy:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const o=await Jo(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ky()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=HO(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{session:null},error:n}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$a}):await this._useSession(async t=>{var i,s,n;const{data:o,error:l}=t;if(l)throw l;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ri}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(n=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0,xform:$a})})}catch(t){if(pe(t))return wO(t)&&(await this._removeSession(),await tr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:s,error:n}=i;if(n)throw n;if(!s.session)throw new ri;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await zc(this.storage,this.storageKey));const{data:d,error:h}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:$a});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(i){if(await tr(this.storage,`${this.storageKey}-code-verifier`),pe(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ri;const t=Date.now()/1e3;let i=t,s=!0,n=null;const{payload:o}=Wy(e.access_token);if(o.exp&&(i=o.exp,s=i<=t),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};n=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;n={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return this._returnResult({data:{user:n.user,session:n},error:null})}catch(t){if(pe(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:o,error:l}=t;if(l)throw l;e=(i=o.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new ri;const{data:s,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{user:null,session:null},error:n}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!rr())throw new ig("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ig(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new zS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ig("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new zS("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:n,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!n||!l||!o||!d)throw new ig("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(l);let f=h+p;c&&(f=parseInt(c));const m=f-h;m*1e3<=Yc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);const g=f-p;h-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,h):h-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,h);const{data:v,error:x}=await this._getUser(n);if(x)throw x;const _={provider_token:i,provider_refresh_token:s,access_token:n,expires_in:p,expires_at:f,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:e.type},error:null})}catch(i){if(pe(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Jo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:s,error:n}=t;if(n)return this._returnResult({error:n});const o=(i=s.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(bO(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await tr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=TO(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,s;try{const{data:{session:n},error:o}=t;if(o)throw o;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(n){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e,t={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await zc(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(n){if(await tr(this.storage,`${this.storageKey}-code-verifier`),pe(n))return this._returnResult({data:null,error:n});throw n}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:i,error:s}=await this._useSession(async n=>{var o,l,c,d,h;const{data:p,error:f}=n;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return rr()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(pe(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{const{error:s,data:{session:n}}=t;if(s)throw s;const{options:o,provider:l,token:c,access_token:d,nonce:h}=e,p=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=n==null?void 0:n.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:c,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ts}),{data:f,error:m}=p;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Vc}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await tr(this.storage,`${this.storageKey}-code-verifier`),pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,s;const{data:n,error:o}=t;if(o)throw o;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=n.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await FO(async s=>(s>0&&await DO(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ts})),(s,n)=>{const o=200*Math.pow(2,s);return n&&Gy(n)&&Date.now()+o-i<Yc})}catch(i){if(this._debug(t,"error",i),pe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),rr()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await Jo(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Jo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Xc(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ky()}else if(s&&!s.user&&!s.user){const o=await Jo(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await tr(this.storage,this.storageKey+"-user"),await Xc(this.storage,this.storageKey,s)):s.user=Ky()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const n=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Hy;if(this._debug(i,`session has${n?"":" not"} expired with margin of ${Hy}s`),n){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Gy(o)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(i,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new ri;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new V_;const{data:n,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!n.session)throw new ri;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const l={data:n.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(n){if(this._debug(s,"error",n),pe(n)){const o={data:null,error:n};return Gy(n)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(n),n}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,i=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(c){n.push(c)}});if(await Promise.all(o),n.length>0){for(let l=0;l<n.length;l+=1)console.error(n[l]);throw n[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await tr(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await Xc(this.userStorage,this.storageKey+"-user",{user:t.user});const s=Object.assign({},t);delete s.user;const n=GS(s);await Xc(this.storage,this.storageKey,n)}else{const s=GS(t);await Xc(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await tr(this.storage,this.storageKey),await tr(this.storage,this.storageKey+"-code-verifier"),await tr(this.storage,this.storageKey+"-user"),this.userStorage&&await tr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&rr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-e)/Yc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Yc}ms, refresh threshold is ${wb} ticks`),s<=wb&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof WN)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const s=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[n,o]=await zc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(i!=null&&i.queryParams){const n=new URLSearchParams(i.queryParams);s.push(n.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:s,error:n}=t;return n?this._returnResult({data:null,error:n}):await _e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,s;const{data:n,error:o}=t;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:s,error:n}=t;if(n)return this._returnResult({data:null,error:n});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?u4(e.webauthn.credential_response):h4(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:s,error:n}=t;if(n)return this._returnResult({data:null,error:n});const o=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:c4(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d4(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const n of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])s.all.push(n),n.status==="verified"&&s[n.factor_type].push(n);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:i},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:n}=Wy(i.access_token);let o=null;n.aal&&(o=n.aal);let l=o;((t=(e=i.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(l="aal2");const d=n.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:i},error:s}=t;return s?this._returnResult({data:null,error:s}):i?await _e(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new ri})})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:s},error:n}=i;if(n)return this._returnResult({data:null,error:n});if(!s)return this._returnResult({data:null,error:new ri});const o=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&rr()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:s},error:n}=i;if(n)return this._returnResult({data:null,error:n});if(!s)return this._returnResult({data:null,error:new ri});const o=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&rr()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;return i?this._returnResult({data:null,error:i}):t?await _e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ri})})}catch(e){if(pe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:i},error:s}=t;return s?this._returnResult({data:null,error:s}):i?(await _e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ri})})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(l=>l.kid===e);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(l=>l.kid===e),i&&this.jwks_cached_at+yO>s)return i;const{data:n,error:o}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!n.keys||n.keys.length===0||(this.jwks=n,this.jwks_cached_at=s,i=n.keys.find(l=>l.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});i=m.session.access_token}const{header:s,payload:n,signature:o,raw:{header:l,payload:c}}=Wy(i);t!=null&&t.allowExpired||BO(n.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!d){const{error:m}=await this.getUser(i);if(m)throw m;return{data:{claims:n,header:s,signature:o},error:null}}const h=UO(s.alg),p=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,CO(`${l}.${c}`)))throw new Sb("Invalid JWT signature");return{data:{claims:n,header:s,signature:o},error:null}}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}}Dp.nextInstanceID={};const b4=Dp,w4="2.88.0";let Nh="";typeof Deno<"u"?Nh="deno":typeof document<"u"?Nh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nh="react-native":Nh="node";const k4={"X-Client-Info":`supabase-js-${Nh}/${w4}`},j4={headers:k4},S4={schema:"public"},E4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},A4={};function Fp(r){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(r)}function N4(r,e){if(Fp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e);if(Fp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function C4(r){var e=N4(r,"string");return Fp(e)=="symbol"?e:e+""}function P4(r,e,t){return(e=C4(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ZS(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,i)}return t}function kt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZS(Object(t),!0).forEach(function(i){P4(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ZS(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}const T4=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),R4=()=>Headers,I4=(r,e,t)=>{const i=T4(t),s=R4();return async(n,o)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:r;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",r),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),i(n,kt(kt({},o),{},{headers:d}))}};function D4(r){return r.endsWith("/")?r:r+"/"}function F4(r,e){var t,i;const{db:s,auth:n,realtime:o,global:l}=r,{db:c,auth:d,realtime:h,global:p}=e,f={db:kt(kt({},c),s),auth:kt(kt({},d),n),realtime:kt(kt({},h),o),storage:{},global:kt(kt(kt({},p),l),{},{headers:kt(kt({},(t=p==null?void 0:p.headers)!==null&&t!==void 0?t:{}),(i=l==null?void 0:l.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return r.accessToken?f.accessToken=r.accessToken:delete f.accessToken,f}function L4(r){const e=r==null?void 0:r.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(D4(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var M4=class extends b4{constructor(r){super(r)}},O4=class{constructor(r,e,t){var i,s;this.supabaseUrl=r,this.supabaseKey=e;const n=L4(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",n),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",n),this.storageUrl=new URL("storage/v1",n),this.functionsUrl=new URL("functions/v1",n);const o=`sb-${n.hostname.split(".")[0]}-auth-token`,l={db:S4,realtime:A4,auth:kt(kt({},E4),{},{storageKey:o}),global:j4},c=F4(t??{},l);if(this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=c.auth)!==null&&d!==void 0?d:{},this.headers,c.global.fetch)}this.fetch=I4(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(kt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new vM(new URL("rest/v1",n).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new fO(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new hM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,t)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,t;if(r.accessToken)return await r.accessToken();const{data:i}=await r.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:s,storageKey:n,flowType:o,lock:l,debug:c,throwOnError:d},h,p){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new M4({url:this.authUrl.href,headers:kt(kt({},f),h),storageKey:n,autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new DM(this.realtimeUrl.href,kt(kt({},r),{},{params:kt(kt({},{apikey:this.supabaseKey}),r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(r,e,t){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const $4=(r,e,t)=>new O4(r,e,t);function V4(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}V4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const XN="https://mjtotgylgnmlpgyzxadj.supabase.co",JN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1qdG90Z3lsZ25tbHBneXp4YWRqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NzA3NDEsImV4cCI6MjA3NTM0Njc0MX0.prKdkDoUKqct6Uxv4mlFCRS4YNxmy8r98WKj27q66U0";if(!XN.startsWith("https://"))throw new Error("Invalid Supabase URL format. Must start with https://");if(JN.length<20)throw new Error("Invalid Supabase anonymous key format.");const G=$4(XN,JN,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"supabase.auth.token",storage:window.localStorage}}),QN=b.createContext(void 0),Ci=()=>{const r=b.useContext(QN);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},z4=({children:r})=>{const[e,t]=b.useState(null),[i,s]=b.useState(null),[n,o]=b.useState(!0),l=b.useRef({}),c=b.useRef(!1),d=b.useRef(!1),h=async x=>{if(l.current[x]){s(l.current[x]);return}if(!c.current){c.current=!0;try{const{data:_,error:y}=await G.from("profiles").select("*").eq("id",x).maybeSingle();if(y){s(null);return}_?(l.current[x]=_,s(_)):s(null)}catch{s(null)}finally{c.current=!1}}};b.useEffect(()=>{if(d.current)return;d.current=!0;let x=!0;(async()=>{try{const{data:{session:w},error:k}=await G.auth.getSession();if(!x)return;if(k){o(!1);return}w!=null&&w.user&&w.expires_at&&w.expires_at>Date.now()/1e3&&(await G.auth.refreshSession(),t(w.user),await h(w.user.id))}catch{}finally{x&&o(!1)}})();const{data:{subscription:y}}=G.auth.onAuthStateChange(async(w,k)=>{if(x)switch(w){case"SIGNED_IN":t((k==null?void 0:k.user)??null),k!=null&&k.user&&await h(k.user.id);break;case"SIGNED_OUT":try{const{data:{session:E},error:S}=await G.auth.refreshSession();if(E!=null&&E.user&&!S){t(E.user),(!i||i.id!==E.user.id)&&await h(E.user.id);break}}catch{}t(null),s(null),l.current={};break;case"TOKEN_REFRESHED":t((k==null?void 0:k.user)??null);break;case"USER_UPDATED":t((k==null?void 0:k.user)??null),k!=null&&k.user&&(delete l.current[k.user.id],await h(k.user.id));break}});return()=>{x=!1,y.unsubscribe()}},[]),b.useEffect(()=>{if(!e)return;const x=setInterval(async()=>{try{await G.auth.refreshSession()}catch{}},5*60*1e3);return()=>clearInterval(x)},[e]);const p=async(x,_)=>{const{error:y}=await G.auth.signInWithPassword({email:x,password:_});if(y)throw y},f=async()=>{const{error:x}=await G.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(x)throw x},m=async(x,_,y,w)=>{const{data:k,error:E}=await G.auth.signUp({email:x,password:_,options:{data:{full_name:y,role:w}}});if(E)throw E;k.user&&await G.from("profiles").insert({id:k.user.id,email:x,full_name:y,role:w,status:"pending"})},g=async()=>{try{await G.auth.signOut(),t(null),s(null),l.current={}}catch{t(null),s(null),l.current={}}},v=async x=>{const{error:_}=await G.auth.resetPasswordForEmail(x,{redirectTo:`${window.location.origin}/reset-password`});if(_)throw _};return a.jsx(QN.Provider,{value:{user:e,profile:i,loading:n,signIn:p,signInWithGoogle:f,signUp:m,signOut:g,resetPassword:v},children:r})},B4={guidance:"Guidance"},U4={badge:"Premium Real Estate Platform",title:"Discover Your Dream Property Worldwide",subtitle:"Experience speed, trust, and transparency in real estate. Connect with verified professionals and discover extraordinary properties worldwide.",browse_properties:"Browse Properties",list_property:"List Your Property",premium_properties:"Premium Properties",countries:"Countries",viaestate_title:"From Scandinavia to Southern Europe",viaestate_subtitle:"We Guide You Every Step of the Way",viaestate_description:"We understand the Scandinavian way of doing business, transparent, reliable, and personal.",view_properties:"View Properties",book_consultation:"Book a Consultation"},q4={placeholder_country:"Country (e.g., Spain, France)",country:"Country",region:"Region",city:"City",property_type:"Property Type",max_price:"Max Price",min_price:"Min Price",max_price_placeholder:"Max price",min_price_placeholder:"Min price",search:"Search",searching:"Searching...",search_properties:"Search Properties",ask_assistant:"Ask AI Assistant",bedrooms:"Bedrooms",bathrooms:"Bathrooms",any:"Any",any_type:"Any type",select_country:"Select country",select_region:"Select region",select_city:"Select city",clear_all:"Clear All",advanced_filters:"Advanced Filters",verified_only:"Verified properties only",filters:"Filters",reset:"Reset",min:"Min",max:"Max",area:"Area",features:"Features"},H4={house:"House",apartment:"Apartment",condo:"Condo",villa:"Villa",land:"Land",commercial:"Commercial"},G4={title:"Featured Properties",subtitle:"Explore quality properties from Southern Europe, carefully selected by our experienced real estate professionals.",view_all:"View All Properties"},W4={select_country:"Select a Country",show_all:"Show All",search_filter:"Search & Filter Properties",search_filter_desc:"Find your perfect property with our advanced search tools",search_placeholder:"Search properties...",country_placeholder:"Country (e.g., Spain, France, Italy)",city_placeholder:"City",min_price_placeholder:"Min Price ()",max_price_placeholder:"Max Price ()",no_properties:"No properties available yet",no_properties_desc:"Coming soon. Be the first to list a property or check back shortly.",no_match:"No properties match your filters",no_match_desc:"Try clearing filters or adjusting your search.",back_home:"Back to Home",list_your_property:"List Your Property",clear_filters:"Clear Filters",not_found:"Property not found",not_found_desc:"The property you're looking for doesn't exist or is no longer available.",error_loading:"Failed to load property details.",property_details:"Property Details",bedrooms:"Bedrooms",bathrooms:"Bathrooms",area_info:"Area Information",living_area:"Living Area",plot_area:"Plot Area",distance_info:"Distance Information",city_center:"City Center",to_sea:"To Sea",to_lake:"To Lake",agent_info:"Agent Information",send_inquiry:"Send Inquiry",join_discussion:"Join Discussion",no_images:"No images available",back_to_properties:"Back to Properties",seller_type:"Type",listed:"Listed",featured:"Featured",for_sale:"For Sale",for_rent:"For Rent",verified:"Verified"},K4={professional:"Professional",private:"Private"},Y4={month:"/month"},X4={unavailable:"Image unavailable"},J4={how_it_works:"How It Works",how_it_works_desc:"Simple, fast, and transparent real estate transactions",step1_title:"Browse Properties",step1_desc:"Discover verified premium properties from trusted professionals worldwide",step2_title:"Connect with Agents",step2_desc:"Get matched with certified agents or list your property for expert assistance",step3_title:"Secure Your Dream",step3_desc:"Complete transactions with confidence using our secure platform",why_choose:"Why Choose ViaEstate",why_choose_desc:"Experience the future of real estate with our premium platform designed for discerning buyers, sellers, and brokers worldwide.",feature1_title:"Premium Properties",feature1_desc:"Access exclusive luxury properties from verified brokers across 50+ countries worldwide.",feature2_title:"AI-Powered Matching",feature2_desc:"Our intelligent system matches you with perfect properties based on your preferences.",feature3_title:"Expert Brokers",feature3_desc:"Connect with certified real estate professionals who understand your market.",footer_tagline:"Your gateway to premium real estate worldwide"},Q4={community_discussion:"Community Discussion",ask_question:"Ask a Question",ask_placeholder:"Ask about this property, the neighborhood, or anything else...",post_question:"Post Question",post_submitted:"Post Submitted",post_submitted_desc:"Your post has been submitted for review and will appear shortly.",post_error:"Failed to create post. Please try again.",login_required:"Login Required",login_required_desc:"Please log in to post questions.",submit_review:"Submit for Review",community_member:"Community Member",no_discussion:"No discussion yet. Be the first to ask a question about this property!",login_to_ask:"Please log in to ask questions about this property.",error_fetching:"Error fetching posts",please_sign_in:"Please sign in",login_required_post:"You need to be logged in to create a post.",error_creating:"Error creating post",just_now:"Just now",minutes_ago:"{count} minutes ago",hours_ago:"{count} hours ago",days_ago:"{count} days ago",new_post:"New Post",create_new_post:"Create New Post",dialog_description:"Share your thoughts, ask questions, or start a discussion with the community. Your post will be reviewed before being published.",title:"Title",title_placeholder:"What's your post about?",content:"Content",content_placeholder:"Share your thoughts...",please_sign_in_desc:"Please sign in to create a post.",search_placeholder:"Search forum posts...",no_posts_found:"No posts found",try_adjusting_search:"Try adjusting your search terms or browse all posts.",be_first_to_discuss:"Be the first to start a discussion in our community!",create_first_post:"Create First Post"},Z4={loading:"Loading...",error:"Error",try_again:"Try Again",close:"Close",save:"Save",cancel:"Cancel",submit:"Submit",edit:"Edit",delete:"Delete",view:"View",back:"Back",save_changes:"Save Changes",saving:"Saving...",submitting:"Submitting...",anonymous:"Anonymous"},e$={switcher_title:"Language",en:"English",sv:"Svenska",da:"Dansk",de:"Deutsch",it:"Italiano",es:"Espaol",hr:"Hrvatski",fr:"Franais"},t$={welcome_back:"Welcome back!",login_success:"You have successfully logged in.",login_failed:"Login failed",google_failed:"Google sign-in failed",account_created:"Account created!",account_pending:"Your account is pending admin approval. You'll be notified once approved.",signup_failed:"Signup failed",reset_sent:"Password reset email sent",reset_instructions:"Check your email for password reset instructions.",reset_failed:"Password reset failed",error_generic:"An unexpected error occurred",welcome_title:"Welcome to ViaEstate",welcome_subtitle:"Sign in to your account or create a new one",sign_in:"Sign In",sign_up:"Sign Up",email:"Email",password:"Password",signing_in:"Signing in...",forgot_password:"Forgot your password?",or_continue:"Or continue with",google_continue:"Continue with Google",full_name:"Full Name",account_type:"Account Type",select_type:"Select account type",private_seller:"Private Seller",broker:"Real Estate Broker",creating:"Creating account...",create_account:"Create Account",reset_password:"Reset Password",reset_description:"Enter your email address and we'll send you a password reset link.",email_address:"Email Address",sending:"Sending...",send_reset:"Send Reset Email"},r$={title:"Send an Inquiry",inspection_title:"Book an Independent Inspector",name:"Your Name",email:"Email Address",phone:"Phone Number",message:"Message",message_placeholder:"I'm interested in this property...",send:"Send Inquiry",sending:"Sending...",success:"Inquiry sent successfully!",error:"Failed to send inquiry. Please try again.",cancel:"Cancel"},i$={title:"Contact Agent",contact_agent:"Contact Agent",inquire_title:"Inquire About Property",name:"Name",name_placeholder:"Your full name",email:"Email",phone:"Phone",message:"Message",message_placeholder:"Tell the agent what you're looking for...",send:"Send Message",sending:"Sending...",success:"Inquiry sent!",success_desc:"The property owner will contact you soon.",error:"Failed to send inquiry. Please try again.",close:"Close",cancel:"Cancel",submitted:"Submitted",property_id:"Property ID",agree_terms:"By submitting this form, you agree to be contacted by the property agent."},s$={title:"Submit Your Property Request",subtitle:"Submit your property details and get connected with professional real estate agents who will handle the listing for you.",submit:"Submit Property Request",submitting:"Submitting...",success:"Property Request Submitted!",success_desc:"Your property request has been submitted. Agents will be able to claim it and contact you directly.",error:"Error submitting request",error_generic:"An unexpected error occurred"},n$={title:"Ask a Question",placeholder:"Ask about this property, the neighborhood, or anything else...",submit:"Submit Question",submitting:"Submitting...",success:"Question Submitted",success_desc:"Your question has been submitted and will be reviewed by our team.",error:"Error",error_generic:"An unexpected error occurred"},a$={basic_title:"Basic",basic_desc:"Perfect for private sellers",professional_title:"Professional",professional_desc:"For serious sellers and small agencies",premium_title:"Premium",premium_desc:"The ultimate real estate experience",commission_only:"Commission only on successful sales",professional_presentation:"Professional property presentation",marketing_platform:"Marketing across our platform",everything_basic:"Everything from the Basic Plan, plus:",video_editing:"Professional video editing and tailored promotion",photographer:"Dedicated photographer for your listings",quote_request:"Request a Quote",requesting:"Requesting..."},o$={title:"Dashboard",my_properties:"My Properties",my_leads:"My Leads",no_properties:"You haven't listed any properties yet.",list_property:"List a Property",no_leads:"No leads yet.",delete_property:"Delete Property",confirm_delete:"Are you sure you want to delete this property? This action cannot be undone.",deleted:"Property deleted successfully",error_deleting:"Error deleting property",loading:"Loading dashboard...",professional_broker:"Professional Broker",private_seller:"Private Seller"},l$={title:"Submit Your Property",subtitle:"List your property on our premium platform and connect with buyers worldwide."},c$={title:"List Your Property",professional_broker:"Professional Broker Account",private_seller:"Private Seller Account",cancel:"Cancel",submit:"List Property",submitting:"Submitting...",fill_required:"Please fill in all required fields.",valid_price:"Please enter a valid price.",creation_error:"Property creation returned no record. Please try again.",error_listing:"Error listing property",sign_in_required:"You need to be logged in to list a property.",property_info:"Property Information",property_media:"Property Media",click_upload:"Click to upload images or drag and drop",images_max:"Images (Max 10)",videos_max:"Videos (Max 3)",upload_videos:"Upload Videos",description:"Description *",price_eur:"Price (EUR) *"},d$={title:"Edit Property",for_sale:"For Sale",for_rent:"For Rent",cancel:"Cancel",save:"Save Changes",saving:"Saving...",error_loading:"Failed to load property details.",error_updating:"Failed to update property.",loading:"Loading property...",property_not_found:"Property not found"},u$={title:"Admin Panel",properties:"Properties",users:"Users",posts:"Posts",leads:"Leads",loading:"Loading admin panel...",role_admin:"Admin",role_broker:"Real Estate Broker",role_private:"Private Seller",save_changes:"Save Changes",saving:"Saving...",cancel:"Cancel",delete:"Delete",confirm_delete_user:"Are you sure you want to delete this user?",confirm_delete_property:"Are you sure you want to delete this property?",confirm_delete_post:"Are you sure you want to delete this post?",confirm_delete_lead:"Are you sure you want to delete this lead?",error_loading:"Error loading admin data",error_updating:"Error updating",error_deleting:"Error deleting",role_updated:"Role updated",xml_import:"Import XML",xml_url:"XML URL",importing:"Importing...",import_success:"XML imported successfully",import_error:"Import Error",translate:"Translate Properties",translating:"Translating...",translate_success:"Translation completed",translate_error:"Translation Error",properties_translated:"Properties translated",errors:"Errors",author:"Author",anonymous:"Anonymous",submitted:"Submitted"},h$={title:"Agent Panel",my_properties:"My Properties",open_requests:"Open Requests",claimed_requests:"Claimed Requests",loading:"Loading agent panel...",claim:"Claim",claiming:"Claiming...",claim_success:"Request claimed successfully",claim_error:"Error claiming request",no_properties:"You haven't listed any properties yet."},p$={title:"About ViaEstate",subtitle:"Your trusted partner in finding the perfect property worldwide.",about_viaestate:"About ViaEstate",about:"About",us:"Us",founded_desc:"ViaEstate was founded in Karlstad, Sweden, in 2025 with a clear vision: to make it easier for real estate businesses and private sellers to connect across Europe.",mission:"Our Mission",mission_desc1:"We act as the bridge between brokers, private clients, and potential buyers by offering digital visibility, marketing expertise, and data-driven insights.",mission_desc2:"Our goal is simple: to help real estate businesses grow, reach more clients, and showcase their properties in the most professional and appealing way possible.",founded_2025:"Founded 2025",karlstad_sweden:"Karlstad, Sweden",meet_founders:"Meet the Founders",founders_desc:"ViaEstate was created by two passionate entrepreneurs with a shared vision of revolutionizing the European real estate market. Together, we bring experience in technology and marketing.",digital_marketing:"Digital Marketing",digital_marketing_desc:"We promote your listings across our social media platforms and targeted channels.",property_listings:"Property Listings",property_listings_desc:"We publish your business properties on our exclusive ViaEstate platform, where potential buyers and investors actively search.",lead_generation:"Lead Generation",lead_generation_desc:"We connect brokers directly to new, verified leads and customers.",performance_stats:"Performance Statistics",performance_stats_desc:"We provide detailed insights and analytics on how your properties perform online.",value_connecting:"Connecting people and properties",value_marketing:"Smart digital marketing",value_insights:"Data-driven insights",value_showcase:"Professional property showcase",services:"Our Services",services_desc:"We specialize in connecting people and properties through smart digital marketing and exposure.",private_clients_title:"New Feature for Private Clients",private_clients_desc1:"Our platform also allows private individuals to list their own properties. From there, brokers can claim and assist these listings  helping private sellers get professional support to close their deals faster.",private_clients_desc2:"This feature creates new opportunities for both sides  private clients gain professional help, and brokers gain new potential listings."},f$={title:"Work With Us",subtitle:"Join our network of trusted real estate professionals.",work_with:"Work With",us:"Us",intro:"ViaEstate is a modern real estate platform that helps brokers grow their business. We offer tools and services that make it easier to reach customers, market properties, and streamline your daily work as a real estate broker.",what_offer:"What We Offer to Brokers",broker_grow:"We Help Brokers Grow",broker_grow_desc:"We offer a modern platform that helps real estate brokers reach more customers and streamline their business. With our network, you get access to thousands of potential buyers and sellers.",international_reach:"International Reach",international_reach_desc:"Through our global network, you can market properties to buyers from around the world. We handle multilingual content and internationalization for you.",mobile_app:"Coming Soon: Mobile App",mobile_app_desc:"We are developing a modern app that will make it even easier to manage your properties and contacts. Designed to save time and increase efficiency.",booking_system:"Coming Soon: Booking System",booking_system_desc:"A new booking system is under development that will allow you to schedule viewings, manage meetings, and follow up with potential customers directly in the platform.",get_started:"Ready to Get Started?",contact_desc:"Contact us today to discuss how we can help you grow your brokerage business. We'll help you find the right solution for your needs."},m$={title:"Articles & News",search:"Search articles...",search_error:"Error searching articles",no_articles:"No articles found",loading:"Loading articles...",load_more:"Load More Articles",featured:"Featured",read_more:"Read More",search_placeholder:"Search articles...",searching:"Searching...",load_failed:"Failed to load articles",no_found:"No articles found",no_published:"No articles published yet",try_adjust:"Try adjusting your search terms or browse all articles.",check_back:"Check back later for new content.",view_all:"View All Articles",viaestate_team:"ViaEstate Team",view_pdf:"View PDF",found_results:"Found",results:"result",results_plural:"s",for_query:"for",pdf_article:"PDF Article",match:"Match",pdf_document:"PDF Document",pdf_available:"PDF Document Available",showing:"Showing",article:"article",articles:"s"},g$={error_loading:"Error loading article",article_not_found:"Article not found or not published",pdf_preview:"PDF Preview",download:"Download",featured_article:"Featured Article",error:"Error",article_not_found_title:"Article Not Found",article_not_found_desc:"The article you're looking for doesn't exist or has been removed.",back_to_articles:"Back to Articles",published:"Published",by:"By",viaestate_team:"ViaEstate Team",pdf_document:"PDF Document",open_new_tab:"Open in New Tab",additional_documents:"Additional Documents",preview:"Preview",pdf_preview_failed:"Failed to load PDF preview",download_started:"Download Started",downloading_file:"Downloading {fileName}",enjoyed_article:"Enjoyed this article? Check out more content on our blog.",browse_all_articles:"Browse All Articles"},v$={title:"Title",content:"Content",content_required:"Content is required. Please provide content or upload a PDF file.",save_draft:"Save Draft",publish:"Publish",update:"Update",saving:"Saving...",upload_image:"Upload Image",upload_pdf:"Upload PDF",image_error:"Error uploading image",pdf_error:"Error uploading PDF",file_error:"Error uploading file",file_deleted:"File deleted successfully",error_deleting:"Error deleting file",featured:"Featured article",error_saving:"Error saving article",error_creating_tag:"Error creating tag",error_updating:"Error updating",success_saved:"Article saved successfully",success_published:"Article published successfully",error_loading:"Failed to load article",image_type_error:"Only JPEG, PNG, and WebP images are allowed",image_size_error:"Image must be less than 5MB",image_uploaded:"Image uploaded successfully",pdf_type_error:"Only PDF files are allowed",pdf_size_error:"File must be less than 20MB",pdf_uploaded:"PDF uploaded successfully",primary_file_updated:"Primary file updated",error_updating_primary:"Failed to update primary file",title_required:"Title is required",extracting_text:"Extracting PDF text",extracting_text_desc:"Please wait while we extract text from your PDF...",text_extracted:"Text extracted",text_extracted_desc:"PDF text has been extracted and will be used as article content",extraction_failed:"Text extraction failed",extraction_failed_desc:"Could not extract text from PDF. Article will be saved without content.",success_created:"Article created successfully",success_updated:"Article updated successfully",edit_title:"Edit Article",create_title:"Create New Article",edit_description:"Update your article content",create_description:"Write a new article for your blog",preview:"Preview",basic_info:"Basic Information",title_placeholder:"Enter article title",slug_placeholder:"url-friendly-slug",excerpt_placeholder:"Brief description of the article",cover_image:"Cover Image",change_image:"Change Image",remove:"Remove",upload_cover_image:"Upload a cover image",choose_file:"Choose File",optional:"optional if PDF uploaded",content_placeholder:"Write your article content here...",content_placeholder_pdf:"Write your article content here, or leave blank to use extracted PDF text...",content_extraction_info:"Content will be automatically extracted from your uploaded PDF file.",tags:"Tags",add_tag_placeholder:"Add new tag",documents_attachments:"Documents & Attachments (PDF)",upload_pdf_description:"Upload PDF documents to attach to this article",uploading:"Uploading...",choose_pdf_file:"Choose PDF File",max_file_size:"Maximum file size: 20 MB",uploaded_files:"Uploaded Files",primary:"Primary",set_primary:"Set Primary"},_$={title:"Something went wrong",message:"An unexpected error occurred.",retry:"Try Again",error_details:"Error details"},y$={title:"404 - Page Not Found",message:"The page you're looking for doesn't exist."},x$={assistant_title:"AI-Powered",assistant_subtitle:"Real Estate Assistant",assistant_desc:"Let our advanced AI help you find the perfect property or connect with the right agencies for your real estate needs across Europe.",smart_matching:"Smart Property Matching",smart_matching_desc:"AI analyzes your preferences to find perfect properties across Europe",agency_finder:"Agency Finder",agency_finder_desc:"Connect with verified agencies specialized in your target market",market_intelligence:"Market Intelligence",market_intelligence_desc:"Get AI-powered insights on property values and market trends",recommendations:"AI Recommendations",recommendations_desc:"Receive tailored suggestions based on your search history",find_properties:"Find Properties",find_agencies:"Find Agencies",property_placeholder:"Describe your ideal property... (e.g., 'I'm looking for a 3-bedroom villa near the beach in Spain with a budget of 1M')",agency_placeholder:"What kind of agency are you looking for... (e.g., 'I need an agency specializing in luxury properties in France')",searching:"Searching...",ask_assistant:"Ask AI Assistant",budget:"Budget Range",location:"Preferred Location",requirements:"Special Requirements",property_badge:"Property",ai_match:"AI Match",view_details:"View Details",no_results:"No properties found matching your criteria. Try adjusting your search.",search_error:"Search failed. Please try again.",placeholder:"Ask about properties, locations, or real estate..."},b$={properties:"Properties",countries:"Countries",brokers:"Brokers",leads:"Leads"},w$={professional_question:"Are you a Real Estate Professional?",join_broker:"Join as Broker",properties:"Properties",experience:"Experience",specialties:"Specialties:",languages:"Languages:",view_properties:"View Properties"},k$={title:"Guidance",subtitle:"Your step-by-step guide to buying property in Southern Europe",coming_soon:"Coming Soon",description:"We are working on comprehensive step-by-step guides to help you buy property in Spain, France, Italy, Croatia, Greece and more. Check back soon for detailed guidance.",have_questions:"Have questions?",contact_us:"Contact Us"},j$={nav:B4,hero:U4,search:q4,property_types:H4,featured:G4,properties:W4,seller:K4,time:Y4,image:X4,home:J4,forum:Q4,common:Z4,language:e$,auth:t$,inquiry:r$,lead:i$,property_request:s$,forum_post:n$,packages:a$,dashboard:o$,submit_property:l$,list_property:c$,edit_property:d$,admin:u$,agent:h$,about:p$,work_with_us:f$,articles:m$,article_view:g$,article_editor:v$,error_boundary:_$,not_found:y$,ai:x$,kpis:b$,brokers:w$,guidance:k$},S$={home:"Hem",properties:"Fastigheter",articles:"Artiklar",forum:"Forum",work_with_us:"Arbeta med oss",about_us:"Om oss",panel:"Panel",login:"Logga in",guidance:"Guidance"},E$={badge:"Premium Fastighetsplattform",title:"Upptck Din Drmfastighet Vrlden ver",subtitle:"Upplev hastighet, tillit och transparens inom fastigheter. Anslut till verifierade proffs och upptck extraordinra fastigheter vrlden ver.",browse_properties:"Blddra Fastigheter",list_property:"Lista Din Fastighet",premium_properties:"Premium Fastigheter",countries:"Lnder",viaestate_title:"Frn Skandinavien till Sydeuropa",viaestate_subtitle:"Vi Guidar Dig Varje Steg p Vgen",viaestate_description:"Vi frstr det skandinaviska sttet att gra affrer - transparent, plitligt och personligt.",view_properties:"Visa Fastigheter",book_consultation:"Boka Konsultation"},A$={placeholder_country:"Land (t.ex. Spanien, Frankrike)",property_type:"Fastighetstyp",max_price:"Max Pris",min_price:"Min Pris",search:"Sk",bedrooms:"Sovrum",bathrooms:"Badrum",clear_all:"Rensa Alla",advanced_filters:"Avancerade Filter",verified_only:"Endast verifierade fastigheter"},N$={house:"Hus",apartment:"Lgenhet",condo:"Bostadsrtt",villa:"Villa",land:"Mark",commercial:"Kommersiellt"},C$={title:"Utvalda Fastigheter",subtitle:"Utforska kvalitetsfastigheter frn Sydeuropa, noggrant utvalda av vra erfarna fastighetsmklare.",view_all:"Visa Alla Fastigheter"},P$={select_country:"Vlj Ett Land",show_all:"Visa Alla",search_filter:"Sk & Filtrera Fastigheter",search_filter_desc:"Hitta din perfekta fastighet med vra avancerade skverktyg",search_placeholder:"Sk fastigheter...",country_placeholder:"Land (t.ex. Spanien, Frankrike, Italien)",city_placeholder:"Stad",min_price_placeholder:"Min Pris ()",max_price_placeholder:"Max Pris ()",no_properties:"Inga fastigheter tillgngliga n",no_properties_desc:"Kommer snart. Var frst med att lista en fastighet eller kolla tillbaka strax.",no_match:"Inga fastigheter matchar dina filter",no_match_desc:"Frsk att rensa filter eller justera din skning.",back_home:"Tillbaka till Hem",list_your_property:"Lista Din Fastighet",clear_filters:"Rensa Filter",not_found:"Fastighet hittades inte",not_found_desc:"Fastigheten du letar efter finns inte lngre eller r inte tillgnglig.",error_loading:"Kunde inte ladda fastighetsdetaljer.",property_details:"Fastighetsdetaljer",bedrooms:"Sovrum",bathrooms:"Badrum",area_info:"Areainformation",living_area:"Boarea",plot_area:"Tomtarea",distance_info:"Avstndsinformation",city_center:"Stadskrna",to_sea:"Till Havet",to_lake:"Till Sjn",agent_info:"Agentinformation",send_inquiry:"Skicka Frfrgan",join_discussion:"Delta i Diskussion",no_images:"Inga bilder tillgngliga",back_to_properties:"Tillbaka till Fastigheter",seller_type:"Typ",listed:"Listad",featured:"Utvald",for_sale:"Till Salu",for_rent:"Fr Uthyrning",verified:"Verifierad"},T$={professional:"Professionell",private:"Privat"},R$={month:"/mnad"},I$={unavailable:"Bild ej tillgnglig"},D$={how_it_works:"Hur Det Fungerar",how_it_works_desc:"Enkelt, snabbt och transparenta fastighetstransaktioner",step1_title:"Blddra Fastigheter",step1_desc:"Upptck verifierade premiumfastigheter frn betrodda proffs vrlden ver",step2_title:"Anslut till Mklare",step2_desc:"Matchas med certifierade mklare eller lista din fastighet fr expertassistance",step3_title:"Skra Din Drm",step3_desc:"Slutfr transaktioner med sjlvfrtroende med vr skra plattform",why_choose:"Varfr Vlja ViaEstate",why_choose_desc:"Upplev framtiden fr fastigheter med vr premiumplattform designad fr krsna kpare, sljare och mklare vrlden ver.",feature1_title:"Premium Fastigheter",feature1_desc:"F tillgng till exklusiva lyxfastigheter frn verifierade mklare i ver 50+ lnder vrlden ver.",feature2_title:"AI-driven Matchning",feature2_desc:"Vrt intelligenta system matchar dig med perfekta fastigheter baserat p dina preferenser.",feature3_title:"Expertmklare",feature3_desc:"Anslut till certifierade fastighetsproffs som frstr din marknad.",footer_tagline:"Din port till premiumfastigheter vrlden ver"},F$={community_discussion:"Gemenskapsdiskussion",ask_question:"Stll en Frga",ask_placeholder:"Frga om denna fastighet, grannskapet eller ngot annat...",post_question:"Skicka Frga",post_submitted:"Inlgg Skickat",post_submitted_desc:"Ditt inlgg har skickats fr granskning och kommer att visas inom kort.",post_error:"Kunde inte skapa inlgg. Frsk igen.",login_required:"Inloggning Krvs",login_required_desc:"Vnligen logga in fr att stlla frgor.",submit_review:"Skicka fr Granskning",community_member:"Gemenskapsmedlem",no_discussion:"Ingen diskussion n. Var frst att stlla en frga om denna fastighet!",login_to_ask:"Vnligen logga in fr att stlla frgor om denna fastighet.",error_fetching:"Fel vid hmtning av inlgg",please_sign_in:"Vnligen logga in",login_required_post:"Du mste vara inloggad fr att skapa ett inlgg.",error_creating:"Fel vid skapande av inlgg",just_now:"Precis nu",minutes_ago:"{count} minuter sedan",hours_ago:"{count} timmar sedan",days_ago:"{count} dagar sedan",new_post:"Nytt Inlgg",create_new_post:"Skapa Nytt Inlgg",dialog_description:"Dela dina tankar, stll frgor eller starta en diskussion med gemenskapen. Ditt inlgg kommer att granskas innan det publiceras.",title:"Titel",title_placeholder:"Vad handlar ditt inlgg om?",content:"Innehll",content_placeholder:"Dela dina tankar...",please_sign_in_desc:"Vnligen logga in fr att skapa ett inlgg.",search_placeholder:"Sk forum inlgg...",no_posts_found:"Inga inlgg hittades",try_adjusting_search:"Frsk att justera dina skord eller blddra genom alla inlgg.",be_first_to_discuss:"Vrlden r frsta att starta en diskussion i vr gemenskap!",create_first_post:"Skapa Frsta Inlgget"},L$={loading:"Laddar...",error:"Fel",try_again:"Frsk Igen",close:"Stng",save:"Spara",cancel:"Avbryt",submit:"Skicka",edit:"Redigera",delete:"Ta bort",view:"Visa",back:"Tillbaka",save_changes:"Spara ndringar",saving:"Sparar...",submitting:"Skickar...",anonymous:"Anonym"},M$={switcher_title:"Sprk",en:"English",sv:"Svenska",da:"Dansk",de:"Deutsch",it:"Italiano",es:"Espaol",hr:"Hrvatski",fr:"Franais"},O$={welcome_back:"Vlkommen tillbaka!",login_success:"Du har loggat in framgngsrikt.",login_failed:"Inloggning misslyckades",google_failed:"Google-inloggning misslyckades",account_created:"Konto skapat!",account_pending:"Ditt konto vntar p administrativt godknnande. Du kommer att meddelas nr det r godknt.",signup_failed:"Registrering misslyckades",reset_sent:"E-post fr terstllning av lsenord skickad",reset_instructions:"Kolla din e-post fr instruktioner om hur du terstller ditt lsenord.",reset_failed:"terstllning av lsenord misslyckades",error_generic:"Ett ovntat fel uppstod",welcome_title:"Vlkommen till ViaEstate",welcome_subtitle:"Logga in p ditt konto eller skapa ett nytt",sign_in:"Logga In",sign_up:"Registrera Dig",email:"E-post",password:"Lsenord",signing_in:"Loggar in...",forgot_password:"Glmt ditt lsenord?",or_continue:"Eller fortstt med",google_continue:"Fortstt med Google",full_name:"Fullstndigt Namn",account_type:"Kontotyp",select_type:"Vlj kontotyp",private_seller:"Privat Sljare",broker:"Fastighetsmklare",creating:"Skapar konto...",create_account:"Skapa Konto",reset_password:"terstll Lsenord",reset_description:"Ange din e-postadress s skickar vi dig en lnk fr att terstlla ditt lsenord.",email_address:"E-postadress",sending:"Skickar...",send_reset:"Skicka terstllningslnk"},$$={title:"Skicka en Frfrgan",name:"Ditt Namn",email:"E-postadress",phone:"Telefonnummer",message:"Meddelande",message_placeholder:"Jag r intresserad av denna fastighet...",send:"Skicka Frfrgan",sending:"Skickar...",success:"Frfrgan skickad framgngsrikt!",error:"Kunde inte skicka frfrgan. Frsk igen.",cancel:"Avbryt"},V$={title:"Kontakta Agent",name:"Ditt Namn",email:"E-post",phone:"Telefon",message:"Meddelande",send:"Skicka Meddelande",sending:"Skickar...",success:"Meddelande skickat framgngsrikt!",error:"Kunde inte skicka meddelande. Frsk igen.",close:"Stng",cancel:"Avbryt",submitted:"Skickat",property_id:"Fastighets-ID"},z$={title:"Skicka Din Fastighetsfrfrgan",subtitle:"Skicka dina fastighetsdetaljer och f kontakt med professionella fastighetsmklare som kommer att hantera din annons.",submit:"Skicka Fastighetsfrfrgan",submitting:"Skickar...",success:"Fastighetsfrfrgan Skickad!",success_desc:"Din fastighetsfrfrgan har skickats. Mklare kommer att kunna ta emot den och kontakta dig direkt.",error:"Fel vid skickande av frfrgan",error_generic:"Ett ovntat fel uppstod"},B$={title:"Stll en Frga",placeholder:"Frga om denna fastighet, grannskapet eller ngot annat...",submit:"Skicka Frga",submitting:"Skickar...",success:"Frga Skickad",success_desc:"Din frga har skickats och kommer att granskas av vrt team.",error:"Fel",error_generic:"Ett ovntat fel uppstod"},U$={basic_title:"Bas",basic_desc:"Perfekt fr privata sljare",professional_title:"Professionell",professional_desc:"Fr serisa sljare och mindre byrer",premium_title:"Premium",premium_desc:"Den ultimata fastighetsupplevelsen",commission_only:"Provision endast vid framgngsrik frsljning",professional_presentation:"Professionell fastighetspresentation",marketing_platform:"Marknadsfring p vr plattform",everything_basic:"Allt frn Bas-planen, plus:",video_editing:"Professionell videoredigering och skrddarsydd marknadsfring",photographer:"Dedikerad fotograf fr dina annonser",quote_request:"Begr en Offert",requesting:"Begr..."},q$={title:"Instrumentpanel",my_properties:"Mina Fastigheter",my_leads:"Mina Leads",no_properties:"Du har inte listat ngra fastigheter n.",list_property:"Lista en Fastighet",no_leads:"Inga leads n.",delete_property:"Ta bort Fastighet",confirm_delete:"r du sker p att du vill ta bort denna fastighet? Detta kan inte ngras.",deleted:"Fastighet borttagen framgngsrikt",error_deleting:"Fel vid borttagning av fastighet",loading:"Laddar instrumentpanel...",professional_broker:"Professionell Mklare",private_seller:"Privat Sljare"},H$={title:"Lista Din Fastighet",subtitle:"Lista din fastighet p vr premiumplattform och n kpare vrlden ver."},G$={title:"Lista Din Fastighet",professional_broker:"Professionellt Mklarkonto",private_seller:"Privat Sljarkonto",cancel:"Avbryt",submit:"Lista Fastighet",submitting:"Skickar...",fill_required:"Vnligen fyll i alla obligatoriska flt.",valid_price:"Vnligen ange ett giltigt pris.",creation_error:"Fastighetsskapandet gav ingen post. Frsk igen.",error_listing:"Fel vid listning av fastighet"},W$={title:"Redigera Fastighet",for_sale:"Till Salu",for_rent:"Fr Uthyrning",cancel:"Avbryt",save:"Spara ndringar",saving:"Sparar...",error_loading:"Kunde inte ladda fastighetsdetaljer.",error_updating:"Kunde inte uppdatera fastighet.",loading:"Laddar fastighet...",property_not_found:"Fastighet hittades inte"},K$={title:"Admin Panel",properties:"Fastigheter",users:"Anvndare",posts:"Inlgg",leads:"Leads",loading:"Laddar adminpanel...",role_admin:"Admin",role_broker:"Fastighetsmklare",role_private:"Privat Sljare",save_changes:"Spara ndringar",saving:"Sparar...",cancel:"Avbryt",delete:"Ta bort",confirm_delete_user:"r du sker p att du vill ta bort denna anvndare?",confirm_delete_property:"r du sker p att du vill ta bort denna fastighet?",confirm_delete_post:"r du sker p att du vill ta bort detta inlgg?",confirm_delete_lead:"r du sker p att du vill ta bort detta lead?",error_loading:"Fel vid laddning av admindata",error_updating:"Fel vid uppdatering",error_deleting:"Fel vid borttagning",role_updated:"Roll uppdaterad",xml_import:"Importera XML",xml_url:"XML-URL",importing:"Importerar...",import_success:"XML importerad framgngsrikt",import_error:"Importfel",translate:"verstt Fastigheter",translating:"verstter...",translate_success:"versttning slutfrd",translate_error:"versttningsfel",properties_translated:"Fastigheter versatta",errors:"Fel",author:"Frfattare",anonymous:"Anonym",submitted:"Skickad"},Y$={title:"Agentpanel",my_properties:"Mina Fastigheter",open_requests:"ppna Frfrgningar",claimed_requests:"Tagna Frfrgningar",loading:"Laddar agentpanel...",claim:"Ta",claiming:"Tar...",claim_success:"Frfrgan tagen framgngsrikt",claim_error:"Fel vid tagande av frfrgan",no_properties:"Du har inte listat ngra fastigheter n."},X$={title:"Om ViaEstate",subtitle:"Din betrodda partner fr att hitta den perfekta fastigheten vrlden ver.",about_viaestate:"Om ViaEstate",about:"Om",us:"Oss",founded_desc:"ViaEstate grundades i Karlstad, Sverige, r 2025 med en klar vision: att gra det lttare fr skandinaver att kpa fastigheter i Sydeuropa tryggt och med tillit.",mission:"Vr Uppmrksamhet",mission_desc1:"Vi fungerar som bro mellan skandinaviska kpare och betrodda lokala proffs i Spanien, Portugal, Italien och Grekland.",mission_desc2:"Vrt ml r enkelt: att hjlpa fastighetsfretag att vxa, n fler kunder och visa sina fastigheter p den mest professionella och attraktiva sttet mjligt.",founded_2025:"Grundades 2025",karlstad_sweden:"Karlstad, Sverige",meet_founders:"Trffa Grundarna",founders_desc:"ViaEstate skapades av tv passionerade entreprenrer med en gemensam vision att revolutionera den europeiska fastighetsmarknaden. Tillsammans har vi erfarenhet inom teknologi och marknadsfring.",digital_marketing:"Digital Marknadsfring",digital_marketing_desc:"Vi promovrar dina annonser ver vra sociala media-plattformar och mlriktade kanaler.",property_listings:"Fastighetsannonser",property_listings_desc:"Vi publicerar dina affrsfastigheter p vr exklusiva ViaEstate-plattform, dr potentiella kpare och investerare aktivt sker.",lead_generation:"Lead Generation",lead_generation_desc:"Vi kopplar mklare direkt till nya, verifierade leads och kunder.",performance_stats:"Prestandastatistik",performance_stats_desc:"Vi ger detaljerade insikter och analyser om hur dina fastigheter presterar online.",value_connecting:"Kopplar ihop mnniskor och fastigheter",value_marketing:"Smart digital marknadsfring",value_insights:"Data-driven insikt",value_showcase:"Professionell fastighetsvisning",services:"Vra Tjnster",services_desc:"Vi specialiserar oss p att koppla ihop mnniskor och fastigheter genom smart digital marknadsfring och exponering.",private_clients_title:"Ny Funktionalitet fr Privata Kunder",private_clients_desc1:"Vr plattform tillter ocks privatpersoner att lista sina egna fastigheter. Frn dr kan mklare begra och hjlpa dessa annonser  vilket hjlper privata sljare att f professionell support fr att stnga sina avtal snabbare.",private_clients_desc2:"Denna funktion skapar nya mjligheter fr bda sidor  privata kunder fr professionell hjlp och mklare fr nya potentiella annonser.",our_purpose:"Vrt Syfte",purpose_desc1:"Att kpa fastighet i ett frmmande land kan knnas vervldigande. Det finns olika lagar, sprk och sedvnjor att navigera  ofta utan det std du behver.",purpose_desc2:"ViaEstate skapades fr att frndra detta. Vi fungerar som bron mellan skandinaviska kpare och betrodda lokala proffs i Spanien, Portugal, Italien och Grekland.",purpose_desc3:"Vr mission r enkel: att gra ditt fastighetskp i Sydeuropa s smidigt, skert och tryggt som mjligt.",how_we_work:"Hur Vi Arbetar",step1_title:"Fastighetsurval",step1_desc:"Vi hjlper dig hitta fastigheter som matchar dina preferenser och budget i Sydeuropa.",step2_title:"Samordning",step2_desc:"Vi samordnar med betrodda lokala mklare, advokater och notarier  dina vgnar.",step3_title:"Vgledning till Slutfrande",step3_desc:"Vi vgleder dig genom varje steg tills du fr nycklarna till ditt nya hem.",cta_title:"Redo att Hitta Ditt Hem i Sydeuropa?",cta_desc:"Vi finns hr fr att vgleda dig genom varje steg av att kpa fastighet utomlands. Boka en gratis konsultation fr att diskutera dina planer.",cta_button:"Kontakta Oss",joel_title:"Medgrundare & Affrsutvecklingschef",joel_desc:"Med omfattande erfarenhet av affrsutveckling och den skandinaviska marknaden ser Joel till att varje klient fr personlig uppmrksamhet och hittar sin perfekta fastighet i Sydeuropa.",joar_title:"Medgrundare & Verkstllande Direktr",joar_desc:"Joar bringar djup expertis inom internationella fastigheter och teknologi. Hans vision driver ViaEstates mission att frenkla fastighetskp fr skandinaviska kpare ver hela Europa."},J$={title:"Arbeta Med Oss",subtitle:"Anslut till vrt ntverk av betrodda fastighetsproffs.",work_with:"Arbeta Med",us:"Oss",intro:"ViaEstate r en modern fastighetsplattform som hjlpermklare att vxa sin verksamhet. Vi erbjuder verktyg och tjnster som gr det lttare att n kunder, marknadsfra fastigheter och strmline din dagliga arbete som fastighetsmklare.",what_offer:"Vad Vi Erbjuder till Mklare",broker_grow:"Vi Hjlper Mklare att Vxa",broker_grow_desc:"Vi erbjuder en modern plattform som hjlper fastighetsmklare att n fler kunder och strmline deras verksamhet. Med vrt ntverk fr du tillgng till tusentals potentiella kpare och sljare.",international_reach:"Internationell Rckvidd",international_reach_desc:"Genom vrt globala ntverk kan du marknadsfra fastigheter till kpare frn hela vrlden. Vi hanterar flersprkigt innehll och internationalisering fr dig.",mobile_app:"Kommer Snart: Mobilapp",mobile_app_desc:"Vi utvecklar en modern app som kommer att gra det nnu lttare att administrera dina fastigheter och kontakter. Designad fr att spara tid och ka effektiviteten.",booking_system:"Kommer Snart: Bokningssystem",booking_system_desc:"Ett nytt bokningssystem r under utveckling som kommer att lta dig planera visningar, administrera mten och flja upp med potentiella kunder direkt i plattformen.",get_started:"Redo att Brja?",contact_desc:"Kontakta oss idag fr att diskutera hur vi kan hjlpa dig att vxa din mklars verksamhet. Vi hjlper dig att hitta den rtta lsningen fr dina behov."},Q$={title:"Artiklar & Nyheter",search:"Sk artiklar...",search_error:"Fel vid skning av artiklar",no_articles:"Inga artiklar hittades",loading:"Laddar artiklar...",load_more:"Ladda Mer Artiklar",featured:"Utvald",read_more:"Ls Mer",search_placeholder:"Sk artiklar...",searching:"Sker...",load_failed:"Kunde inte ladda artiklar",no_found:"Inga artiklar hittades",no_published:"Inga artiklar publicerade n",try_adjust:"Frsk att justera dina skord eller blddra genom alla artiklar.",check_back:"Kontrollera senare fr nytt innehll.",view_all:"Visa Alla Artikler",viaestate_team:"ViaEstate Team",view_pdf:"Visa PDF",found_results:"Hittade",results:"resultat",results_plural:"",for_query:"fr",pdf_article:"PDF Artikel",match:"Matchning",pdf_document:"PDF Dokument",pdf_available:"PDF Dokument Tillgnglig",showing:"Visar",article:"artikel",articles:"r"},Z$={error_loading:"Fel vid laddning av artikel",article_not_found:"Artikel inte hittad eller inte publicerad",pdf_preview:"PDF-frhandsvisning",download:"Ladda Ner",featured_article:"Utvald Artikel",error:"Fel",article_not_found_title:"Artikel Inte Hittad",article_not_found_desc:"Den artikel du sker finns inte lngre eller har tagits bort.",back_to_articles:"Tillbaka till Artiklar",published:"Publicerad",by:"Av",viaestate_team:"ViaEstate Team",pdf_document:"PDF Dokument",open_new_tab:"ppna i Ny Flik",additional_documents:"Ytterligare Dokument",preview:"Frhandsvisning",pdf_preview_failed:"Kunde inte ladda PDF-frhandsvisning",download_started:"Nedladdning Startad",downloading_file:"Laddar ner {fileName}",enjoyed_article:"Gillade du denna artikel? Kontrollera mer innehll p vr blogg.",browse_all_articles:"Blddra Genom Alla Artiklar"},e3={title:"Titel",content:"Innehll",content_required:"Innehll krvs. Vnligen ange innehll eller ladda upp en PDF-fil.",save_draft:"Spara Utkast",publish:"Publicera",update:"Uppdatera",saving:"Sparar...",upload_image:"Ladda Upp Bild",upload_pdf:"Ladda Upp PDF",image_error:"Fel vid uppladdning av bild",pdf_error:"Fel vid uppladdning av PDF",file_error:"Fel vid uppladdning av fil",file_deleted:"Fil borttagen framgngsrikt",error_deleting:"Fel vid borttagning av fil",featured:"Utvald artikel",error_saving:"Fel vid sparande av artikel",error_creating_tag:"Fel vid skapande av tagg",error_updating:"Fel vid uppdatering",success_saved:"Artikel sparad framgngsrikt",success_published:"Artikel publicerad framgngsrikt",error_loading:"Kunde inte ladda artikel",image_type_error:"Endast JPEG, PNG och WebP bilder tillts",image_size_error:"Bilden mste vara mindre n 5MB",image_uploaded:"Bild uppladdad framgngsrikt",pdf_type_error:"Endast PDF-filer tillts",pdf_size_error:"Filmen mste vara mindre n 20MB",pdf_uploaded:"PDF uppladdad framgngsrikt",primary_file_updated:"Primr fil uppdaterad",error_updating_primary:"Kunde inte uppdatera primr fil",title_required:"Titel krvs",extracting_text:"Extraherar PDF-texter",extracting_text_desc:"Vnligen vnta medan vi extraherar text frn din PDF...",text_extracted:"Text extraherad",text_extracted_desc:"PDF-texten har extraherats och kommer att anvndas som artikelinnehll",extraction_failed:"Text extraktion misslyckades",extraction_failed_desc:"Kunde inte extrahera text frn PDF. Artikeln kommer att sparas utan innehll.",success_created:"Artikel skapad framgngsrikt",success_updated:"Artikel uppdaterad framgngsrikt",edit_title:"Redigera Artikel",create_title:"Skapa Ny Artikel",edit_description:"Uppdatera din artikelinnehll",create_description:"Skriv en ny artikel fr din blogg",preview:"Frhandsvisning",basic_info:"Grundlggande Information",title_placeholder:"Ange artikel titel",slug_placeholder:"url-vnlig-slug",excerpt_placeholder:"Kort beskrivning av artikeln",cover_image:"Omslagsbild",change_image:"ndra Bild",remove:"Ta Bort",upload_cover_image:"Ladda upp en omslagsbild",choose_file:"Vlj Fil",optional:"valfritt om PDF uppladdad",content_placeholder:"Skriv din artikelinnehll hr...",content_placeholder_pdf:"Skriv din artikelinnehll hr, eller lmna tom fr att anvnda extraherad PDF-texter...",content_extraction_info:"Innehll kommer att automatiskt extraheras frn din uppladdade PDF-fil.",tags:"Taggar",add_tag_placeholder:"Lgg till ny tagg",documents_attachments:"Dokument & Bilagor (PDF)",upload_pdf_description:"Ladda upp PDF-dokument att bifoga till denna artikel",uploading:"Uppladdar...",choose_pdf_file:"Vlj PDF-Fil",max_file_size:"Maximal filstorlek: 20 MB",uploaded_files:"Uppladdade Filer",primary:"Primr",set_primary:"Stt Primr"},t3={title:"Ngot gick fel",message:"Ett ovntat fel uppstod.",retry:"Frsk Igen",error_details:"Feldetaljer"},r3={title:"404 - Sidan Hittades Inte",message:"Sidan du letar efter finns inte."},i3={placeholder:"Frga om fastigheter, platser eller fastighetsmarknad...",search:"Frga AI-assistenten",searching:"Sker...",results_title:"AI Skresultat",no_results:"Inga resultat hittades"},s3={properties:"Fastigheter",countries:"Lnder",brokers:"Mklare",leads:"Leads"},n3={professional_question:"r du en Fastighetsmklare?"},a3={badge:"Mt Dina Guider",title:"Frn Skandinavien till Sydeuropa",title2:"Vi Guidar Dig Varje Steg p Vgen",subtitle:"Vi frstr det skandinaviska sttet att gra affrer - transparent, plitligt och personligt.",joel_role:"Medgrundare & Affrsutvecklingschef",joel_quote:"Varje klient frtjnar personlig vgledning genom sin fastighetsresa.",joar_role:"Medgrundare & Verkstllande Direktr",joar_quote:"Vi hjlper skandinaver att kpa fastigheter i Sydeuropa med tydlighet, skerhet och fullt std genom hela processen.",customer_appreciation_title:"Vra Klienter Uppskattar Vr Personliga Approach",customer_appreciation_text:"Mnga av vra klienter kommer genom rekommendationer frn njda kunder som vrdesatte vr transparenta process och dedikerade std genom hela deras fastighetskp i Spanien, Sydfrankrike, Italien, Kroatien och Grekland"},o3={badge:"Guider & Resurser",title:"Guider fr att Kpa Fastighet i Sydeuropa",subtitle:"Expertinsikter fr att hjlpa dig fatta vlgrundade beslut om ditt fastighetskp",read_more:"Ls Mer",view_all:"Visa Alla Artiklar",category_guide:"Guide",category_legal:"Juridiskt",category_lifestyle:"Livsstil",article1_title:"Kpa Fastighet i Spanien som Skandinav",article1_excerpt:"Allt du behver veta om att kpa fastighet i Spanien, frn juridiska krav till att hitta rtt plats.",article2_title:"Juridiska vervganden vid Kp utomlands",article2_excerpt:"Frst den juridiska processen, skatter och dokumentation som behvs nr du kper fastighet i Sydeuropa.",article3_title:"Bsta Regionerna i Sydeuropa fr Pensionrer",article3_excerpt:"Utforska de mest populra regionerna fr skandinaviska pensionrer i Spanien, Portugal, Italien och Grekland."},l3={title:"Vgledning",subtitle:"Din steg-fr-steg guide till att kpa fastighet i Sydeuropa",coming_soon:"Kommer Snart",description:"Vi arbetar p omfattande steg-fr-steg guider fr att hjlpa dig kpa fastighet i Spanien, Frankrike, Italien, Kroatien, Grekland och mer. Kom tillbaka snart fr detaljerad vgledning.",have_questions:"Har du frgor?",contact_us:"Kontakta Oss"},c3={nav:S$,hero:E$,search:A$,property_types:N$,featured:C$,properties:P$,seller:T$,time:R$,image:I$,home:D$,forum:F$,common:L$,language:M$,auth:O$,inquiry:$$,lead:V$,property_request:z$,forum_post:B$,packages:U$,dashboard:q$,submit_property:H$,list_property:G$,edit_property:W$,admin:K$,agent:Y$,about:X$,work_with_us:J$,articles:Q$,article_view:Z$,article_editor:e3,error_boundary:t3,not_found:r3,ai_assistant:i3,kpis:s3,brokers:n3,team:a3,blog:o3,guidance:l3},d3={home:"Koti",properties:"Ominaisuudet",articles:"Artikkelit",forum:"Keskustelu",work_with_us:"Tyskentele kanssamme",about_us:"Meist",panel:"Paneeli",login:"Kirjaudu",guidance:"Guidance"},u3={badge:"Premium Kiinteistplattformi",title:"Lyd Unelmiesi Kiinteist Maailmasta",subtitle:"Kokeile nopeutta, luottamusta ja avoimuutta kiinteistjen alalla. Yhdist todentuneisiin ammattilaisiin ja lyd erittin poikkeuksellisia kiinteistj ympri maailmaa.",browse_properties:"Selaa Kiinteistj",list_property:"Listaa Kiinteist",premium_properties:"Premium Kiinteistt",countries:"Maat",viaestate_title:"Skandinaviasta Etel-Eurooppaan",viaestate_subtitle:"Opastamme Sinua Jokaisessa Vaiheessa",viaestate_description:"Ymmrrmme skandinaavisen tavan tehd liiketoimintaa - avoimesti, luotettavasti ja henkilkohtaisesti.",view_properties:"Nyt Kiinteistt",book_consultation:" Varaa Konsultaatio"},h3={placeholder_country:"Maa (esim. Espanja, Ranska)",property_type:"Kiinteistn tyyppi",max_price:"Maksimi Hinta",min_price:"Minimi Hinta",search:"Hae",bedrooms:"Makuuhuoneet",bathrooms:"Kylpyhuoneet",clear_all:"Tyhjenn Kaikki",advanced_filters:"Edistyneet Suodattimet",verified_only:"Vain todentuneet kiinteistt"},p3={house:"Talo",apartment:"Asunto",condo:"Osakehuoneisto",villa:"Villa",land:"Maa",commercial:"Kauppakeskus"},f3={title:"Valitut Kiinteistt",subtitle:"Lyd ksin valittuja luksuskiinteistj ympri maailmaa, valikoitu meidn asiantuntijoitamme kiinteistalalta.",view_all:"Nyt Kaikki Kiinteistt"},m3={select_country:"Valitse Maa",show_all:"Nyt Kaikki",search_filter:"Hae & Suodata Kiinteistj",search_filter_desc:"Etsi tydellist kiinteist meidn edistyneill hae- ja suodatusvlineill",search_placeholder:"Hae kiinteistj...",country_placeholder:"Maa (esim. Espanja, Ranska, Italia)",city_placeholder:"Kaupunki",min_price_placeholder:"Minimi Hinta ()",max_price_placeholder:"Maksimi Hinta ()",no_properties:"Ei kiinteistj saatavilla viel",no_properties_desc:"Saapuu pian. Ole ensimminen listauskiinteist tai tarkista myhemmin.",no_match:"Ei kiinteistj tytt suodattimia",no_match_desc:"Yrit tyhjent suodattimet tai muuttaa hakua.",back_home:"Takaisin Kotisivulle",list_your_property:"Listaa Kiinteist",clear_filters:"Tyhjenn Suodattimet",not_found:"Kiinteist ei lydy",not_found_desc:"Kiinteist, jota etsit, ei ole en olemassa tai se ei ole en saatavilla.",error_loading:"Ei voitu ladata kiinteisttietoja.",property_details:"Kiinteisttiedot",bedrooms:"Makuuhuoneet",bathrooms:"Kylpyhuoneet",area_info:"Alueen Tiedot",living_area:"Asuinpinta-ala",plot_area:"Kyttala",distance_info:"Etisyysinformaatio",city_center:"Kaupungin Keski",to_sea:"Meren Plle",to_lake:"Jrven Plle",agent_info:"Asiakasagentti Info",send_inquiry:"Lhet Kysely",join_discussion:"Liity Keskusteluun",no_images:"Ei kuvia saatavilla",back_to_properties:"Takaisin Kiinteistihin",seller_type:"Tyyppi",listed:"Luettelossa",featured:"Valittu",for_sale:"Myytvn",for_rent:"Vuokrattavana",verified:"Todentunut"},g3={professional:"Ammattilainen",private:"Yksityinen"},v3={month:"/kuukausi"},_3={unavailable:"Kuva ei saatavilla"},y3={how_it_works:"Miten Se Toimii",how_it_works_desc:"Yksinkertainen, nopea ja avoin kiinteistjen ostaminen ja myyminen",step1_title:"Selaa Kiinteistj",step1_desc:"Lyd todentuneita premium-kiinteistj luotettavista ammattilaisista ympri maailmaa",step2_title:"Yhdist Mklreihin",step2_desc:"Vastaava todentuneita mklrej tai listaa kiinteistsi asiantuntijatukeen",step3_title:"Varmista Unelmiesi",step3_desc:"Varmista transaktiot omalla luottamuksella meidn turvallisella alustalla",why_choose:"Miksi Valita ViaEstate",why_choose_desc:"Kokeile kiinteistjen tulevaisuutta meidn premium-alustalla, joka on suunniteltu vaativille ostajille, myyjille ja mklreille ympri maailmaa.",feature1_title:"Premium Kiinteistt",feature1_desc:"Saavut eksklusiivisiin luksuskiinteistihin todentuneilta mklreilt yli 50+ maasta ympri maailmaa.",feature2_title:"AI-drevet Selaaminen",feature2_desc:"Meidn lyks jrjestelm vastaa sinua tydellisiin kiinteistihin perustuen valintoihisi.",feature3_title:"Ekspertmklrit",feature3_desc:"Yhdist todentuneisiin ammattilaisiin, jotka ymmrtvt markkinaasi.",footer_tagline:"Portti Premium-kiinteistihin ympri maailmaa"},x3={community_discussion:"Yhteisn Keskustelu",ask_question:"Kysy Kysymys",ask_placeholder:"Kysy tst kiinteistst, naapurustosta tai muusta...",post_question:"Lhet Kysymys",post_submitted:"Viesti Lhetetty",post_submitted_desc:"Viestisi on lhetetty tarkistettavaksi ja nytetn pian.",post_error:"Ei voitu luoda viesti. Yrit uudelleen.",login_required:"Kirjautuminen Vaatii",login_required_desc:"Kirjaudu sisn kysyksesi kysymyksi.",submit_review:"Lhet Tarkistettavaksi",community_member:"Yhteisn Jsen",no_discussion:"Ei keskustelua viel. Ole ensimminen kysymn kysymyksi tst kiinteistst!",login_to_ask:"Kirjaudu sisn kysyksesi kysymyksi tst kiinteistst.",error_fetching:"Virhe haettaessa viestej",please_sign_in:"Kirjaudu sisn",login_required_post:"Sinun on oltava kirjautunut sisn luodaksesi viesti.",error_creating:"Virhe luodessa viesti",just_now:"Juuri nyt",minutes_ago:"{count} minuuttia sitten",hours_ago:"{count} tuntia sitten",days_ago:"{count} piv sitten",new_post:"Uusi Viesti",create_new_post:"Luo Uusi Viesti",dialog_description:"Jaa ajatuksiasi, kysy kysymyksi tai aloita keskustelu yhteisn kanssa. Viestisi tarkistetaan ennen julkaisua.",title:"Otsikko",title_placeholder:"Mist viestisssi on kyse?",content:"Sislt",content_placeholder:"Jaa ajatuksiasi...",please_sign_in_desc:"Kirjaudu sisn luodaksesi viesti.",search_placeholder:"Etsi keskustelua...",no_posts_found:"Ei viestej lydetty",try_adjusting_search:"Yrit muuttaa hakutermi tai selaa kaikkia viestej.",be_first_to_discuss:"Ole ensimminen aloittamaan keskustelu yhteismme kanssa!",create_first_post:"Luo Ensimminen Viesti"},b3={loading:"Ladataan...",error:"Virhe",try_again:"Yrit Uudelleen",close:"Sulje",save:"Tallenna",cancel:"Peruuta",submit:"Lhet",edit:"Muokkaa",delete:"Poista",view:"Nyt",back:"Takaisin",save_changes:"Tallenna Muutokset",saving:"Tallennetaan...",submitting:"Lhetetn...",anonymous:"Anonyymi"},w3={switcher_title:"Kieli",nb:"Norja",da:"Tanska",fi:"Suomi"},k3={welcome_back:"Tervetuloa takaisin!",login_success:"Olet kirjautunut sisn onnistuneesti.",login_failed:"Kirjautuminen eponnistui",google_failed:"Google-kirjautuminen eponnistui",account_created:"Tili Luotu!",account_pending:"Tilisi odottaa hallinnollista hyvksynt. Saat ilmoituksen, kun se on hyvksytty.",signup_failed:"Rekisterinti eponnistui",reset_sent:"Salasanan palautusviesti lhetetty",reset_instructions:"Tarkista shkpostisi ohjeita salasanan palauttamiseksi.",reset_failed:"Salasanan palautus eponnistui",error_generic:"Odottamaton virhe tapahtui",welcome_title:"Tervetuloa ViaEstate",welcome_subtitle:"Kirjaudu tilillesi tai luo uusi",sign_in:"Kirjaudu Sisn",sign_up:"Rekisteridy",email:"Shkposti",password:"Salasana",signing_in:"Kirjaudutaan...",forgot_password:"Unohdit salasanan?",or_continue:"Tai jatka",google_continue:"Jatka Googlen kanssa",full_name:"Koko Nimi",account_type:"Tilin Ty",select_type:"Valitse tilin tyyppi",private_seller:"Yksityinen Myyj",broker:"Kiinteist Mklri",creating:"Luodaan tilia...",create_account:"Luo Tili",reset_password:"Palauta Salasana",reset_description:"Kirjoita shkpostiosoitteesi, niin lhetmme sinulle linkin salasanan palauttamiseksi.",email_address:"Shkpostiosoite",sending:"Lhetetn...",send_reset:"Lhet Palautuslinkki"},j3={title:"Lhet Kysely",name:"Nimesi",email:"Shkpostiosoite",phone:"Puhelinnumero",message:"Viesti",message_placeholder:"Olen kiinnostunut tst kiinteistst...",send:"Lhet Kysely",sending:"Lhetetn...",success:"Kysely lhetetty onnistuneesti!",error:"Ei voitu lhett kysely. Yrit uudelleen.",cancel:"Peruuta"},S3={title:"Yhteystieto Agentti",name:"Nimesi",email:"Shkposti",phone:"Puhelin",message:"Viesti",send:"Lhet Viesti",sending:"Lhetetn...",success:"Viesti lhetetty onnistuneesti!",error:"Ei voitu lhett viesti. Yrit uudelleen.",close:"Sulje",cancel:"Peruuta",submitted:"Lhetetty",property_id:"Kiinteistn ID"},E3={title:"Lhet Kiinteistpyynt",subtitle:"Lhet kiinteisttietosi ja saa yhteytt ammattilaisiin kiinteistmaittariin, jotka hoitavat mainostasi.",submit:"Lhet Kiinteistpyynt",submitting:"Lhetetn...",success:"Kiinteistpyynt Lhetetty!",success_desc:"Kiinteistpyyntsi on lhetetty. Mklrit voivat vastaanottaa sen ja ottaa sinuun yhteytt suoraan.",error:"Viestin lhettminen eponnistui",error_generic:"Odottamaton virhe tapahtui"},A3={title:"Kysy Kysymys",placeholder:"Kysy tst kiinteistst, naapurustosta tai muusta...",submit:"Lhet Kysymys",submitting:"Lhetetn...",success:"Kysymys Lhetetty",success_desc:"Kysymyksesi on lhetetty ja tarkistetaan meidn tiimillmme.",error:"Virhe",error_generic:"Odottamaton virhe tapahtui"},N3={basic_title:"Perus",basic_desc:"Tydellinen yksityisille myyjille",professional_title:"Ammattilainen",professional_desc:"Oikealleen myyjille ja pienille toimistoille",premium_title:"Premium",premium_desc:"Upea kiinteistkokemus",commission_only:"Provisio vain onnistuneella myynnill",professional_presentation:"Ammattilainen kiinteistn esittely",marketing_platform:"Markkinointi alustallamme",everything_basic:"Kaikki Perus-suunnitelmasta, plus:",video_editing:"Ammattilainen videomuokkaus ja rtlity markkinointi",photographer:"Erittin valittu valokuvaaja ilmoituksiisi",quote_request:"Pyyd Tarjous",requesting:"Pyydetn..."},C3={title:"Kojelauta",my_properties:"Minun Kiinteistni",my_leads:"Minun Leads",no_properties:"Et ole luonut viel yhtn kiinteist.",list_property:"Listaa Kiinteist",no_leads:"Ei leads viel.",delete_property:"Poista Kiinteist",confirm_delete:"Oletko varma, ett haluat poistaa tmn kiinteistn? Tt ei voi perua.",deleted:"Kiinteist poistettu onnistuneesti",error_deleting:"Virhe poistettaessa kiinteist",loading:"Ladataan kojelaudaa...",professional_broker:"Ammattilainen Mklri",private_seller:"Yksityinen Myyj"},P3={title:"Listaa Kiinteist",subtitle:"Listaa kiinteist alustallamme ja saavuta ostajia ympri maailmaa."},T3={title:"Listaa Kiinteist",professional_broker:"Ammattilainen Mklri Tili",private_seller:"Yksityinen Myyj Tili",cancel:"Peruuta",submit:"Listaa Kiinteist",submitting:"Lhetetn...",fill_required:"Tyt kaikki pakolliset kentt.",valid_price:"Syt kelvollinen hinta.",creation_error:"Kiinteistn luominen ei antanut mitn tulosta. Yrit uudelleen.",error_listing:"Virhe luettaessa kiinteist"},R3={title:"Muokkaa Kiinteist",for_sale:"Myytvn",for_rent:"Vuokrattavana",cancel:"Peruuta",save:"Tallenna Muutokset",saving:"Tallennetaan...",error_loading:"Ei voitu ladata kiinteisttietoja.",error_updating:"Ei voitu pivitt kiinteist.",loading:"Ladataan kiinteist...",property_not_found:"Kiinteist ei lydy"},I3={title:"Yllpito Paneeli",properties:"Kiinteistt",users:"Kyttjt",posts:"Viestit",leads:"Leads",loading:"Ladataan yllpito-paneelia...",role_admin:"Admin",role_broker:"Kiinteist Mklri",role_private:"Yksityinen Myyj",save_changes:"Tallenna Muutokset",saving:"Tallennetaan...",cancel:"Peruuta",delete:"Poista",confirm_delete_user:"Oletko varma, ett haluat poistaa tmn kyttjn?",confirm_delete_property:"Oletko varma, ett haluat poistaa tmn kiinteistn?",confirm_delete_post:"Oletko varma, ett haluat poistaa tmn viestin?",confirm_delete_lead:"Oletko varma, ett haluat poistaa tmn leadin?",error_loading:"Virhe ladattaessa yllpitoa tietoja",error_updating:"Virhe pivittess",error_deleting:"Virhe poistettaessa",role_updated:"Rooli pivitetty",xml_import:"Tuonti XML",xml_url:"XML-URL",importing:"Tuodaan...",import_success:"XML tuotu onnistuneesti",import_error:"Tuontivirhe",translate:"Knn Kiinteistt",translating:"Knnetn...",translate_success:"Knns valmis",translate_error:"Knnsvirhe",properties_translated:"Kiinteistt knnetty",errors:"Virheet",author:"Tekij",anonymous:"Anonyymi",submitted:"Lhetetty"},D3={title:"Agentti Paneeli",my_properties:"Minun Kiinteistni",open_requests:"Auki Pyynnt",claimed_requests:"Lainatut Pyynnt",loading:"Ladataan agentti-paneelia...",claim:"Lainaa",claiming:"Lainataan...",claim_success:"Pyynn lainattu onnistuneesti",claim_error:"Virhe lainattaessa pyynt",no_properties:"Et ole luonut viel yhtn kiinteist."},F3={title:"Meist ViaEstate",subtitle:"Luotettava kumppani lytksesi tydellisen kiinteistn maailmasta.",about_viaestate:"Meist ViaEstate",about:"Meist",us:"Me",founded_desc:"ViaEstate perustettiin Karlstadissa, Ruotsissa, vuonna 2025 selkell visiolla: helpottaa skandinaavien kiinteistn ostamista Etel-Euroopassa turvallisesti ja luottavaisesti.",mission:"Meidn Tehtvmme",mission_desc1:"Toimimme sillan skandinaavisten ostajien ja luotettujen paikallisten ammattilaisten vlill Espanjassa, Portugalissa, Italiassa ja Kreikassa.",mission_desc2:"Meidn tavoitteemme on yksinkertainen: auttaa kiinteistliiketoimia kasvamaan, saavuttaa lis asiakkaita ja esitell heidn kiinteistns mahdollisimman ammattimaisesti ja houkuttelevasti.",founded_2025:"Perustettu 2025",karlstad_sweden:"Karlstad, Ruotsi",meet_founders:"Tutustu Perustajiin",founders_desc:"ViaEstate on luonut kaksi intohimoista yrittj, joilla on yhteinen visio Euroopan kiinteistnmarkkinoiden mullistamisesta. Yhdess meill on kokemusta teknologiasta ja markkinoinnista.",digital_marketing:"Digitaalinen Markkinointi",digital_marketing_desc:"Promotoimme ilmoituksiasi sosiaalisen median alustoilla ja kohdistetussa viestinnss.",property_listings:"Kiinteistilmoitukset",property_listings_desc:"Julkaisemme liiketoimintakiinteistsi eksklusiivisella ViaEstate-alustalla, jossa potentiaaliset ostajat ja investoijat aktiivisesti etsivt.",lead_generation:"Lead Generation",lead_generation_desc:"Yhdistmme mkelaarit suoraan uusille, tarkistetuille leadsille ja asiakkaille.",performance_stats:"Suoritusstatistiikka",performance_stats_desc:"Antaa yksityiskohtaisia nkemyksi ja analyyttej siit, miten kiinteistsi suoriutuvat verkossa.",value_connecting:"Yhdist ihmisi ja kiinteistj",value_marketing:"lyks digitaalinen markkinointi",value_insights:"Tietopohjaiset nkemykset",value_showcase:"Ammattimainen kiinteistn esittely",services:"Meidn Palvelumme",services_desc:"Erityisosaamismme on ihmisten ja kiinteistjen yhdistminen lykkll digitaalisella markkinoinnilla ja nkyvyydell.",private_clients_title:"Uusi Ominaisuus Yksityisille Asiakkaille",private_clients_desc1:"Alustamme sallii mys yksityishenkilille ilmoittaa omia kiinteistj. Siit lhtien mkelaarit voivat lunastaa ja auttaa nit ilmoituksia  auttaen yksityisi myyji saamaan ammattilaisten tukea sulkeakseen sopimuksiaan nopeammin.",private_clients_desc2:"Tm ominaisuus luo uusia mahdollisuuksia molemmille puolille  yksityisille asiakkaille tulee ammattilaisen apu ja mkelaareille tulee uusia potentiaalisia ilmoituksia.",our_purpose:"Tarkoituksemme",purpose_desc1:"Kiinteistn ostaminen vieraasta maasta voi tuntua ylivoimaiselta. On eri lakeja, kieli ja tapoja navigoitava  usein ilman tarvitsemaasi tukea.",purpose_desc2:"ViaEstate luotiin muuttamaan tm. Toimimme sillan skandinaavisten ostajien ja luotettujen paikallisten ammattilaisten vlill Espanjassa, Portugalissa, Italiassa ja Kreikassa.",purpose_desc3:"Missiomme on yksinkertainen: tehd kiinteistn ostamisesta Etel-Euroopassa mahdollisimman sujuvaa, turvallista ja luottavaa.",how_we_work:"Miten Toimimme",step1_title:"Kiinteistvalinta",step1_desc:"Autamme sinua lytmn kiinteistj, jotka vastaavat mieltymyksisi ja budjettiasi Etel-Euroopassa.",step2_title:"Koordinointi",step2_desc:"Koordinoimme luotettujen paikallisten vlittjien, asianajajien ja notaarien kanssa puolestasi.",step3_title:"Opastus Loppuunsaattamiseen",step3_desc:"Opastamme sinua jokaisessa vaiheessa, kunnes saat uuden kotisi avaimet.",cta_title:"Valmis Lytmn Kotisi Etel-Euroopassa?",cta_desc:"Olemme tll opastamassa sinua jokaisessa vaiheessa kiinteistn ostamisessa ulkomailta. Varaa ilmainen konsultatio keskustellaksesi suunnitelmistasi.",cta_button:"Ota Yhteytt",joel_title:"Perustaja & Liikkeenkehitysjohtaja",joel_desc:"Laajalla kokemuksella liikkeenkehityksest ja skandinaavisilla markkinoilla Joel varmistaa, ett jokainen asiakas saa henkilkohtaista huomiota ja lyt tydellisen kiinteistns Etel-Euroopassa.",joar_title:"Perustaja & Toimitusjohtaja",joar_desc:"Joar tuo syvn asiantuntemuksen kansainvlisest kiinteistalasta ja teknologiasta. Hnen visionsa ohjaa ViaEstaten missiota yksinkertaistaa kiinteistn ostamista skandinaavisille ostajille ympri Euroopan."},L3={title:"Tyskentele Kanssamme",subtitle:"Yhdist meidn verkostoon luotettavista ammattilaisista kiinteistalalta.",work_with:"Tyskentele Kanssa",us:"Meill",intro:"ViaEstate on moderni kiinteistalusta, joka auttaa mkelaareja kasvattamaan liiketoimistaan. Tarjoamme tykaluja ja palveluja, jotka helpottavat asiakkaiden saavuttamista, kiinteistjen markkinointia ja pivittisen tyn suorittamista kiinteistmkeln.",what_offer:"Mit Me Tarjoamme Mklreille",broker_grow:"Me Autamme Mkelaareja Kasvamaan",broker_grow_desc:"Tarjoamme moderneja alustoja, jotka auttavat kiinteistmkelaareja saavuttamaan lis asiakkaita ja suorittamaan liiketoimintaa tehokkaammin. Verkkomme antaa acessoja tuhansille potentiaalisille ostajille ja myyjille.",international_reach:"Kansainvlinen Vaikutus",international_reach_desc:"Kansainvlisen verkkomme kautta voit markkinoida kiinteistj ostajille ympri maailmaa. Me ksittelemme monikielist sislt ja kansainvlistmist sinulle.",mobile_app:"Tulossa Pian: Mobiilisovellus",mobile_app_desc:"Kehitmme moderni sovellusta, joka tekee kiinteistjen ja yhteystietojen hallinnasta viel helpompaa. Suunniteltu sstmn aikaa ja lismn tehokkuutta.",booking_system:"Tulossa Pian: Varaussysteemi",booking_system_desc:"Uusi varaussysteemi on kehitteill, joka antaa sinun suunnitella nkemi, hallita tapaamisia ja seurata potentiaalisia asiakkaita suoraan alustan kautta.",get_started:"Valmis Aloittamaan?",contact_desc:"Ota meihin yhteytt tnn keskustellaksesi, miten voimme auttaa sinua kasvattamaan mkelaariyrityksesi. Autamme sinua lytmn oikean ratkaisun tarpeisiinne."},M3={title:"Artikkelit & Uutiset",search:"Hae artikkeleita...",search_error:"Virhe etsiess artikkeleita",no_articles:"Artikkeleita ei lytynyt",loading:"Ladataan artikkeleita...",load_more:"Lataa Lis Artikkeleita",featured:"Valittu",read_more:"Lue lis",search_placeholder:"Hae artikkeleita...",searching:"Etsitn...",load_failed:"Ei voitu ladata artikkeleita",no_found:"Artikkeleita ei lytynyt",no_published:"Artikkeleita ei julkaistu viel",try_adjust:"Yrit st hakuehtoja tai selata kaikki artikkeleita.",check_back:"Tarkista myhemmin uutta sislt.",view_all:"Nyt Kaikki Artikkelit",viaestate_team:"ViaEstate Tiimi",view_pdf:"Nyt PDF",found_results:"Lydetty",results:"tulos",results_plural:"a",for_query:"haulle",pdf_article:"PDF Artikkeli",match:"Sopivuus",pdf_document:"PDF Dokumentti",pdf_available:"PDF Dokumentti Saatavilla",showing:"Nytetn",article:"artikkeli",articles:"a"},O3={error_loading:"Virhe ladattaessa artikkelia",article_not_found:"Artikkelia ei lydy tai se ei ole julkaistu",pdf_preview:"PDF Esikatselu",download:"Lataa",featured_article:"Valittu Artikkeli",error:"Virhe",article_not_found_title:"Artikkeli Ei Lydy",article_not_found_desc:"Artikkeli, jota etsit, ei ole en olemassa tai se on poistettu.",back_to_articles:"Takaisin Artikkeleihin",published:"Julkaistu",by:"Kirjoittanut",viaestate_team:"ViaEstate Tiimi",pdf_document:"PDF Dokumentti",open_new_tab:"Avaa Uudessa Vlilehdess",additional_documents:"Lisdokumentit",preview:"Esikatselu",pdf_preview_failed:"PDF esikatselua ei voi ladata",download_started:"Lataus Aloitettu",downloading_file:"Ladataan {fileName}",enjoyed_article:"Pidit tst artikkelista? Tarkista lis sislt blogissamme.",browse_all_articles:"Selaa Kaikki Artikkelit"},$3={title:"Otsikko",content:"Sislt",content_required:"Sislt on pakollista. Anna sislt tai lataa PDF-tiedosto.",save_draft:"Tallenna Luonnos",publish:"Julkaise",update:"Pivit",saving:"Tallennetaan...",upload_image:"Lataa Kuva",upload_pdf:"Lataa PDF",image_error:"Virhe ladattaessa kuvaa",pdf_error:"Virhe ladattaessa PDF-tiedostoa",file_error:"Virhe ladattaessa tiedostoa",file_deleted:"Tiedosto poistettu onnistuneesti",error_deleting:"Virhe poistettaessa tiedostoa",featured:"Valittu artikkeli",error_saving:"Virhe tallennettaessa artikkelia",error_creating_tag:"Virhe luodessa tunnusta",error_updating:"Virhe pivittess",success_saved:"Artikkeli tallennettu onnistuneesti",success_published:"Artikkeli julkaistu onnistuneesti",error_loading:"Ei voitu ladata artikkelia",image_type_error:"Vain JPEG, PNG ja WebP kuvat ovat sallittuja",image_size_error:"Kuvan koko on oltava alle 5MB",image_uploaded:"Kuva ladattu onnistuneesti",pdf_type_error:"Vain PDF-tiedostot ovat sallittuja",pdf_size_error:"Tiedoston koko on oltava alle 20MB",pdf_uploaded:"PDF-tiedosto ladattu onnistuneesti",primary_file_updated:"P tiedosto pivitetty",error_updating_primary:"Ei voitu pivitt p tiedostoa",title_required:"Otsikko on pakollinen",extracting_text:"Etsitn PDF-teksti",extracting_text_desc:"Odota hetki, kun etsimme teksti PDF-tiedostosta...",text_extracted:"Teksti etsitty",text_extracted_desc:"PDF-teksti on etsitty ja se kytetn artikkelin sislln",extraction_failed:"Tekstin etsiminen eponnistui",extraction_failed_desc:"Ei voitu etsi teksti PDF-tiedostosta. Artikkeli tallennetaan ilman sislt.",success_created:"Artikkeli luotu onnistuneesti",success_updated:"Artikkeli pivitetty onnistuneesti",edit_title:"Muokkaa Artikkelia",create_title:"Luo Uusi Artikkeli",edit_description:"Pivit artikkelin sislt",create_description:"Kirjoita uusi artikkeli blogisiin",preview:"Esikatselu",basic_info:"Perustiedot",title_placeholder:"Kirjoita artikkelin otsikko",slug_placeholder:"url-ystvllinen-slug",excerpt_placeholder:"Lyhyt kuvaus artikkelista",cover_image:"Kansikuva",change_image:"Vaihda Kuva",remove:"Poista",upload_cover_image:"Lataa kansikuva",choose_file:"Valitse Tiedosto",optional:"valinnainen, jos PDF on ladattu",content_placeholder:"Kirjoita artikkelin sislt thn...",content_placeholder_pdf:"Kirjoita artikkelin sislt thn, tai jt tyhjksi kyttksesi etsitty PDF-teksti...",content_extraction_info:"Sislt etsitn automaattisesti ladatusta PDF-tiedostosta.",tags:"Tunnisteet",add_tag_placeholder:"Lis uusi tunniste",documents_attachments:"Dokumentit & Liitteet (PDF)",upload_pdf_description:"Lataa PDF-dokumenteja liittmn thn artikkeliin",uploading:"Ladataan...",choose_pdf_file:"Valitse PDF-tiedosto",max_file_size:"Maksimi tiedostokoko: 20 MB",uploaded_files:"Ladattavat Tiedostot",primary:"P",set_primary:"Aseta P"},V3={title:"Jokin Meni Vrin",message:"Odottamaton virhe tapahtui.",retry:"Yrit Uudelleen",error_details:"Virhen Tiedot"},z3={title:"404 - Sivua Ei Lydy",message:"Sivua, jota etsit, ei ole olemassa."},B3={placeholder:"Kysy kiinteistist, paikoista tai kiinteistmarkkinoista...",search:"Kysy AI-avustajaa",searching:"Etsitn...",results_title:"AI Hakutulokset",no_results:"Ei tuloksia"},U3={properties:"Kiinteistt",countries:"Maat",brokers:"Mklrit",leads:"Leads"},q3={professional_question:"Oletko Kiinteist Mklri?"},H3={badge:"Tapa Oppaasi",title:"Skandinaviasta Etel-Eurooppaan",title2:"Opastamme Sinua Jokaisessa Vaiheessa",subtitle:"Ymmrrmme skandinaavisen tavan tehd liiketoimintaa - avoimesti, luotettavasti ja henkilkohtaisesti.",joel_role:"Perustaja & Liikkeenkehitysjohtaja",joel_quote:"Jokainen asiakas ansaitsee henkilkohtaisen opastuksen kiinteistmatkallaan.",joar_role:"Perustaja & Toimitusjohtaja",joar_quote:"Autamme skandinaaveja ostamaan kiinteistj Etel-Euroopassa selkeyden, turvallisuuden ja tyden tuen kautta koko prosessin ajan.",customer_appreciation_title:"Asiakkaat Arvostavat Henkilkohtaista Lhestymistapaamme",customer_appreciation_text:"Monet asiakkaistamme tulevat suosittelujen kautta tyytyvisilt asiakkailta, jotka arvostivat lpinkyv prosessiamme ja omistautunutta tukeamme koko kiinteistostoprosessin ajan Espanjassa, Etel-Ranskassa, Italiassa, Kroatiassa ja Kreikassa."},G3={badge:"Oppaat & Resurssit",title:"Oppaat Kiinteistn Ostamiseen Etel-Euroopassa",subtitle:"Asiantuntijankemykset auttavat sinua tekemn tietoisia ptksi kiinteistostostasi",read_more:"Lue Lis",view_all:"Nyt Kaikki Artikkelit",category_guide:"Opas",category_legal:"Lainopillinen",category_lifestyle:"Elmntyyli",article1_title:"Kiinteistn Ostaminen Espanjasta Skandinaavina",article1_excerpt:"Kaikki mit tarvitsee tiet kiinteistn ostamisesta Espanjasta, oikeudellisista vaatimuksista oikean sijainnin lytmiseen.",article2_title:"Oikeudelliset Nkkohdat Ulkomaille Ostettaessa",article2_excerpt:"Ymmrr oikeudellinen prosessi, verot ja dokumentaatio, joita tarvitaan ostettaessa kiinteist Etel-Euroopassa.",article3_title:"Parhaat Alueet Etel-Euroopassa Elkelisille",article3_excerpt:"Tutki suosituimmat alueet skandinaavisille elkelisille Espanjassa, Portugalissa, Italiassa ja Kreikassa."},W3={title:"Opastus",subtitle:"Vaihe-vaihe-opas kiinteistn ostamiseen Etel-Euroopassa",coming_soon:"Tulossa Pian",description:"Tyskentelemme kattavien vaihe-vaihe-oppaiden parissa auttaaksemme sinua ostamaan kiinteistn Espanjassa, Ranskassa, Italiassa, Kroatiassa, Kreikassa ja muualla. Tarkista pian yksityiskohtaisen opastuksen saamiseksi.",have_questions:"Onko kysyttv?",contact_us:"Ota Yhteytt"},K3={nav:d3,hero:u3,search:h3,property_types:p3,featured:f3,properties:m3,seller:g3,time:v3,image:_3,home:y3,forum:x3,common:b3,language:w3,auth:k3,inquiry:j3,lead:S3,property_request:E3,forum_post:A3,packages:N3,dashboard:C3,submit_property:P3,list_property:T3,edit_property:R3,admin:I3,agent:D3,about:F3,work_with_us:L3,articles:M3,article_view:O3,article_editor:$3,error_boundary:V3,not_found:z3,ai_assistant:B3,kpis:U3,brokers:q3,team:H3,blog:G3,guidance:W3},Y3={home:"Hjem",properties:"Ejendomme",articles:"Artikler",forum:"Forum",work_with_us:"Arbejd med os",about_us:"Om os",panel:"Panel",login:"Log ind",guidance:"Guidance"},X3={badge:"Premium Ejendomsplatform",title:"Opdag Din Drmmeejendom Verden Over",subtitle:"Oplev hastighed, tillid og gennemsigtighed i ejendomme. Forbind med verificerede professionelle og opdag ekstraordinre ejendomme verden over.",browse_properties:"Gennemse Ejendomme",list_property:"List Din Ejendom",premium_properties:"Premium Ejendomme",countries:"Lande",viaestate_title:"Fra Skandinavien til Sydeuropa",viaestate_subtitle:"Vi Vejleder Dig Hvert Skridt p Vejen",viaestate_description:"Vi forstr den skandinaviske mde at drive forretning p - transparent, plidelig og personlig.",view_properties:"Se Ejendomme",book_consultation:"Bestil Konsultation"},J3={placeholder_country:"Land (f.eks. Spanien, Frankrig)",property_type:"Ejendomstype",max_price:"Maks Pris",min_price:"Min Pris",search:"Sg",bedrooms:"Sovevrelser",bathrooms:"Badevrelser",clear_all:"Ryd Alle",advanced_filters:"Avancerede Filtre"},Q3={house:"Hus",apartment:"Lejlighed",condo:"Andelsbolig",villa:"Villa",land:"Grund",commercial:"Kommercielt"},Z3={title:"Udvalgte Ejendomme",subtitle:"Opdag udvalgte luksusejendomme fra hele verden, kurateret af vores eksperter inden for ejendomme.",view_all:"Vis Alle Ejendomme"},eV={select_country:"Vlg Et Land",show_all:"Vis Alle",search_filter:"Sg & Filtrer Ejendomme",search_filter_desc:"Find din perfekte ejendom med vores avancerede sgevrktjer",search_placeholder:"Sg ejendomme...",country_placeholder:"Land (f.eks. Spanien, Frankrig, Italien)",city_placeholder:"By",min_price_placeholder:"Min Pris ()",max_price_placeholder:"Maks Pris ()",no_properties:"Ingen ejendomme tilgngelige endnu",no_properties_desc:"Kommer snart. Vr den frste til at liste en ejendom eller tjek tilbage om lidt.",no_match:"Ingen ejendomme matcher dine filtre",no_match_desc:"Prv at rydde filtre eller justere din sgning.",back_home:"Tilbage til Hjem",list_your_property:"List Din Ejendom",clear_filters:"Ryd Filtre",not_found:"Ejendom ikke fundet",not_found_desc:"Den ejendom du leder efter eksisterer ikke lngere eller er ikke lngere tilgngelig.",error_loading:"Kunne ikke indlse ejendomsdetaljer.",property_details:"Ejendomsdetaljer",bedrooms:"Sovevrelser",bathrooms:"Badevrelser",area_info:"Areal Information",living_area:"Beboelsesareal",plot_area:"Grundareal",distance_info:"Afstands Information",city_center:"Bycentrum",to_sea:"Til Havet",to_lake:"Til Sen",agent_info:"Agent Information",send_inquiry:"Send Foresprgsel",join_discussion:"Deltag i Diskussion",no_images:"Ingen billeder tilgngelige",back_to_properties:"Tilbage til Ejendomme",seller_type:"Type",listed:"Listet",featured:"Fremhvet",for_sale:"Til Salg",for_rent:"Til Leje",verified:"Verificeret"},tV={professional:"Professionel",private:"Privat"},rV={month:"/mned"},iV={unavailable:"Billede ikke tilgngeligt"},sV={how_it_works:"Hvordan Det Fungerer",how_it_works_desc:"Enkelt, hurtigt og gennemsigtige ejendomstransaktioner",step1_title:"Gennemse Ejendomme",step1_desc:"Opdag verificerede premiumejendomme fra betroede professionelle verden over",step2_title:"Forbind med Mglere",step2_desc:"Matches med certificerede mglere eller list din ejendom for ekspertassistance",step3_title:"Sikr Din Drm",step3_desc:"Frdiggr transaktioner med selvtillid med vores sikre platform",why_choose:"Hvorfor Vlge ViaEstate",why_choose_desc:"Oplev fremtiden for ejendomme med vores premiumplatform designet til krsne kbere, slgere og mglere verden over.",feature1_title:"Premium Ejendomme",feature1_desc:"F adgang til eksklusive luksusejendomme fra verificerede mglere i over 50+ lande verden over.",feature2_title:"AI-drevet Matchning",feature2_desc:"Vores intelligente system matcher dig med perfekte ejendomme baseret p dine prferencer.",feature3_title:"Ekspertmglere",feature3_desc:"Forbind med certificerede ejendomsprofessionelle der forstr din marked.",footer_tagline:"Din port til premiumejendomme verden over"},nV={community_discussion:"Fllesskabsdiskussion",ask_question:"Stil et Sprgsml",ask_placeholder:"Sprg om denne ejendom, kvarteret eller noget andet...",post_question:"Indlg Sprgsml",post_submitted:"Indlg Indsendt",post_submitted_desc:"Dit indlg er blevet indsendt til gennemgang og vil blive vist hurtigst muligt.",post_error:"Kunne ikke oprette indlg. Prv igen.",login_required:"Login Pkrvet",login_required_desc:"Log venligst ind for at stille sprgsml.",submit_review:"Indsend til Gennemgang",community_member:"Fllesskabsmedlem",no_discussion:"Ingen diskussion endnu. Vr den frste til at stille et sprgsml om denne ejendom!",login_to_ask:"Log venligst ind for at stille sprgsml om denne ejendom.",error_fetching:"Fejl ved hentning af indlg",please_sign_in:"Log venligst ind",login_required_post:"Du skal vre logget ind for at oprette et indlg.",error_creating:"Fejl ved oprettelse af indlg",just_now:"Lige nu",minutes_ago:"{count} minutter siden",hours_ago:"{count} timer siden",days_ago:"{count} dage siden"},aV={loading:"Indlser...",error:"Fejl",try_again:"Prv Igen",close:"Luk",save:"Gem",cancel:"Annuller",submit:"Indsend",edit:"Rediger",delete:"Slet",view:"Vis",back:"Tilbage",anonymous:"Anonym"},oV={switcher_title:"Sprog",en:"English",sv:"Svenska",da:"Dansk",de:"Deutsch",it:"Italiano",es:"Espaol",hr:"Hrvatski",fr:"Franais"},lV={welcome_back:"Velkommen tilbage!",login_success:"Du er logget ind successfully.",login_failed:"Login mislykkedes",google_failed:"Google-login mislykkedes",account_created:"Konto oprettet!",account_pending:"Din konto afventer administrativ godkendelse. Du vil blive notified nr det er godkendt.",signup_failed:"Registrering mislykkedes",reset_sent:"E-mail til nulstilling af adgangskode sendt",reset_instructions:"Tjek din e-mail for instruktioner til nulstilling af adgangskode.",reset_failed:"Nulstilling af adgangskode mislykkedes",error_generic:"Der opstod en uventet fejl",welcome_title:"Velkommen til ViaEstate",welcome_subtitle:"Log ind p din konto eller opret en ny",sign_in:"Log Ind",sign_up:"Tilmeld Dig",email:"E-mail",password:"Adgangskode",signing_in:"Logger ind...",forgot_password:"Glemt din adgangskode?",or_continue:"Eller fortst med",google_continue:"Fortst med Google",full_name:"Fuldt Navn",account_type:"Kontotype",select_type:"Vlg kontotype",private_seller:"Privat Slger",broker:"Ejendomsmgler",creating:"Opretter konto...",create_account:"Opret Konto",reset_password:"Nulstil Adgangskode",reset_description:"Indtast din e-mail, s sender vi dig et link til at nulstille din adgangskode.",email_address:"E-mailadresse",sending:"Sender...",send_reset:"Send Nulstillingslink"},cV={error_loading:"Fejl ved indlsning af artikel",article_not_found:"Artikel ikke fundet eller ikke offentliggjort",pdf_preview:"PDF Forhndsvisning",download:"Download",featured_article:"Udvalgt Artikel",error:"Fejl",article_not_found_title:"Artikel Ikke Fundet",article_not_found_desc:"Den artikel du leder efter eksisterer ikke lngere eller er blevet fjernet.",back_to_articles:"Tilbage til Artikler",published:"Offentliggjort",by:"Af",viaestate_team:"ViaEstate Team",pdf_document:"PDF Dokument",open_new_tab:"bn i Ny Fane",additional_documents:"Yderligere Dokumenter",preview:"Forhndsvisning",pdf_preview_failed:"Kunne ikke indlse PDF forhndsvisning",download_started:"Download Startet",downloading_file:"Downloader {fileName}",enjoyed_article:"Liked du denne artikel? Tjek mere indhold p vores blog.",browse_all_articles:"Gennemse Alle Artikler"},dV={title:"Titel",content:"Indhold",content_required:"Indhold er pkrvet. Angiv venligst indhold eller upload en PDF-fil.",save_draft:"Gem Udkast",publish:"Offentliggr",update:"Opdater",saving:"Gemmer...",upload_image:"Upload Billede",upload_pdf:"Upload PDF",image_error:"Fejl ved upload af billede",pdf_error:"Fejl ved upload af PDF",file_error:"Fejl ved upload af fil",file_deleted:"Fil slettet succesfuldt",error_deleting:"Fejl ved sletning af fil",featured:"Udvalgt artikel",error_saving:"Fejl ved gemning af artikel",error_creating_tag:"Fejl ved oprettelse af tag",error_updating:"Fejl ved opdatering",success_saved:"Artikel gemt succesfuldt",success_published:"Artikel offentliggjort succesfuldt",error_loading:"Kunne ikke indlse artikel",image_type_error:"Kun JPEG, PNG og WebP billeder er tilladt",image_size_error:"Billedet skal vre mindre end 5MB",image_uploaded:"Billede uploadet succesfuldt",pdf_type_error:"Kun PDF filer er tilladt",pdf_size_error:"Filen skal vre mindre end 20MB",pdf_uploaded:"PDF uploadet succesfuldt",primary_file_updated:"Primr fil opdateret",error_updating_primary:"Kunne ikke opdatere primr fil",title_required:"Titel er pkrvet",extracting_text:"Ekstraherer PDF-tekst",extracting_text_desc:"Vent venligst mens vi ekstraherer tekst fra din PDF...",text_extracted:"Tekst ekstraheret",text_extracted_desc:"PDF-tekst er blevet ekstraheret og vil blive brugt som artikelindhold",extraction_failed:"Tekst ekstraktion fejlede",extraction_failed_desc:"Kunne ikke ekstrahere tekst fra PDF. Artikel vil blive gemt uden indhold.",success_created:"Artikel oprettet succesfuldt",success_updated:"Artikel opdateret succesfuldt",edit_title:"Redigr Artikel",create_title:"Opret Ny Artikel",edit_description:"Opdater din artikelindhold",create_description:"Skriv en ny artikel til din blog",preview:"Forhndsvisning",basic_info:"Grundlggende Information",title_placeholder:"Indtast artikel titel",slug_placeholder:"url-venlig-slug",excerpt_placeholder:"Kort beskrivelse af artiklen",cover_image:"Omslagsbillede",change_image:"Skift Billede",remove:"Fjern",upload_cover_image:"Upload et omslagsbillede",choose_file:"Vlg Fil",optional:"valgfri, hvis PDF er uploadet",content_placeholder:"Skriv dit artikelindhold her...",content_placeholder_pdf:"Skriv dit artikelindhold her, eller lad det vre tomt for at bruge ekstraheret PDF-tekst...",content_extraction_info:"Indhold vil blive automatisk ekstraheret fra din uploadede PDF-fil.",tags:"Tags",add_tag_placeholder:"Tilfj nyt tag",documents_attachments:"Dokumenter & Vedhftede filer (PDF)",upload_pdf_description:"Upload PDF-dokumenter til at vedhfte til denne artikel",uploading:"Uploader...",choose_pdf_file:"Vlg PDF-fil",max_file_size:"Maksimal filstrrelse: 20 MB",uploaded_files:"Uploadede Filer",primary:"Primr",set_primary:"St Primr"},uV={title:"Om ViaEstate",subtitle:"Din plitelige partner i at finde den perfekte ejendom verden over.",about_viaestate:"Om ViaEstate",about:"Om",us:"Os",founded_desc:"ViaEstate blev grundlagt i Karlstad, Sverige, i 2025 med en klar vision: at gre det lettere for skandinaviere at kbe ejendom i Sydeuropa trygt og med tillid.",mission:"Vores Mission",mission_desc1:"Vi fungerer som bro mellem skandinaviske kbere og betroede lokale fagfolk i Spanien, Portugal, Italien og Grkenland.",mission_desc2:"Vores ml er simpelt: at hjlpe ejendomsvirksomheder med at vokse, n flere kunder og vise deres ejendomme p den mest professionelle og tiltalende mde muligt.",founded_2025:"Grundlagt 2025",karlstad_sweden:"Karlstad, Sverige",meet_founders:"Md Grundlggerne",founders_desc:"ViaEstate blev skabt af to passionerede ivrksttere med en flles vision om at revolutionere den europiske ejendomsmarkedet. Sammen bringer vi erfaring inden for teknologi og marketing.",digital_marketing:"Digital Marketing",digital_marketing_desc:"Vi promoverer dine annonceindlg p tvrs af vores sociale medieplatforme og mlrettede kanaler.",property_listings:"Ejendomsannoncer",property_listings_desc:"Vi offentliggr dine forretningseiendommer p vores eksklusive ViaEstate-platform, hvor potentielle kbere og investorer aktivt sger.",lead_generation:"Lead Generation",lead_generation_desc:"Vi forbinder mglere direkte med nye, verificerede leads og kunder.",performance_stats:"Ydelsesstatistikker",performance_stats_desc:"Vi giver detaljerede indsigter og analyser om, hvordan dine ejendomme performerer online.",value_connecting:"Forbinder mennesker og ejendomme",value_marketing:"Smart digital marketing",value_insights:"Data-drevne indsigter",value_showcase:"Professionel ejendomsvisning",services:"Vores Tjenester",services_desc:"Vi specialiserer os i at forbinde mennesker og ejendomme gennem smart digital marketing og eksponering.",private_clients_title:"Ny Funktionalitet for Private Kunder",private_clients_desc1:"Vores platform tillader ogs private personer at liste deres egne ejendomme. Derfra kan mglere pkalde og hjlpe disse annoncer  hvilket hjlper private slgere med at f professionel sttte til at lukke deres aftaler hurtigere.",private_clients_desc2:"Denne funktion skaber nye muligheder for begge parter  private kunder fr professionel hjlp, og mglere fr nye potentielle annoncer.",our_purpose:"Vores Forml",purpose_desc1:"At kbe ejendom i et fremmed land kan fles overvldende. Der er forskellige love, sprog og skikke at navigere  ofte uden den sttte, du har brug for.",purpose_desc2:"ViaEstate blev skabt for at ndre dette. Vi fungerer som broen mellem skandinaviske kbere og betroede lokale fagfolk i Spanien, Portugal, Italien og Grkenland.",purpose_desc3:"Vores mission er enkel: at gre dit ejendomskb i Sydeuropa s glat, sikkert og trygt som muligt.",how_we_work:"Hvordan Vi Arbejder",step1_title:"Ejendomsudvlgelse",step1_desc:"Vi hjlper dig med at finde ejendomme, der matcher dine prferencer og budget i Sydeuropa.",step2_title:"Koordinering",step2_desc:"Vi koordinerer med betroede lokale mglere, advokater og notarer p dine vegne.",step3_title:"Vejledning til Afslutning",step3_desc:"Vi vejleder dig gennem hvert skridt, indtil du modtager nglerne til dit nye hjem.",cta_title:"Klar til at Finde Dit Hjem i Sydeuropa?",cta_desc:"Vi er her for at vejlede dig gennem hvert skridt af at kbe ejendom i udlandet. Bestil en gratis konsultation for at diskutere dine planer.",cta_button:"Kontakt Os",joel_title:"Medstifter & Forretningsudviklingsdirektr",joel_desc:"Med omfattende erfaring inden for forretningsudvikling og det skandinaviske marked sikrer Joel, at hver klient fr personlig opmrksomhed og finder sin perfekte ejendom i Sydeuropa.",joar_title:"Medstifter & Administrerende Direktr",joar_desc:"Joar bringer dyb ekspertise inden for international ejendom og teknologi. Hans vision driver ViaEstates mission om at forenkle ejendomskb for skandinaviske kbere over hele Europa."},hV={title:"Arbejd Med Os",subtitle:"Tilslut dig vores netvrk af plitelige ejendomsprofs.",work_with:"Arbejd Med",us:"Os",intro:"ViaEstate er en moderne ejendomsplatform, der hjlper mglere med at vokse deres forretning. Vi tilbyder vrktjer og tjenester, der gr det lettere at n kunder, markedsfre ejendomme og strmline din daglige arbejde som ejendomsmgler.",what_offer:"Hvad Vi Tilbyder til Mglere",broker_grow:"Vi Hjlper Mglere med at Vokse",broker_grow_desc:"Vi tilbyder en moderne platform, der hjlper ejendomsmglere med at n flere kunder og strmline deres forretning. Med vores netvrk fr du adgang til tusindvis af potentielle kbere og slgere.",international_reach:"International Rkvidde",international_reach_desc:"Gennem vores globale netvrk kan du markedsfre ejendomme til kbere fra hele verden. Vi hndterer flersproget indhold og internationalisering for dig.",mobile_app:"Kommer Snart: Mobilapp",mobile_app_desc:"Vi udvikler en moderne app, der vil gre det endnu lettere at administrere dine ejendomme og kontakter. Designet til at spare tid og ge effektiviteten.",booking_system:"Kommer Snart: Bookingsystem",booking_system_desc:"Et nyt bookingsystem er under udvikling, der vil lade dig planlgge visninger, administrere mder og flge op med potentielle kunder direkte i platformen.",get_started:"Klar til at Starte?",contact_desc:"Kontakt os i dag for at diskutere, hvordan vi kan hjlpe dig med at vokse din mglerforretning. Vi hjlper dig med at finde den rigtige lsning til dine behov."},pV={title:"Artikler & Nyheder",search:"Sg artikler...",search_error:"Fejl ved sgning af artikler",no_articles:"Ingen artikler fundet",loading:"Indlser artikler...",load_more:"Indls Flere Artikler",featured:"Udvalgt",read_more:"Ls Mere",search_placeholder:"Sg artikler...",searching:"Sger...",load_failed:"Kunne ikke indlse artikler",no_found:"Ingen artikler fundet",no_published:"Ingen artikler offentliggjort endnu",try_adjust:"Prv at justere dine sgeord eller gennemse alle artikler.",check_back:"Tjek tilbage senere for nyt indhold.",view_all:"Vis Alle Artikler",viaestate_team:"ViaEstate Team",view_pdf:"Se PDF",found_results:"Fundet",results:"resultat",results_plural:"er",for_query:"for",pdf_article:"PDF Artikel",match:"Match",pdf_document:"PDF Dokument",pdf_available:"PDF Dokument Tilgngelig",showing:"Viser",article:"artikel",articles:"r"},fV={title:"Noget Gik Galt",message:"En uventet fejl opstod.",retry:"Prv Igen",error_details:"Fejldetaljer"},mV={title:"404 - Siden Ikke Fundet",message:"Siden du leder efter eksisterer ikke."},gV={placeholder:"Sprg om ejendomme, steder eller ejendomsmarked...",search:"Sprg AI-assistenten",searching:"Sger...",results_title:"AI Sgeresultater",no_results:"Ingen resultater fundet"},vV={properties:"Ejendomme",countries:"Lande",brokers:"Mglere",leads:"Leads"},_V={professional_question:"Er du en Ejendomsmgler?"},yV={badge:"Md Dine Vejledere",title:"Fra Skandinavien til Sydeuropa",title2:"Vi Vejleder Dig Hvert Skridt p Vejen",subtitle:"Vi forstr den skandinaviske mde at drive forretning p - transparent, plidelig og personlig.",joel_role:"Medstifter & Forretningsudviklingsdirektr",joel_quote:"Hver klient fortjener personlig vejledning gennem deres ejendomsrejse.",joar_role:"Medstifter & Administrerende Direktr",joar_quote:"Vi hjlper skandinavier med at kbe ejendom i Sydeuropa med klarhed, sikkerhed og fuld sttte gennem hele processen.",customer_appreciation_title:"Vores Kunder Vrdstter Vores Personlige Tilgang",customer_appreciation_text:"Mange af vores kunder kommer gennem anbefalinger fra tilfredse kunder, der satte pris p vores transparente proces og dedikerede sttte gennem hele deres ejendomskb i Spanien, Sydfrankrig, Italien, Kroatien og Grkenland"},xV={badge:"Guider & Ressourcer",title:"Guider til at Kbe Ejendom i Sydeuropa",subtitle:"Ekspertindsigter til at hjlpe dig med at trffe informerede beslutninger om dit ejendomskb",read_more:"Ls Mere",view_all:"Vis Alle Artikler",category_guide:"Guide",category_legal:"Juridisk",category_lifestyle:"Livsstil",article1_title:"Kbe Ejendom i Spanien som Skandinav",article1_excerpt:"Alt hvad du behver at vide om at kbe ejendom i Spanien, fra juridiske krav til at finde det rigtige sted.",article2_title:"Juridiske Overvejelser ved Kb i Udlandet",article2_excerpt:"Forst den juridiske proces, skatter og dokumentation, der er ndvendig ved kb af ejendom i Sydeuropa.",article3_title:"Bedste Regioner i Sydeuropa for Pensionister",article3_excerpt:"Udforsk de mest populre regioner for skandinaviske pensionister i Spanien, Portugal, Italien og Grkenland."},bV={title:"Vejledning",subtitle:"Din trin-for-trin guide til at kbe ejendom i Sydeuropa",coming_soon:"Kommer Snart",description:"Vi arbejder p omfattende trin-for-trin vejledning for at hjlpe dig med at kbe ejendom i Spanien, Frankrig, Italien, Kroatien, Grkenland og mere. Tjek snart for detaljeret vejledning.",have_questions:"Har du sprgsml?",contact_us:"Kontakt Os"},wV={nav:Y3,hero:X3,search:J3,property_types:Q3,featured:Z3,properties:eV,seller:tV,time:rV,image:iV,home:sV,forum:nV,common:aV,language:oV,auth:lV,article_view:cV,article_editor:dV,about:uV,work_with_us:hV,articles:pV,error_boundary:fV,not_found:mV,ai_assistant:gV,kpis:vV,brokers:_V,team:yV,blog:xV,guidance:bV},kV={home:"Hjem",properties:"Eiendommer",articles:"Artikler",forum:"Forum",work_with_us:"Arbeid med oss",about_us:"Om oss",panel:"Panel",login:"Logg inn",guidance:"Guidance"},jV={badge:"Premium Eiendomsplattform",title:"Oppdag Din Drmmeeiendom Verdens Over",subtitle:"Opplev hastighet, tillit og gjennomsiktighet innen eiendommer. Koble til verifiserte profesjonelle og oppdag ekstraordinre eiendommer verdens over.",browse_properties:"Bla gjennom Eiendommer",list_property:"List Din Eiendom",premium_properties:"Premium Eiendommer",countries:"Lander",viaestate_title:"Fra Skandinavia til Sr-Europa",viaestate_subtitle:"Vi Veileder Deg Hvert Skritt p Veien",viaestate_description:"Vi forstr den skandinaviske mten  drive forretning p - transparent, plitelig og personlig.",view_properties:"Vis Eiendommer",book_consultation:"Bestill Konsultasjon"},SV={placeholder_country:"Land (f.eks. Spania, Frankrike)",property_type:"Eiendomstype",max_price:"Maks Pris",min_price:"Min Pris",search:"Sk",bedrooms:"Soverom",bathrooms:"Baderom",clear_all:"Tm Alle",advanced_filters:"Avanserte Filter",verified_only:"Kun verifiserte eiendommer"},EV={house:"Hus",apartment:"Leilighet",condo:"Enebolig",villa:"Villa",land:"Mark",commercial:"Kommersiell"},AV={title:"Utvalgte Eiendommer",subtitle:"Oppdag hndplukkede luksuseiendommer fra hele verden, kuratert av vre eksperter innen eiendommer.",view_all:"Se Alle Eiendommer"},NV={select_country:"Velg Et Land",show_all:"Vis Alle",search_filter:"Sk & Filter Eiendommer",search_filter_desc:"Finn din perfekte eiendom med vre avanserte skeverkty",search_placeholder:"Sk eiendommer...",country_placeholder:"Land (f.eks. Spania, Frankrike, Italia)",city_placeholder:"By",min_price_placeholder:"Min Pris ()",max_price_placeholder:"Maks Pris ()",no_properties:"Ingen eiendommer tilgjengelig enda",no_properties_desc:"Kommer snart. Vr den frste til  listee eiendom eller sjekk tilbake snart.",no_match:"Ingen eiendommer matcher dine filter",no_match_desc:"Prv  tmme filter eller juster sket ditt.",back_home:"Tilbake til Hjem",list_your_property:"List Din Eiendom",clear_filters:"Tm Filter",not_found:"Eiendom ikke funnet",not_found_desc:"Eiendommen du leter etter eksisterer ikke lenger eller er ikke lenger tilgjengelig.",error_loading:"Kunne ikke laste eiendomsdetaljer.",property_details:"Eiendomsdetaljer",bedrooms:"Soverom",bathrooms:"Baderom",area_info:"Areal Informasjon",living_area:"Boareal",plot_area:"Tomteareal",distance_info:"Avstands Informasjon",city_center:"Bykjernen",to_sea:"Til Sjen",to_lake:"Til Sjen",agent_info:"Agent Informasjon",send_inquiry:"Send Foresprsel",join_discussion:"Bli Med I Diskusjon",no_images:"Ingen bilder tilgjengelig",back_to_properties:"Tilbake til Eiendommer",seller_type:"Type",listed:"Listet",featured:"Utvalgt",for_sale:"Til Salg",for_rent:"For Utleie",verified:"Verifisert"},CV={professional:"Profesjonell",private:"Privat"},PV={month:"/mned"},TV={unavailable:"Bilde ikke tilgjengelig"},RV={how_it_works:"Hvordan Det Fungerer",how_it_works_desc:"Enkelt, raskt og gjennomsiktige eiendomstransaksjoner",step1_title:"Bla gjennom Eiendommer",step1_desc:"Oppdag verifiserte premiumeiendommer fra plitelige profesjonelle verdens over",step2_title:"Koble til Maklere",step2_desc:"Match med sertifiserte maklere eller list din eiendom for ekspertassistanse",step3_title:"Sikker Din Drm",step3_desc:"Fullfr transaksjoner med selvtillit med vr sikre plattform",why_choose:"Hvorfor Velge ViaEstate",why_choose_desc:"Opplev fremtiden for eiendommer med vr premiumplattform designet for kresne kjpere, selgere og maklere verdens over.",feature1_title:"Premium Eiendommer",feature1_desc:"F tilgang til eksklusive luksuseiendommer fra verifiserte maklere i over 50+ lander verdens over.",feature2_title:"AI-drevet Matching",feature2_desc:"Vrt intelligente system matcher deg med perfekte eiendommer basert p dine preferanser.",feature3_title:"Ekspertmaklere",feature3_desc:"Koble til sertifiserte eiendomsprofs som forstr din marked.",footer_tagline:"Din port til premiumeiendommer verdens over"},IV={community_discussion:"Felleskapsdiskusjon",ask_question:"Still En Sprsml",ask_placeholder:"Spr om denne eiendommen, nabolaget eller noe annet...",post_question:"Send Sprsml",post_submitted:"Innlegg Sendt",post_submitted_desc:"Ditt innlegg har blitt sendt for godkjenning og vil vises innen kort.",post_error:"Kunne ikke opprette innlegg. Prv igjen.",login_required:"Innlogging Pkrevd",login_required_desc:"Vennligst logg inn for  stille sprsml.",submit_review:"Send for Godkjenning",community_member:"Felleskapsmedlem",no_discussion:"Ingen diskusjon enda. Vr den frste til  stille en sprsml om denne eiendommen!",login_to_ask:"Vennligst logg inn for  stille sprsml om denne eiendommen.",error_fetching:"Feil ved henting av innlegg",please_sign_in:"Logg inn",login_required_post:"Du m vre logget inn for  opprette et innlegg.",error_creating:"Feil ved opprettelse av innlegg",just_now:"Litt n",minutes_ago:"{count} minutter siden",hours_ago:"{count} timer siden",days_ago:"{count} dager siden",new_post:"Nytt Innlegg",create_new_post:"Opprett Nytt Innlegg",dialog_description:"Del dine tanker, still sprsml eller start en diskusjon med fellesskapet. Ditt innlegg vil bli godkjent fr det publiseres.",title:"Tittel",title_placeholder:"Hva handler ditt innlegg om?",content:"Innhold",content_placeholder:"Del dine tanker...",please_sign_in_desc:"Logg inn for  opprette et innlegg.",search_placeholder:"Sk forum innlegg...",no_posts_found:"Ingen innlegg funnet",try_adjusting_search:"Prv  justere dine skeord eller bla gjennom alle innlegg.",be_first_to_discuss:"Vr den frste til  starte en diskusjon i vrt fellesskap!",create_first_post:"Opprett Frste Innlegg"},DV={loading:"Laster...",error:"Feil",try_again:"Prv Igjen",close:"Lukk",save:"Lagre",cancel:"Avbryt",submit:"Send",edit:"Rediger",delete:"Slett",view:"Se",back:"Tilbake",save_changes:"Lagre Endringer",saving:"Lagrer...",submitting:"Sender...",anonymous:"Anonym"},FV={switcher_title:"Sprk",nb:"Norsk",da:"Dansk",fi:"Finsk"},LV={welcome_back:"Velkommen tilbake!",login_success:"Du har logget inn suksessfullt.",login_failed:"Innlogging mislyktes",google_failed:"Google-innlogging mislyktes",account_created:"Konto opprettet!",account_pending:"Din konto venter p administrativ godkjenning. Du vil bli varslet nr det er godkjent.",signup_failed:"Registrering mislyktes",reset_sent:"E-post for tilbakestilling av passord sendt",reset_instructions:"Sjekk din e-post for instruksjoner om hvordan du tilbakestiller passordet ditt.",reset_failed:"Tilbakestilling av passord mislyktes",error_generic:"En uventet feil oppstod",welcome_title:"Velkommen til ViaEstate",welcome_subtitle:"Logg inn p kontoen din eller opprett en ny",sign_in:"Logg Inn",sign_up:"Registrer Deg",email:"E-post",password:"Passord",signing_in:"Logger inn...",forgot_password:"Glemt passordet ditt?",or_continue:"Eller fortsett med",google_continue:"Fortsett med Google",full_name:"Fullt Navn",account_type:"Konto Type",select_type:"Velg konto type",private_seller:"Privat Selger",broker:"Eiendomsmegler",creating:"Oppretter konto...",create_account:"Opprett Konto",reset_password:"Tilbakestill Passord",reset_description:"Skriv inn e-postadressen din s sender vi deg en lenke for  tilbakestille passordet ditt.",email_address:"E-postadresse",sending:"Sender...",send_reset:"Send Tilbakestillingslenke"},MV={title:"Send En Foresprsel",name:"Ditt Navn",email:"E-postadresse",phone:"Telefonnummer",message:"Melding",message_placeholder:"Jeg er interessert i denne eiendommen...",send:"Send Foresprsel",sending:"Sender...",success:"Foresprsel sendt suksessfullt!",error:"Kunne ikke sende foresprsel. Prv igjen.",cancel:"Avbryt"},OV={title:"Kontakt Agent",name:"Ditt Navn",email:"E-post",phone:"Telefon",message:"Melding",send:"Send Melding",sending:"Sender...",success:"Melding sendt suksessfullt!",error:"Kunne ikke sende melding. Prv igjen.",close:"Lukk",cancel:"Avbryt",submitted:"Sendt",property_id:"Eiendoms-ID"},$V={title:"Send Din Eiendomsforesprsel",subtitle:"Send dine eiendomsdetaljer og f kontakt med profesjonelle eiendomsmeglere som vil hndtere annonsen din.",submit:"Send Eiendomsforesprsel",submitting:"Sender...",success:"Eiendomsforesprsel Sendt!",success_desc:"Din eiendomsforesprsel har blitt sendt. Meglere vil kunne motta den og kontakte deg direkte.",error:"Feil ved sending av foresprsel",error_generic:"En uventet feil oppstod"},VV={title:"Still En Sprsml",placeholder:"Spr om denne eiendommen, nabolaget eller noe annet...",submit:"Send Sprsml",submitting:"Sender...",success:"Sprsml Sendt",success_desc:"Ditt sprsml har blitt sendt og vil bli godkjent av vrt team.",error:"Feil",error_generic:"En uventet feil oppstod"},zV={basic_title:"Basis",basic_desc:"Perfekt for private selgere",professional_title:"Profesjonell",professional_desc:"For serielle selgere og mindre byrer",premium_title:"Premium",premium_desc:"Den ultimate eiendomsoplevelsen",commission_only:"Provisjon kun ved suksessfull salg",professional_presentation:"Profesjonell eiendoms presentasjon",marketing_platform:"Markedsfring p vr plattform",everything_basic:"Alt fra Basis-planen, pluss:",video_editing:"Profesjonell videoredigering og skreddersydd markedsfring",photographer:"Dedikert fotograf for annonsene dine",quote_request:"Ber om Tilbud",requesting:"Ber om..."},BV={title:"Instrumentpanel",my_properties:"Mine Eiendommer",my_leads:"Mine Leads",no_properties:"Du har ikke listet noen eiendommer enda.",list_property:"List en Eiendom",no_leads:"Ingen leads enda.",delete_property:"Slett Eiendom",confirm_delete:"Er du sikker p at du vil slette denne eiendommen? Dette kan ikke angres.",deleted:"Eiendom slettet suksessfullt",error_deleting:"Feil ved sletting av eiendom",loading:"Laster instrumentpanel...",professional_broker:"Profesjonell Megler",private_seller:"Privat Selger"},UV={title:"List Din Eiendom",subtitle:"List din eiendom p vr premiumplattform og n kjpere verdens over."},qV={title:"List Din Eiendom",professional_broker:"Profesjonell Megler Konto",private_seller:"Privat Selger Konto",cancel:"Avbryt",submit:"List Eiendom",submitting:"Sender...",fill_required:"Vennligst fyll ut alle obligatoriske felter.",valid_price:"Vennligst angi et gyldig pris.",creation_error:"Eiendomsopprettelsen ga ingen post. Prv igjen.",error_listing:"Feil ved listeing av eiendom"},HV={title:"Rediger Eiendom",for_sale:"Til Salg",for_rent:"For Utleie",cancel:"Avbryt",save:"Lagre Endringer",saving:"Lagrer...",error_loading:"Kunne ikke laste eiendomsdetaljer.",error_updating:"Kunne ikke oppdatere eiendom.",loading:"Laster eiendom...",property_not_found:"Eiendom ikke funnet"},GV={title:"Admin Panel",properties:"Eiendommer",users:"Brukere",posts:"Innlegg",leads:"Leads",loading:"Laster adminpanel...",role_admin:"Admin",role_broker:"Eiendomsmegler",role_private:"Privat Selger",save_changes:"Lagre Endringer",saving:"Lagrer...",cancel:"Avbryt",delete:"Slett",confirm_delete_user:"Er du sikker p at du vil slette denne brukeren?",confirm_delete_property:"Er du sikker p at du vil slette denne eiendommen?",confirm_delete_post:"Er du sikker p at du vil slette dette innlegget?",confirm_delete_lead:"Er du sikker p at du vil slette dette leadet?",error_loading:"Feil ved lasting av admin data",error_updating:"Feil ved oppdatering",error_deleting:"Feil ved sletting",role_updated:"Rolle oppdatert",xml_import:"Importer XML",xml_url:"XML-URL",importing:"Importerer...",import_success:"XML importert suksessfullt",import_error:"Importeringsfeil",translate:"Oversett Eiendommer",translating:"Oversetter...",translate_success:"Oversettelse fullfrt",translate_error:"Oversettelsesfeil",properties_translated:"Eiendommer oversatt",errors:"Feil",author:"Forfatter",anonymous:"Anonym",submitted:"Sendt"},WV={title:"Agentpanel",my_properties:"Mine Eiendommer",open_requests:"pne Foresprsler",claimed_requests:"Klaimerte Foresprsler",loading:"Laster agentpanel...",claim:"Klaim",claiming:"Klaimer...",claim_success:"Foresprsel klaimert suksessfullt",claim_error:"Feil ved klaiming av foresprsel",no_properties:"Du har ikke listet noen eiendommer enda."},KV={title:"Om ViaEstate",subtitle:"Din plitelige partner for  finne den perfekte eiendommen verdens over.",about_viaestate:"Om ViaEstate",about:"Om",us:"Oss",founded_desc:"ViaEstate ble grunnlagt i Karlstad, Sverige, i 2025 med en klar visjon:  hjelpe skandinavere med  kjpe eiendom i Sr-Europa trygt og med tillit.",mission:"Vr Oppgave",mission_desc1:"Vi fungerer som bro mellom skandinaviske kjpere og betrodde lokale fagfolk i Spania, Portugal, Italia og Hellas.",mission_desc2:"Vr ml er enkelt:  hjelpe eiendomsvirksomheter med  vokse, n flere kunder og vise sine eiendommer p den mest profesjonelle og tiltalende mten mulig.",founded_2025:"Grunnlagt 2025",karlstad_sweden:"Karlstad, Sverige",meet_founders:"Mt Grunnleggerne",founders_desc:"ViaEstate ble opprettet av to lidenskapelige ivrksatte med en felles visjon om  revolusjonere det europeiske eiendomsmarkedet. Sammen bringer vi erfaring innen teknologi og markedsfring.",digital_marketing:"Digital Markedsfring",digital_marketing_desc:"Vi promoverer dine annonser p tvers av vre sosiale medieplattformer og mlrettede kanaler.",property_listings:"Eiendomsannonser",property_listings_desc:"Vi publiserer dine forretningseiendommer p vr eksklusive ViaEstate-plattform, hvor potensielle kjpere og investorer aktivt sker.",lead_generation:"Lead Generering",lead_generation_desc:"Vi forbinder megler direkte til nye, verifiserte leads og kunder.",performance_stats:"Ytelsesstatistikker",performance_stats_desc:"Vi gir detaljerte innsikter og analyser om hvordan dine eiendommer yter online.",value_connecting:"Forbinder mennesker og eiendommer",value_marketing:"Smart digital markedsfring",value_insights:"Data-drevne innsikter",value_showcase:"Profesjonell eiendomsvisning",services:"Vre Tjenester",services_desc:"Vi spesialiserer oss p  forbinde mennesker og eiendommer gjennom smart digital markedsfring og eksponering.",private_clients_title:"Ny Funksjonalitet for Private Kunder",private_clients_desc1:"Vr plattform tillater ogs private personer  liste sine egne eiendommer. Derfra kan megler kreve og hjelpe disse annonsene  hjelper private selgere med  f profesjonell sttte til  lukke sine avtaler raskere.",private_clients_desc2:"Denne funksjonaliteten skaper nye muligheter for begge sider  private kunder fr profesjonell hjelp, og megler fr nye potensielle annonser.",our_purpose:"Vrt Forml",purpose_desc1:" kjpe eiendom i et fremmed land kan fles overveldende. Det er forskjellige lover, sprk og skikker  navigere  ofte uten sttten du trenger.",purpose_desc2:"ViaEstate ble skapt for  endre dette. Vi fungerer som broen mellom skandinaviske kjpere og betrodde lokale fagfolk i Spania, Portugal, Italia og Hellas.",purpose_desc3:"Vr mission er enkel:  gjre ditt eiendomskjp i Sr-Europa s smidig, trygt og selvsikkert som mulig.",how_we_work:"Hvordan Vi Arbeider",step1_title:"Eiendomsutvalg",step1_desc:"Vi hjelper deg med  finne eiendommer som matcher dine preferanser og budsjett i Sr-Europa.",step2_title:"Koordinering",step2_desc:"Vi koordinerer med betrodde lokale meglere, advokater og notarer p dine vegne.",step3_title:"Veiledning til Fullfring",step3_desc:"Vi veileder deg gjennom hvert steg til du mottar nklene til ditt nye hjem.",cta_title:"Klar til  Finne Ditt Hjem i Sr-Europa?",cta_desc:"Vi er her for  veilede deg gjennom hvert steg av  kjpe eiendom i utlandet. Bestill en gratis konsultasjon for  diskutere planene dine.",cta_button:"Ta Kontakt",joel_title:"Medgrnder & Forretningsutviklingsdirektr",joel_desc:"Med omfattende erfaring innen forretningsutvikling og det skandinaviske markedet srger Joel for at hver klient fr personlig oppmerksomhet og finner sin perfekte eiendom i Sr-Europa.",joar_title:"Medgrnder & Daglig Leder",joar_desc:"Joar bringer dypt ekspertise innen internasjonal eiendom og teknologi. Hans visjon driver ViaEstates mission om  forenkle eiendomskjp for skandinaviske kjpere over hele Europa."},YV={title:"Arbeid Med Oss",subtitle:"Koble til vrt nettverk av plitelige eiendomsprofs.",work_with:"Arbeid Med",us:"Oss",intro:"ViaEstate er en moderne eiendomsplattform som hjelper megler med  vokse sin virksomhet. Vi tilbyr verkty og tjenester som gjr det lettere  n kunder, markedsfre eiendommer og strmline din daglige arbeid som eiendomsmegler.",what_offer:"Hva Vi tilbyr til Meglere",broker_grow:"Vi Hjelper Meglere med  Vokse",broker_grow_desc:"Vi tilbyr en moderne plattform som hjelper eiendomsmegler med  n flere kunder og strmline deres virksomhet. Med vrt nettverk fr du tilgang til tusener av potensielle kjpere og selgere.",international_reach:"Internasjonal Rekkevidde",international_reach_desc:"Gjennom vrt globale nettverk kan du markedsfre eiendommer til kjpere fra hele verden. Vi hndterer flersprklig innhold og internasjonalisering for deg.",mobile_app:"Kommer Snart: Mobilapp",mobile_app_desc:"Vi utvikler en moderne app som vil gjre det enda lettere  administrere dine eiendommer og kontakter. Designet for  spare tid og ke effektiviteten.",booking_system:"Kommer Snart: Bookingsystem",booking_system_desc:"Et nytt bookingsystem er under utvikling som vil la deg planlegge visninger, administrere mter og flge opp med potensielle kunder direkte i plattformen.",get_started:"Klar til  Starte?",contact_desc:"Kontakt oss i dag for  diskutere hvordan vi kan hjelpe deg med  vokse din meglervirksomhet. Vi hjelper deg med  finne den riktige lsningen for dine behov."},XV={title:"Artikler & Nyheter",search:"Sk artikler...",search_error:"Feil ved sk av artikler",no_articles:"Ingen artikler funnet",loading:"Laster artikler...",load_more:"Last Flere Artikler",featured:"Utvalgt",read_more:"Les Mer",search_placeholder:"Sk artikler...",searching:"Sker...",load_failed:"Kunne ikke laste artikler",no_found:"Ingen artikler funnet",no_published:"Ingen artikler publisert enda",try_adjust:"Prv  justere dine skeord eller bla gjennom alle artikler.",check_back:"Sjekk tilbake senere for nytt innhold.",view_all:"Vis Alle Artikler",viaestate_team:"ViaEstate Team",view_pdf:"Se PDF",found_results:"Funnet",results:"resultat",results_plural:"er",for_query:"for",pdf_article:"PDF Artikel",match:"Match",pdf_document:"PDF Dokument",pdf_available:"PDF Dokument Tilgjengelig",showing:"Viser",article:"artikkel",articles:"r"},JV={error_loading:"Feil ved lasting av artikkel",article_not_found:"Artikkel ikke funnet eller ikke publisert",pdf_preview:"PDF Forhndsvisning",download:"Last Ned",featured_article:"Utvalgt Artikkel",error:"Feil",article_not_found_title:"Artikkel Ikke Funnet",article_not_found_desc:"Artikkelen du leter etter eksisterer ikke lenger eller har blitt fjernet.",back_to_articles:"Tilbake til Artikler",published:"Publisert",by:"Av",viaestate_team:"ViaEstate Team",pdf_document:"PDF Dokument",open_new_tab:"pne i Ny Fane",additional_documents:"Ekstra Dokumenter",preview:"Forhndsvisning",pdf_preview_failed:"Kunne ikke laste PDF forhndsvisning",download_started:"Nedlastning Startet",downloading_file:"Laster ned {fileName}",enjoyed_article:"Likte du denne artikkelen? Sjekk ut mer innhold p bloggen vr.",browse_all_articles:"Bla gjennom Alle Artikler"},QV={title:"Tittel",content:"Innhold",content_required:"Innhold er pkrevd. Vennligst gi innhold eller last opp en PDF-fil.",save_draft:"Lagre Utkast",publish:"Publiser",update:"Oppdater",saving:"Lagrer...",upload_image:"Last Opp Bilde",upload_pdf:"Last Opp PDF",image_error:"Feil ved opplasting av bilde",pdf_error:"Feil ved opplasting av PDF",file_error:"Feil ved opplasting av fil",file_deleted:"Fil slettet suksessfullt",error_deleting:"Feil ved sletting av fil",featured:"Utvalgt artikkel",error_saving:"Feil ved lagring av artikkel",error_creating_tag:"Feil ved opprettelse av tagg",error_updating:"Feil ved oppdatering",success_saved:"Artikkel lagret suksessfullt",success_published:"Artikkel publisert suksessfullt",error_loading:"Kunne ikke laste artikkel",image_type_error:"Kun JPEG, PNG, and WebP bilder er tillatt",image_size_error:"Bilde m vre mindre enn 5MB",image_uploaded:"Bilde lastet opp suksessfullt",pdf_type_error:"Kun PDF filer er tillatt",pdf_size_error:"Fil m vre mindre enn 20MB",pdf_uploaded:"PDF lastet opp suksessfullt",primary_file_updated:"Primr fil oppdatert",error_updating_primary:"Kunne ikke oppdatere primr fil",title_required:"Tittel er pkrevd",extracting_text:"Ekstraherer PDF tekst",extracting_text_desc:"Vennligst vent mens vi ekstraherer tekst fra din PDF...",text_extracted:"Tekst ekstrahert",text_extracted_desc:"PDF tekst har blitt ekstrahert og vil bli brukt som artikkel innhold",extraction_failed:"Tekst ekstraksjon feilet",extraction_failed_desc:"Kunne ikke ekstrahere tekst fra PDF. Artikkel vil bli lagret uten innhold.",success_created:"Artikkel opprettet suksessfullt",success_updated:"Artikkel oppdatert suksessfullt",edit_title:"Rediger Artikkel",create_title:"Opprett Ny Artikkel",edit_description:"Oppdater artikkel innhold",create_description:"Skriv en ny artikkel for bloggen din",preview:"Forhndsvisning",basic_info:"Grunnleggende Informasjon",title_placeholder:"Skriv inn artikkel tittel",slug_placeholder:"url-vennlig-slug",excerpt_placeholder:"Kort beskrivelse av artikkelen",cover_image:"Omslagsbilde",change_image:"Endre Bilde",remove:"Fjern",upload_cover_image:"Last opp et omslagsbilde",choose_file:"Velg Fil",optional:"valgfritt om PDF lastet opp",content_placeholder:"Skriv artikkel innhold her...",content_placeholder_pdf:"Skriv artikkel innhold her, eller la tomt for  bruke ekstrahert PDF tekst...",content_extraction_info:"Innhold vil bli automatisk ekstrahert fra din lastede PDF fil.",tags:"Tagger",add_tag_placeholder:"Legg til ny tagg",documents_attachments:"Dokumenter & Vedlegg (PDF)",upload_pdf_description:"Last opp PDF dokumenter for  legge til i denne artikkelen",uploading:"Laster opp...",choose_pdf_file:"Velg PDF Fil",max_file_size:"Maks fil strrelse: 20 MB",uploaded_files:"Lastede Filer",primary:"Primr",set_primary:"Sett Primr"},ZV={title:"Noe Gikk Feil",message:"En uventet feil oppstod.",retry:"Prv Igjen",error_details:"Feil Detaljer"},ez={title:"404 - Siden Ikke Funnet",message:"Siden du leter etter eksisterer ikke."},tz={placeholder:"Spr om eiendommer, steder eller eiendomsmarked...",search:"Spr AI-assistenten",searching:"Sker...",results_title:"AI Skeresultater",no_results:"Ingen resultater funnet"},rz={properties:"Eiendommer",countries:"Lander",brokers:"Meglere",leads:"Leads"},iz={professional_question:"Er du en Eiendomsmegler?"},sz={badge:"Mt Dine Veiledere",title:"Fra Skandinavia til Sr-Europa",title2:"Vi Veileder Deg Hvert Skritt p Veien",subtitle:"Vi forstr den skandinaviske mten  drive forretning p - transparent, plitelig og personlig.",joel_role:"Medgrnder & Forretningsutviklingsdirektr",joel_quote:"Hver kl fortjener personlig veiledning gjennom sin eiendomsreise.",joar_role:"Medgrnder & Daglig Leder",joar_quote:"Vi hjelper skandinavere med  kjpe eiendom i Sr-Europa med klarhet, sikkerhet og full sttte gjennom hele prosessen.",customer_appreciation_title:"Vre Kunder Verdsetter Vr Personlige Tilnrming",customer_appreciation_text:"Mange av vre kunder kommer gjennom anbefalinger fra fornyde kunder som satte pris p vr transparente prosess og dedikerte sttte gjennom hele deres eiendomskjp i Spania, Sr-Frankrike, Italia, Kroatia og Hellas"},nz={badge:"Guider & Ressurser",title:"Guider for  Kjpe Eiendom i Sr-Europa",subtitle:"Ekspertinnsigter for  hjelpe deg med  ta informerte beslutninger om ditt eiendomskjp",read_more:"Les Mer",view_all:"Vis Alle Artikler",category_guide:"Guide",category_legal:"Juridisk",category_lifestyle:"Livsstil",article1_title:"Kjpe Eiendom i Spania som Skandinav",article1_excerpt:"Alt du trenger  vite om  kjpe eiendom i Spania, fra juridiske krav til  finne rett sted.",article2_title:"Juridiske Hensyn ved Kjp i Utlandet",article2_excerpt:"Forst den juridiske prosessen, skatter og dokumentasjon som trengs nr du kjper eiendom i Sr-Europa.",article3_title:"Beste Regionene i Sr-Europa for Pensjonister",article3_excerpt:"Utforsk de mest populre regionene for skandinaviske pensjonister i Spania, Portugal, Italia og Hellas."},az={title:"Veiledning",subtitle:"Din trinn-for-trinn guide til  kjpe eiendom i Sr-Europa",coming_soon:"Kommer Snart",description:"Vi jobber med omfattende trinn-for-trinn veiledning for  hjelpe deg med  kjpe eiendom i Spania, Frankrike, Italia, Kroatia, Hellas og mer. Sjekk snart for detaljert veiledning.",have_questions:"Har du sprsml?",contact_us:"Ta Kontakt"},oz={nav:kV,hero:jV,search:SV,property_types:EV,featured:AV,properties:NV,seller:CV,time:PV,image:TV,home:RV,forum:IV,common:DV,language:FV,auth:LV,inquiry:MV,lead:OV,property_request:$V,forum_post:VV,packages:zV,dashboard:BV,submit_property:UV,list_property:qV,edit_property:HV,admin:GV,agent:WV,about:KV,work_with_us:YV,articles:XV,article_view:JV,article_editor:QV,error_boundary:ZV,not_found:ez,ai_assistant:tz,kpis:rz,brokers:iz,team:sz,blog:nz,guidance:az},lz={home:"Inicio",properties:"Propiedades",articles:"Artculos",forum:"Foro",work_with_us:"Trabaja con nosotros",about_us:"Sobre nosotros",panel:"Panel",login:"Iniciar sesin",guidance:"Guidance"},cz={badge:"Plataforma Inmobiliaria Premium",title:"Descubre Tu Propiedad de Sueo en Todo el Mundo",subtitle:"Experimenta velocidad, confianza y transparencia en bienes races. Conctate con profesionales verificados y descubre propiedades extraordinarias en todo el mundo.",browse_properties:"Explorar Propiedades",list_property:"Publicar Tu Propiedad",premium_properties:"Propiedades Premium",countries:"Pases",viaestate_title:"De Escandinavia al Sur de Europa",viaestate_subtitle:"Le Guiamos en Cada Paso",viaestate_description:"Entendemos la forma escandinava de hacer negocios - transparente, confiable y personal.",view_properties:"Ver Propiedades",book_consultation:"Reservar Consulta"},dz={placeholder_country:"Pas (ej. Espaa, Francia)",property_type:"Tipo de Propiedad",max_price:"Precio Mximo",min_price:"Precio Mnimo",search:"Buscar",bedrooms:"Dormitorios",bathrooms:"Baos",clear_all:"Limpiar Todo",advanced_filters:"Filtros Avanzados"},uz={house:"Casa",apartment:"Apartamento",condo:"Condominio",villa:"Villa",land:"Terreno",commercial:"Comercial"},hz={title:"Propiedades Destacadas",subtitle:"Descubre propiedades de lujo seleccionadas a mano de todo el mundo, curadas por nuestros expertos inmobiliarios.",view_all:"Ver Todas las Propiedades"},pz={select_country:"Seleccionar un Pas",show_all:"Mostrar Todo",search_filter:"Buscar y Filtrar Propiedades",search_filter_desc:"Encuentra tu propiedad perfecta con nuestras herramientas de bsqueda avanzadas",search_placeholder:"Buscar propiedades...",country_placeholder:"Pas (ej. Espaa, Francia, Italia)",city_placeholder:"Ciudad",min_price_placeholder:"Precio Mnimo ()",max_price_placeholder:"Precio Mximo ()",no_properties:"An no hay propiedades disponibles",no_properties_desc:"Prximamente. S el primero en publicar una propiedad o vuelve a consultar pronto.",no_match:"Ninguna propiedad coincide con tus filtros",no_match_desc:"Intenta limpiar los filtros o ajustar tu bsqueda.",back_home:"Volver al Inicio",list_your_property:"Publicar Tu Propiedad",clear_filters:"Limpiar Filtros",not_found:"Propiedad no encontrada",not_found_desc:"La propiedad que buscas no existe o ya no est disponible.",error_loading:"No se pudieron cargar los detalles de la propiedad.",property_details:"Detalles de la Propiedad",bedrooms:"Dormitorios",bathrooms:"Baos",area_info:"Informacin de rea",living_area:"rea Habitacional",plot_area:"rea del Terreno",distance_info:"Informacin de Distancias",city_center:"Centro de la Ciudad",to_sea:"Al Mar",to_lake:"Al Lago",agent_info:"Informacin del Agente",send_inquiry:"Enviar Consulta",join_discussion:"Unirse a la Discusin",no_images:"No hay imgenes disponibles",back_to_properties:"Volver a Propiedades",seller_type:"Tipo",listed:"Publicado",featured:"Destacado",for_sale:"En Venta",for_rent:"En Alquiler",verified:"Verificado"},fz={professional:"Profesional",private:"Privado"},mz={month:"/mes"},gz={unavailable:"Imagen no disponible"},vz={how_it_works:"Cmo Funciona",how_it_works_desc:"Transacciones inmobiliarias simples, rpidas y transparentes",step1_title:"Explorar Propiedades",step1_desc:"Descubre propiedades premium verificadas de profesionales de confianza en todo el mundo",step2_title:"Conctate con Agentes",step2_desc:"Emprete con agentes certificados o publica tu propiedad para asistencia experta",step3_title:"Asegura Tu Sueo",step3_desc:"Completa transacciones con confianza usando nuestra plataforma segura",why_choose:"Por Qu Elegir ViaEstate",why_choose_desc:"Experimenta el futuro de los bienes races con nuestra plataforma premium diseada para compradores, vendedores y corredores exigentes en todo el mundo.",feature1_title:"Propiedades Premium",feature1_desc:"Accede a propiedades de lujo exclusivas de corredores verificados en ms de 50+ pases en todo el mundo.",feature2_title:"Emparejamiento Impulsado por IA",feature2_desc:"Nuestro sistema inteligente te empareja con propiedades perfectas basadas en tus preferencias.",feature3_title:"Corredores Expertos",feature3_desc:"Conctate con profesionales inmobiliarios certificados que entienden tu mercado.",footer_tagline:"Tu puerta hacia propiedades premium en todo el mundo"},_z={community_discussion:"Discusin de la Comunidad",ask_question:"Hacer una Pregunta",ask_placeholder:"Pregunta sobre esta propiedad, el vecindario o cualquier otra cosa...",post_question:"Publicar Pregunta",post_submitted:"Publicacin Enviada",post_submitted_desc:"Tu publicacin ha sido enviada para revisin y aparecer en breve.",post_error:"No se pudo crear la publicacin. Por favor intenta de nuevo.",login_required:"Inicio de Sesin Requerido",login_required_desc:"Por favor inicia sesin para publicar preguntas."},yz={loading:"Cargando...",error:"Error",try_again:"Intentar de nuevo",close:"Cerrar",save:"Guardar",cancel:"Cancelar",submit:"Enviar",edit:"Editar",delete:"Eliminar",view:"Ver",back:"Atrs"},xz={switcher_title:"Idioma",en:"English",sv:"Svenska",da:"Dansk",de:"Deutsch",it:"Italiano",es:"Espaol",hr:"Hrvatski",fr:"Franais"},bz={welcome_back:"Bienvenido de nuevo!",login_success:"Has iniciado sesin correctamente.",login_failed:"Error al iniciar sesin",google_failed:"Error al iniciar sesin con Google",account_created:"Cuenta creada!",account_pending:"Tu cuenta est pendiente de aprobacin administrativa. Sers notificado cuando sea aprobada.",signup_failed:"Error al registrarse",reset_sent:"Correo de restablecimiento de contrasea enviado",reset_instructions:"Revisa tu correo para instrucciones de restablecimiento de contrasea.",reset_failed:"Error al restablecer contrasea",error_generic:"Ocurri un error inesperado",welcome_title:"Bienvenido a ViaEstate",welcome_subtitle:"Inicia sesin en tu cuenta o crea una nueva",sign_in:"Iniciar Sesin",sign_up:"Registrarse",email:"Correo",password:"Contrasea",signing_in:"Iniciando sesin...",forgot_password:"Olvidaste tu contrasea?",or_continue:"O continuar con",google_continue:"Continuar con Google",full_name:"Nombre Completo",account_type:"Tipo de Cuenta",select_type:"Seleccionar tipo de cuenta",private_seller:"Vendedor Privado",broker:"Corredor Inmobiliario",creating:"Creando cuenta...",create_account:"Crear Cuenta",reset_password:"Restablecer Contrasea",reset_description:"Ingresa tu correo y te enviaremos un enlace para restablecer tu contrasea.",email_address:"Direccin de Correo",sending:"Enviando...",send_reset:"Enviar Enlace de Restablecimiento"},wz={error_loading:"Error loading article",article_not_found:"Article not found or not published",pdf_preview:"PDF Preview",download:"Download",featured_article:"Featured Article",error:"Error",article_not_found_title:"Article Not Found",article_not_found_desc:"The article you're looking for doesn't exist or has been removed.",back_to_articles:"Back to Articles",published:"Published",by:"By",viaestate_team:"ViaEstate Team",pdf_document:"PDF Document",open_new_tab:"Open in New Tab",additional_documents:"Additional Documents",preview:"Preview",pdf_preview_failed:"Failed to load PDF preview",download_started:"Download Started",downloading_file:"Downloading {fileName}",enjoyed_article:"Enjoyed this article? Check out more content on our blog.",browse_all_articles:"Browse All Articles"},kz={title:"Title",content:"Content",content_required:"Content is required. Please provide content or upload a PDF file.",save_draft:"Save Draft",publish:"Publish",update:"Update",saving:"Saving...",upload_image:"Upload Image",upload_pdf:"Upload PDF",image_error:"Error uploading image",pdf_error:"Error uploading PDF",file_error:"Error uploading file",file_deleted:"File deleted successfully",error_deleting:"Error deleting file",featured:"Featured article",error_saving:"Error saving article",error_creating_tag:"Error creating tag",error_updating:"Error updating",success_saved:"Article saved successfully",success_published:"Article published successfully",error_loading:"Failed to load article",image_type_error:"Only JPEG, PNG, and WebP images are allowed",image_size_error:"Image must be less than 5MB",image_uploaded:"Image uploaded successfully",pdf_type_error:"Only PDF files are allowed",pdf_size_error:"File must be less than 20MB",pdf_uploaded:"PDF uploaded successfully",primary_file_updated:"Primary file updated",error_updating_primary:"Failed to update primary file",title_required:"Title is required",extracting_text:"Extracting PDF text",extracting_text_desc:"Please wait while we extract text from your PDF...",text_extracted:"Text extracted",text_extracted_desc:"PDF text has been extracted and will be used as article content",extraction_failed:"Text extraction failed",extraction_failed_desc:"Could not extract text from PDF. Article will be saved without content.",success_created:"Article created successfully",success_updated:"Article updated successfully",edit_title:"Edit Article",create_title:"Create New Article",edit_description:"Update your article content",create_description:"Write a new article for your blog",preview:"Preview",basic_info:"Basic Information",title_placeholder:"Enter article title",slug_placeholder:"url-friendly-slug",excerpt_placeholder:"Brief description of the article",cover_image:"Cover Image",change_image:"Change Image",remove:"Remove",upload_cover_image:"Upload a cover image",choose_file:"Choose File",optional:"optional if PDF uploaded",content_placeholder:"Write your article content here...",content_placeholder_pdf:"Write your article content here, or leave blank to use extracted PDF text...",content_extraction_info:"Content will be automatically extracted from your uploaded PDF file.",tags:"Tags",add_tag_placeholder:"Add new tag",documents_attachments:"Documents & Attachments (PDF)",upload_pdf_description:"Upload PDF documents to attach to this article",uploading:"Uploading...",choose_pdf_file:"Choose PDF File",max_file_size:"Maximum file size: 20 MB",uploaded_files:"Uploaded Files",primary:"Primary",set_primary:"Set Primary"},jz={badge:"Conoce a Tus Guas",title:"De Escandinavia al Sur de Europa",title2:"Le Guiamos en Cada Paso",subtitle:"Entendemos la forma escandinava de hacer negocios - transparente, confiable y personal.",joel_role:"Co-fundador & Director de Desarrollo de Negocios",joel_quote:"Cada cliente merece orientacin personalizada en su viaje inmobiliario.",joar_role:"Co-fundador & Director Gerente",joar_quote:"Ayudamos a los escandinavos a comprar propiedades en el sur de Europa con claridad, seguridad y apoyo completo durante todo el proceso.",customer_appreciation_title:"Nuestros Clientes Aprecian Nuestro Enfoque Personal",customer_appreciation_text:"Muchos de nuestros clientes vienen a travs de recomendaciones de clientes satisfechos que valoraron nuestro proceso transparente y nuestro apoyo dedicado durante toda su compra de propiedad en Espaa, sur de Francia, Italia, Croacia y Grecia."},Sz={badge:"Guas & Recursos",title:"Guas para Comprar Propiedad en el Sur de Europa",subtitle:"Informacin de expertos para ayudarte a tomar decisiones informadas sobre tu compra de propiedad",read_more:"Leer Ms",view_all:"Ver Todos los Artculos",category_guide:"Gua",category_legal:"Legal",category_lifestyle:"Estilo de Vida",article1_title:"Comprar Propiedad en Espaa como Escandinavo",article1_excerpt:"Todo lo que necesitas saber sobre la compra de propiedad en Espaa, desde requisitos legales hasta encontrar el lugar correcto.",article2_title:"Consideraciones Legales al Comprar en el Extranjero",article2_excerpt:"Entender el proceso legal, impuestos y documentacin necesaria al comprar propiedad en el sur de Europa.",article3_title:"Mejores Regiones en el Sur de Europa para Jubilados",article3_excerpt:"Explora las regiones ms populares para jubilados escandinavos en Espaa, Portugal, Italia y Grecia."},Ez={title:"Sobre ViaEstate",subtitle:"Tu socio de confianza para encontrar la propiedad perfecta en todo el mundo.",about_viaestate:"Sobre ViaEstate",about:"Sobre",us:"Nosotros",founded_desc:"ViaEstate fue fundada en Karlstad, Suecia, en 2025 con una visin clara: facilitar para los escandinavos la compra de propiedades en el sur de Europa de manera segura y confiable.",mission:"Nuestra Misin",mission_desc1:"Actuamos como puente entre compradores escandinavos y profesionales locales de confianza en Espaa, Portugal, Italia y Grecia.",mission_desc2:"Nuestro objetivo es simple: ayudar a las empresas inmobiliarias a crecer, llegar a ms clientes y presentar sus propiedades de la manera ms profesional y atractiva posible.",founded_2025:"Fundado en 2025",karlstad_sweden:"Karlstad, Suecia",meet_founders:"Conoce a los Fundadores",founders_desc:"ViaEstate fue creada por dos empresarios apasionados con una visin comn de revolucionar el mercado inmobiliario europeo.",digital_marketing:"Marketing Digital",digital_marketing_desc:"Promocionamos tus anuncios en nuestras plataformas de redes sociales y canales dirigidos.",property_listings:"Listados de Propiedades",property_listings_desc:"Publicamos tus propiedades comerciales en nuestra plataforma exclusiva ViaEstate, donde compradores e inversores activos buscan activamente.",lead_generation:"Generacin de Leads",lead_generation_desc:"Conectamos a los agentes directamente con nuevos leads y clientes verificados.",performance_stats:"Estadsticas de Rendimiento",performance_stats_desc:"Proporcionamos informacin y anlisis detallados sobre cmo tus propiedades funcionan en lnea.",value_connecting:"Conectando personas y propiedades",value_marketing:"Marketing digital inteligente",value_insights:"Informacin basada en datos",value_showcase:"Presentacin profesional de propiedades",services:"Nuestros Servicios",services_desc:"Nos especializamos en conectar personas y propiedades a travs de marketing digital inteligente y exposicin.",private_clients_title:"Nueva Funcionalidad para Clientes Privados",private_clients_desc1:"Nuestra plataforma tambin permite a particulares listar sus propias propiedades. Los agentes pueden solicitar y ayudar con estos anuncios  lo que ayuda a los vendedores privados a obtener apoyo profesional para cerrar sus tratos ms rpido.",private_clients_desc2:"Esta funcionalidad crea nuevas oportunidades para ambos lados  los clientes privados reciben ayuda profesional y los agentes reciben nuevos anuncios potenciales.",our_purpose:"Nuestro Propsito",purpose_desc1:"Comprar una propiedad en un pas extranjero puede resultar abrumador. Hay diferentes leyes, idiomas y costumbres que navegar  a menudo sin el apoyo que necesitas.",purpose_desc2:"ViaEstate fue creada para cambiar esto. Actuamos como puente entre compradores escandinavos y profesionales locales de confianza en Espaa, Portugal, Italia y Grecia.",purpose_desc3:"Nuestra misin es simple: hacer que tu compra de propiedad en el sur de Europa sea lo ms fluida, segura y confiada posible.",how_we_work:"Cmo Trabajamos",step1_title:"Seleccin de Propiedad",step1_desc:"Te ayudamos a encontrar propiedades que coincidan con tus preferencias y presupuesto en el sur de Europa.",step2_title:"Coordinacin",step2_desc:"Coordinamos con agentes locales, abogados y notarios de confianza en tu nombre.",step3_title:"Gua hasta la Finalizacin",step3_desc:"Te guiamos en cada paso hasta que recibas las llaves de tu nuevo hogar.",cta_title:"Listo para Encontrar Tu Hogar en el Sur de Europa?",cta_desc:"Estamos aqu para guiarte en cada paso de la compra de propiedad en el extranjero. Reserva una consulta gratuita para discutir tus planes.",cta_button:"Contctanos",joel_title:"Co-fundador & Director de Desarrollo de Negocios",joel_desc:"Con amplia experiencia en desarrollo de negocios y el mercado escandinavo, Joel asegura que cada cliente reciba atencin personalizada y encuentre su propiedad perfecta en el sur de Europa.",joar_title:"Co-fundador & Director Gerente",joar_desc:"Joar aporta una profunda experiencia en bienes races internacionales y tecnologa. Su visin impulsa la misin de ViaEstate de simplificar las compras de propiedades para compradores escandinavos en toda Europa."},Az={title:"Gua",subtitle:"Tu gua paso a paso para comprar propiedad en el sur de Europa",coming_soon:"Prximamente",description:"Estamos trabajando en guas completas paso a paso para ayudarte a comprar propiedad en Espaa, Francia, Italia, Croacia, Grecia y ms. Vuelve pronto para orientacin detallada.",have_questions:"Tienes preguntas?",contact_us:"Contctanos"},Nz={nav:lz,hero:cz,search:dz,property_types:uz,featured:hz,properties:pz,seller:fz,time:mz,image:gz,home:vz,forum:_z,common:yz,language:xz,auth:bz,article_view:wz,article_editor:kz,team:jz,blog:Sz,about:Ez,guidance:Az},Cz={home:"Accueil",properties:"Proprits",articles:"Articles",forum:"Forum",work_with_us:"Travailler avec nous",about_us:" propos",panel:"Panneau",login:"Connexion",guidance:"Guidance"},Pz={badge:"Plateforme Immobilire Premium",title:"Dcouvrez Votre Proprit de Rve dans le Monde Entier",subtitle:"Dcouvrez la vitesse, la confiance et la transparence dans l'immobilier. Connectez-vous avec des professionnels vrifis et dcouvrez des proprits extraordinaires dans le monde entier.",browse_properties:"Parcourir les Proprits",list_property:"Publier Votre Proprit",premium_properties:"Proprits Premium",countries:"Pays",viaestate_title:"De la Scandinavie vers le Sud de l'Europe",viaestate_subtitle:"Nous Vous Guidons  Chaque tape",viaestate_description:"Nous comprenons la manire scandinave de faire des affaires - transparente, fiable et personnelle.",view_properties:"Voir les Proprits",book_consultation:"Rserver une Consultation"},Tz={placeholder_country:"Pays (ex. Espagne, France)",property_type:"Type de Proprit",max_price:"Prix Maximum",min_price:"Prix Minimum",search:"Rechercher",bedrooms:"Chambres",bathrooms:"Salles de bain",clear_all:"Effacer Tout",advanced_filters:"Filtres Avancs"},Rz={house:"Maison",apartment:"Appartement",condo:"Coproprit",villa:"Villa",land:"Terrain",commercial:"Commercial"},Iz={title:"Proprits en Vedette",subtitle:"Dcouvrez des proprits de luxe slectionnes  la main du monde entier, curates par nos experts immobiliers.",view_all:"Voir Toutes les Proprits"},Dz={select_country:"Slectionner un Pays",show_all:"Afficher Tout",search_filter:"Rechercher et Filtrer les Proprits",search_filter_desc:"Trouvez votre proprit parfaite avec nos outils de recherche avancs",search_placeholder:"Rechercher des proprits...",country_placeholder:"Pays (ex. Espagne, France, Italie)",city_placeholder:"Ville",min_price_placeholder:"Prix Minimum ()",max_price_placeholder:"Prix Maximum ()",no_properties:"Aucune proprit disponible encore",no_properties_desc:"Bientt disponible. Soyez le premier  publier une proprit ou revenez bientt.",no_match:"Aucune proprit ne correspond  vos filtres",no_match_desc:"Essayez d'effacer les filtres ou d'ajuster votre recherche.",back_home:"Retour  l'Accueil",list_your_property:"Publier Votre Proprit",clear_filters:"Effacer les Filtres",not_found:"Proprit non trouve",not_found_desc:"La proprit que vous recherchez n'existe plus ou n'est plus disponible.",error_loading:"Impossible de charger les dtails de la proprit.",property_details:"Dtails de la Proprit",bedrooms:"Chambres",bathrooms:"Salles de bain",area_info:"Informations sur la Surface",living_area:"Surface Habitable",plot_area:"Surface du Terrain",distance_info:"Informations sur les Distances",city_center:"Centre Ville",to_sea:" la Mer",to_lake:"Au Lac",agent_info:"Informations sur l'Agent",send_inquiry:"Envoyer une Demande",join_discussion:"Rejoindre la Discussion",no_images:"Aucune image disponible",back_to_properties:"Retour aux Proprits",seller_type:"Type",listed:"Publi",featured:"En Vedette",for_sale:" Vendre",for_rent:" Louer",verified:"Vrifi"},Fz={professional:"Professionnel",private:"Priv"},Lz={month:"/mois"},Mz={unavailable:"Image non disponible"},Oz={how_it_works:"Comment a Fonctionne",how_it_works_desc:"Transactions immobilires simples, rapides et transparentes",step1_title:"Parcourir les Proprits",step1_desc:"Dcouvrez des proprits premium vrifies par des professionnels de confiance dans le monde entier",step2_title:"Connectez-vous avec des Agents",step2_desc:"Soyez jumel avec des agents certifis ou publiez votre proprit pour une assistance experte",step3_title:"Scurisez Votre Rve",step3_desc:"Compltez les transactions en toute confiance en utilisant notre plateforme scurise",why_choose:"Pourquoi Choisir ViaEstate",why_choose_desc:"Dcouvrez l'avenir de l'immobilier avec notre plateforme premium conue pour les acheteurs, vendeurs et courtiers exigeants du monde entier.",feature1_title:"Proprits Premium",feature1_desc:"Accdez  des proprits de luxe exclusives de courtiers vrifis dans plus de 50+ pays dans le monde entier.",feature2_title:"Correspondance Alimente par l'IA",feature2_desc:"Notre systme intelligent vous associe  des proprits parfaites en fonction de vos prfrences.",feature3_title:"Courtiers Experts",feature3_desc:"Connectez-vous avec des professionnels immobiliers certifis qui comprennent votre march.",footer_tagline:"Votre porte vers des proprits premium dans le monde entier"},$z={community_discussion:"Discussion de la Communaut",ask_question:"Poser une Question",ask_placeholder:"Posez une question sur cette proprit, le quartier ou autre chose...",post_question:"Publier la Question",post_submitted:"Publication Soumise",post_submitted_desc:"Votre publication a t soumise pour examen et apparatra sous peu.",post_error:"Impossible de crer la publication. Veuillez ressayer.",login_required:"Connexion Requise",login_required_desc:"Veuillez vous connecter pour poser des questions."},Vz={loading:"Chargement...",error:"Erreur",try_again:"Ressayer",close:"Fermer",save:"Enregistrer",cancel:"Annuler",submit:"Envoyer",edit:"Modifier",delete:"Supprimer",view:"Voir",back:"Retour"},zz={switcher_title:"Langue",en:"English",sv:"Svenska",da:"Dansk",de:"Deutsch",it:"Italiano",es:"Espaol",hr:"Hrvatski",fr:"Franais"},Bz={welcome_back:"Bon retour!",login_success:"Vous vous tes connect avec succs.",login_failed:"chec de la connexion",google_failed:"chec de la connexion Google",account_created:"Compte cr!",account_pending:"Votre compte est en attente d'approbation administrative. Vous serez notified une fois approuv.",signup_failed:"chec de l'inscription",reset_sent:"E-mail de rinitialisation du mot de passe envoy",reset_instructions:"Vrifiez votre e-mail pour les instructions de rinitialisation du mot de passe.",reset_failed:"chec de la rinitialisation du mot de passe",error_generic:"Une erreur inattendue s'est produite",welcome_title:"Bienvenue sur ViaEstate",welcome_subtitle:"Connectez-vous  votre compte ou crez-en un nouveau",sign_in:"Connexion",sign_up:"Inscription",email:"E-mail",password:"Mot de passe",signing_in:"Connexion...",forgot_password:"Mot de passe oubli?",or_continue:"Ou continuer avec",google_continue:"Continuer avec Google",full_name:"Nom Complet",account_type:"Type de Compte",select_type:"Slectionner le type de compte",private_seller:"Vendeur Priv",broker:"Agent Immobilier",creating:"Cration du compte...",create_account:"Crer un Compte",reset_password:"Rinitialiser le Mot de Passe",reset_description:"Entrez votre adresse e-mail et nous vous enverrons un lien pour rinitialiser votre mot de passe.",email_address:"Adresse E-mail",sending:"Envoi...",send_reset:"Envoyer le Lien de Rinitialisation"},Uz={error_loading:"Error loading article",article_not_found:"Article not found or not published",pdf_preview:"PDF Preview",download:"Download",featured_article:"Featured Article",error:"Error",article_not_found_title:"Article Not Found",article_not_found_desc:"The article you're looking for doesn't exist or has been removed.",back_to_articles:"Back to Articles",published:"Published",by:"By",viaestate_team:"ViaEstate Team",pdf_document:"PDF Document",open_new_tab:"Open in New Tab",additional_documents:"Additional Documents",preview:"Preview",pdf_preview_failed:"Failed to load PDF preview",download_started:"Download Started",downloading_file:"Downloading {fileName}",enjoyed_article:"Enjoyed this article? Check out more content on our blog.",browse_all_articles:"Browse All Articles"},qz={title:"Title",content:"Content",content_required:"Content is required. Please provide content or upload a PDF file.",save_draft:"Save Draft",publish:"Publish",update:"Update",saving:"Saving...",upload_image:"Upload Image",upload_pdf:"Upload PDF",image_error:"Error uploading image",pdf_error:"Error uploading PDF",file_error:"Error uploading file",file_deleted:"File deleted successfully",error_deleting:"Error deleting file",featured:"Featured article",error_saving:"Error saving article",error_creating_tag:"Error creating tag",error_updating:"Error updating",success_saved:"Article saved successfully",success_published:"Article published successfully",error_loading:"Failed to load article",image_type_error:"Only JPEG, PNG, and WebP images are allowed",image_size_error:"Image must be less than 5MB",image_uploaded:"Image uploaded successfully",pdf_type_error:"Only PDF files are allowed",pdf_size_error:"File must be less than 20MB",pdf_uploaded:"PDF uploaded successfully",primary_file_updated:"Primary file updated",error_updating_primary:"Failed to update primary file",title_required:"Title is required",extracting_text:"Extracting PDF text",extracting_text_desc:"Please wait while we extract text from your PDF...",text_extracted:"Text extracted",text_extracted_desc:"PDF text has been extracted and will be used as article content",extraction_failed:"Text extraction failed",extraction_failed_desc:"Could not extract text from PDF. Article will be saved without content.",success_created:"Article created successfully",success_updated:"Article updated successfully",edit_title:"Edit Article",create_title:"Create New Article",edit_description:"Update your article content",create_description:"Write a new article for your blog",preview:"Preview",basic_info:"Basic Information",title_placeholder:"Enter article title",slug_placeholder:"url-friendly-slug",excerpt_placeholder:"Brief description of the article",cover_image:"Cover Image",change_image:"Change Image",remove:"Remove",upload_cover_image:"Upload a cover image",choose_file:"Choose File",optional:"optional if PDF uploaded",content_placeholder:"Write your article content here...",content_placeholder_pdf:"Write your article content here, or leave blank to use extracted PDF text...",content_extraction_info:"Content will be automatically extracted from your uploaded PDF file.",tags:"Tags",add_tag_placeholder:"Add new tag",documents_attachments:"Documents & Attachments (PDF)",upload_pdf_description:"Upload PDF documents to attach to this article",uploading:"Uploading...",choose_pdf_file:"Choose PDF File",max_file_size:"Maximum file size: 20 MB",uploaded_files:"Uploaded Files",primary:"Primary",set_primary:"Set Primary"},Hz={badge:"Rencontrez Vos Guides",title:"De la Scandinavie vers le Sud de l'Europe",title2:"Nous Vous Guidons  Chaque tape",subtitle:"Nous comprenons la manire scandinave de faire des affaires - transparente, fiable et personnelle.",joel_role:"Co-fondateur & Directeur du Dveloppement Commercial",joel_quote:"Chaque client mrite un accompagnement personnalis dans son parcours immobilier.",joar_role:"Co-fondateur & Directeur Gnral",joar_quote:"Nous aidons les Scandinaves  acheter des proprits en Europe du Sud avec clart, scurit et un soutien complet tout au long du processus.",customer_appreciation_title:"Nos Clients Apprcient Notre Approche Personnelle",customer_appreciation_text:"Muchos de nuestros clientes vienen a travs de recomendaciones de clientes satisfechos que valoraron nuestro proceso transparente y nuestro apoyo dedicado durante toda su compra de propiedad en Espaa, sur de Francia, Italia, Croacia y Grecia."},Gz={badge:"Guides & Ressources",title:"Guides pour Acheter une Proprit en Europe du Sud",subtitle:"Des informations d'experts pour vous aider  prendre des dcisions claires concernant votre achat immobilier",read_more:"Lire Plus",view_all:"Voir Tous les Articles",category_guide:"Guide",category_legal:"Juridique",category_lifestyle:"Mode de Vie",article1_title:"Acheter une Proprit en Espagne en Tant que Scandinave",article1_excerpt:"Tout ce que vous devez savoir sur l'achat d'une proprit en Espagne, des exigences lgales  la finding du bon endroit.",article2_title:"Considrations Juridiques lors de l'Achat  l'tranger",article2_excerpt:"Comprendre le processus juridique, les taxes et la documentation ncessaire lors de l'achat d'une proprit en Europe du Sud.",article3_title:"Meilleures Rgions en Europe du Sud pour les Retraits",article3_excerpt:"Explorez les rgions les plus populaires pour les retraits scandinaves en Espagne, Portugal, Italie et Grce."},Wz={title:" Propos de ViaEstate",subtitle:"Votre partenaire de confiance pour trouver la proprit parfaite dans le monde entier.",about_viaestate:" Propos de ViaEstate",about:" Propos",us:"Nous",founded_desc:"ViaEstate a t fonde  Karlstad, en Sude, en 2025 avec une vision claire: faciliter pour les Scandinaves l'achat de proprits en Europe du Sud en toute scurit et confiance.",mission:"Notre Mission",mission_desc1:"Nous servons de pont entre les acheteurs scandinaves et les professionnels locaux de confiance en Espagne, Portugal, Italie et Grce.",mission_desc2:"Notre objectif est simple: aider les entreprises immobilires  crotre,  atteindre plus de clients et  prsenter leurs proprits de la manire la plus professionnelle et attrayante possible.",founded_2025:"Fond en 2025",karlstad_sweden:"Karlstad, Sude",meet_founders:"Rencontrez les Fondateurs",founders_desc:"ViaEstate a t cre par deux entrepreneurs passionns avec une vision commune de rvolutionner le march immobilier europen.",digital_marketing:"Marketing Digital",digital_marketing_desc:"Nous promouvons vos annonces sur nos plateformes de mdias sociaux et nos canaux cibls.",property_listings:"Annonces Immobilires",property_listings_desc:"Nous publions vos proprits commerciales sur notre plateforme exclusive ViaEstate, o les acheteurs et investisseurs actifs recherchent.",lead_generation:"Gnration de Leads",lead_generation_desc:"Nous connectons les agents directement aux nouveaux leads et clients vrifis.",performance_stats:"Statistiques de Performance",performance_stats_desc:"Nous fournissons des informations et analyses dtailles sur la faon dont vos proprits performent en ligne.",value_connecting:"Connecter les gens et les proprits",value_marketing:"Marketing digital intelligent",value_insights:"Informations bases sur les donnes",value_showcase:"Prsentation professionnelle des proprits",services:"Nos Services",services_desc:"Nous spesialisons dans la connexion des gens et des proprits grce  un marketing digital intelligent et l'exposition.",private_clients_title:"Nouvelle Fonctionnalit pour les Clients Privs",private_clients_desc1:"Notre plateforme permet galement aux particuliers de lister leurs propres proprits. Les agents peuvent demander et aider ces annonces  ce qui aide les vendeurs privs  obtenir un soutien professionnel pour conclure leurs affaires plus rapidement.",private_clients_desc2:"Cette fonctionnalit cre de nouvelles opportunits pour les deux cts  les clients privs reoivent une aide professionnelle et les agents reoivent de nouvelles annonces potentielles.",our_purpose:"Notre Objectif",purpose_desc1:"Acheter une proprit dans un pays tranger peut sembler accablant. Il y a diffrentes lois, langues et coutumes  naviguer  souvent sans le soutien dont vous avez besoin.",purpose_desc2:"ViaEstate a t cre pour changer cela. Nous servons de pont entre les acheteurs scandinaves et les professionnels locaux de confiance en Espagne, Portugal, Italie et Grce.",purpose_desc3:"Notre mission est simple: rendre votre achat de proprit en Europe du Sud aussi fluide, sr et confiant que possible.",how_we_work:"Comment Nous Travaillons",step1_title:"Slection de Proprit",step1_desc:"Nous vous aidons  trouver des proprits qui correspondent  vos prfrences et votre budget en Europe du Sud.",step2_title:"Coordination",step2_desc:"Nous coordonnons avec des agents locaux, avocats et notaires de confiance en votre nom.",step3_title:"Guidage jusqu' la Compltion",step3_desc:"Nous vous guidons  chaque tape jusqu' ce que vous receviez les cls de votre nouveau foyer.",cta_title:"Prt  Trouver Votre Foyer en Europe du Sud?",cta_desc:"Nous sommes l pour vous guider  chaque tape de l'achat de proprit  l'tranger. Rservez une consultation gratuite pour discuter de vos plans.",cta_button:"Contactez-Nous",joel_title:"Co-fondateur & Directeur du Dveloppement Commercial",joel_desc:"Avec une vaste exprience en dveloppement des affaires et le march scandinave, Joel veille  ce que chaque client reoive une attention personnalise et trouve sa proprit parfaite en Europe du Sud.",joar_title:"Co-fondateur & Directeur Gnral",joar_desc:"Joar apporte une expertise approfondie en immobilier international et technologie. Sa vision anime la mission de ViaEstate de simplifier les achats immobiliers pour les acheteurs scandinaves  travers l'Europe."},Kz={title:"Guide",subtitle:"Votre guide tape par tape pour acheter une proprit en Europe du Sud",coming_soon:"Bientt Disponible",description:"Nous travail(l)ons sur des guides complets tape par tape pour vous aider  acheter une proprit en Espagne, France, Italie, Croatie, Grce et plus. Revenez bientt pour des conseils dtaills.",have_questions:"Avez-vous des questions?",contact_us:"Contactez-Nous"},Yz={nav:Cz,hero:Pz,search:Tz,property_types:Rz,featured:Iz,properties:Dz,seller:Fz,time:Lz,image:Mz,home:Oz,forum:$z,common:Vz,language:zz,auth:Bz,article_view:Uz,article_editor:qz,team:Hz,blog:Gz,about:Wz,guidance:Kz},Xz={home:"Startseite",properties:"Immobilien",articles:"Artikel",forum:"Forum",work_with_us:"Arbeiten Sie mit uns",about_us:"ber uns",panel:"Panel",login:"Anmelden",guidance:"Guidance"},Jz={badge:"Premium Immobilienplattform",title:"Entdecken Sie Ihr Traumhaus weltweit",subtitle:"Erleben Sie Geschwindigkeit, Vertrauen und Transparenz bei Immobilien. Verbinden Sie sich mit verifizierten Profis und entdecken Sie auergewhnliche Immobilien weltweit.",browse_properties:"Immobilien durchsuchen",list_property:"Ihre Immobilie auflisten",premium_properties:"Premium Immobilien",countries:"Lnder",viaestate_title:"Von Skandinavien nach Sdeuropa",viaestate_subtitle:"Wir Begleiten Sie bei Jedem Schritt",viaestate_description:"Wir verstehen die skandinavische Art, Geschfte zu machen - transparent, zuverlssig und persnlich.",view_properties:"Immobilien Ansehen",book_consultation:"Beratung Vereinbaren"},Qz={placeholder_country:"Land (z.B. Spanien, Frankreich)",property_type:"Immobilientyp",max_price:"Max Preis",min_price:"Min Preis",search:"Suche",bedrooms:"Schlafzimmer",bathrooms:"Badezimmer",clear_all:"Alle lschen",advanced_filters:"Erweiterte Filter"},Zz={house:"Haus",apartment:"Wohnung",condo:"Eigentumswohnung",villa:"Villa",land:"Grundstck",commercial:"Gewerblich"},eB={title:"Ausgewhlte Immobilien",subtitle:"Entdecken Sie handverlesene Luxusimmobilien aus der ganzen Welt, kuratiert von unseren Experten fr Immobilien.",view_all:"Alle Immobilien anzeigen"},tB={select_country:"Whlen Sie ein Land",show_all:"Alle anzeigen",search_filter:"Suchen & Filtern Immobilien",search_filter_desc:"Finden Sie Ihre perfekte Immobilie mit unseren erweiterten Suchwerkzeugen",search_placeholder:"Immobilien suchen...",country_placeholder:"Land (z.B. Spanien, Frankreich, Italien)",city_placeholder:"Stadt",min_price_placeholder:"Min Preis ()",max_price_placeholder:"Max Preis ()",no_properties:"Noch keine Immobilien verfgbar",no_properties_desc:"Bald verfgbar. Seien Sie der Erste, der eine Immobilie auflistet oder schauen Sie bald wieder vorbei.",no_match:"Keine Immobilien stimmen mit Ihren Filtern berein",no_match_desc:"Versuchen Sie, Filter zu lschen oder Ihre Suche anzupassen.",back_home:"Zurck zur Startseite",list_your_property:"Ihre Immobilie auflisten",clear_filters:"Filter lschen",not_found:"Immobilie nicht gefunden",not_found_desc:"Die gesuchte Immobilie existiert nicht mehr oder ist nicht mehr verfgbar.",error_loading:"Immobiliendetails konnten nicht geladen werden.",property_details:"Immobiliendetails",bedrooms:"Schlafzimmer",bathrooms:"Badezimmer",area_info:"Flcheninformation",living_area:"Wohnflche",plot_area:"Grundstcksflche",distance_info:"Entfernungsinformation",city_center:"Stadtzentrum",to_sea:"Zum Meer",to_lake:"Zum See",agent_info:"Agentinformation",send_inquiry:"Anfrage senden",join_discussion:"Diskussion beitreten",no_images:"Keine Bilder verfgbar",back_to_properties:"Zurck zu Immobilien",seller_type:"Typ",listed:"Gelisted",featured:"Ausgewhlt",for_sale:"Zum Verkauf",for_rent:"Zur Miete",verified:"Verifiziert"},rB={professional:"Professionell",private:"Privat"},iB={month:"/Monat"},sB={unavailable:"Bild nicht verfgbar"},nB={how_it_works:"Wie es funktioniert",how_it_works_desc:"Einfach, schnell und transparente Immobilientransaktionen",step1_title:"Immobilien durchsuchen",step1_desc:"Entdecken Sie verifizierte Premium-Immobilien von vertrauenswrdigen Profis weltweit",step2_title:"Verbinden Sie sich mit Maklern",step2_desc:"Werden Sie mit zertifizierten Maklern gematcht oder listen Sie Ihre Immobilie fr Expertenuntersttzung",step3_title:"Sichern Sie Ihren Traum",step3_desc:"Schlieen Sie Transaktionen mit Selbstvertrauen mit unserer sicheren Plattform ab",why_choose:"Warum ViaEstate whlen",why_choose_desc:"Erleben Sie die Zukunft von Immobilien mit unserer Premium-Plattform, die fr anspruchsvolle Kufer, Verkufer und Makler weltweit entwickelt wurde.",feature1_title:"Premium Immobilien",feature1_desc:"Zugang zu exklusiven Luxusimmobilien von verifizierten Maklern in ber 50+ Lndern weltweit.",feature2_title:"KI-gesteuerte Matchung",feature2_desc:"Unser intelligentes System matcht Sie mit perfekten Immobilien basierend auf Ihren Vorlieben.",feature3_title:"Expertenmakler",feature3_desc:"Verbinden Sie sich mit zertifizierten Immobilienprofis, die Ihren Markt verstehen.",footer_tagline:"Ihr Tor zu Premium-Immobilien weltweit"},aB={community_discussion:"Community-Diskussion",ask_question:"Eine Frage stellen",ask_placeholder:"Fragen Sie nach dieser Immobilie, der Nachbarschaft oder sonstigem...",post_question:"Frage posten",post_submitted:"Beitrag eingereicht",post_submitted_desc:"Ihr Beitrag wurde zur berprfung eingereicht und wird bald erscheinen.",post_error:"Beitrag konnte nicht erstellt werden. Bitte versuchen Sie es erneut.",login_required:"Anmeldung erforderlich",login_required_desc:"Bitte melden Sie sich an, um Fragen zu stellen.",no_discussion:"Noch keine Diskussion. Seien Sie der Erste, der eine Frage zu dieser Immobilie stellt!",login_to_ask:"Bitte melden Sie sich an, um Fragen zu dieser Immobilie zu stellen."},oB={loading:"Laden...",error:"Fehler",try_again:"Erneut versuchen",close:"Schlieen",save:"Speichern",cancel:"Abbrechen",submit:"Absenden",edit:"Bearbeiten",delete:"Lschen",view:"Anzeigen",back:"Zurck",anonymous:"Anonym"},lB={switcher_title:"Sprache",en:"English",sv:"Svenska",da:"Dansk",de:"Deutsch",it:"Italiano",es:"Espaol",hr:"Hrvatski",fr:"Franais"},cB={welcome_back:"Willkommen zurck!",login_success:"Sie haben sich erfolgreich angemeldet.",login_failed:"Anmeldung fehlgeschlagen",google_failed:"Google-Anmeldung fehlgeschlagen",account_created:"Konto erstellt!",account_pending:"Ihr Konto wartet auf administrative Genehmigung. Sie werden benachrichtigt, sobald es genehmigt ist.",signup_failed:"Registrierung fehlgeschlagen",reset_sent:"E-Mail zum Zurcksetzen des Passworts gesendet",reset_instructions:"berprfen Sie Ihre E-Mail fr Anweisungen zum Zurcksetzen Ihres Passworts.",reset_failed:"Passwort-Zurcksetzung fehlgeschlagen",error_generic:"Ein unerwarteter Fehler ist aufgetreten",welcome_title:"Willkommen bei ViaEstate",welcome_subtitle:"Melden Sie sich bei Ihrem Konto an oder erstellen Sie ein neues",sign_in:"Anmelden",sign_up:"Registrieren",email:"E-Mail",password:"Passwort",signing_in:"Anmelden...",forgot_password:"Passwort vergessen?",or_continue:"Oder fortfahren mit",google_continue:"Mit Google fortfahren",full_name:"Vollstndiger Name",account_type:"Kontotyp",select_type:"Kontotyp auswhlen",private_seller:"Privatverkufer",broker:"Immobilienmakler",creating:"Konto wird erstellt...",create_account:"Konto erstellen",reset_password:"Passwort zurcksetzen",reset_description:"Geben Sie Ihre E-Mail-Adresse ein und wir senden Ihnen einen Link zum Zurcksetzen Ihres Passworts.",email_address:"E-Mail-Adresse",sending:"Senden...",send_reset:"Zurcksetzungslink senden"},dB={error_loading:"Error loading article",article_not_found:"Article not found or not published",pdf_preview:"PDF Preview",download:"Download",featured_article:"Featured Article",error:"Error",article_not_found_title:"Article Not Found",article_not_found_desc:"The article you're looking for doesn't exist or has been removed.",back_to_articles:"Back to Articles",published:"Published",by:"By",viaestate_team:"ViaEstate Team",pdf_document:"PDF Document",open_new_tab:"Open in New Tab",additional_documents:"Additional Documents",preview:"Preview",pdf_preview_failed:"Failed to load PDF preview",download_started:"Download Started",downloading_file:"Downloading {fileName}",enjoyed_article:"Enjoyed this article? Check out more content on our blog.",browse_all_articles:"Browse All Articles"},uB={title:"Title",content:"Content",content_required:"Content is required. Please provide content or upload a PDF file.",save_draft:"Save Draft",publish:"Publish",update:"Update",saving:"Saving...",upload_image:"Upload Image",upload_pdf:"Upload PDF",image_error:"Error uploading image",pdf_error:"Error uploading PDF",file_error:"Error uploading file",file_deleted:"File deleted successfully",error_deleting:"Error deleting file",featured:"Featured article",error_saving:"Error saving article",error_creating_tag:"Error creating tag",error_updating:"Error updating",success_saved:"Article saved successfully",success_published:"Article published successfully",error_loading:"Failed to load article",image_type_error:"Only JPEG, PNG, and WebP images are allowed",image_size_error:"Image must be less than 5MB",image_uploaded:"Image uploaded successfully",pdf_type_error:"Only PDF files are allowed",pdf_size_error:"File must be less than 20MB",pdf_uploaded:"PDF uploaded successfully",primary_file_updated:"Primary file updated",error_updating_primary:"Failed to update primary file",title_required:"Title is required",extracting_text:"Extracting PDF text",extracting_text_desc:"Please wait while we extract text from your PDF...",text_extracted:"Text extracted",text_extracted_desc:"PDF text has been extracted and will be used as article content",extraction_failed:"Text extraction failed",extraction_failed_desc:"Could not extract text from PDF. Article will be saved without content.",success_created:"Article created successfully",success_updated:"Article updated successfully",edit_title:"Edit Article",create_title:"Create New Article",edit_description:"Update your article content",create_description:"Write a new article for your blog",preview:"Preview",basic_info:"Basic Information",title_placeholder:"Enter article title",slug_placeholder:"url-friendly-slug",excerpt_placeholder:"Brief description of the article",cover_image:"Cover Image",change_image:"Change Image",remove:"Remove",upload_cover_image:"Upload a cover image",choose_file:"Choose File",optional:"optional if PDF uploaded",content_placeholder:"Write your article content here...",content_placeholder_pdf:"Write your article content here, or leave blank to use extracted PDF text...",content_extraction_info:"Content will be automatically extracted from your uploaded PDF file.",tags:"Tags",add_tag_placeholder:"Add new tag",documents_attachments:"Documents & Attachments (PDF)",upload_pdf_description:"Upload PDF documents to attach to this article",uploading:"Uploading...",choose_pdf_file:"Choose PDF File",max_file_size:"Maximum file size: 20 MB",uploaded_files:"Uploaded Files",primary:"Primary",set_primary:"Set Primary"},hB={badge:"Lernen Sie Ihre Reiseleiter Kennen",title:"Von Skandinavien nach Sdeuropa",title2:"Wir Begleiten Sie bei Jedem Schritt",subtitle:"Wir verstehen die skandinavische Art, Geschfte zu machen - transparent, zuverlssig und persnlich.",joel_role:"Mitgrnder & Business Development Director",joel_quote:"Jeder Kunde verdient eine persnliche Betreuung auf seiner Immobilienreise.",joar_role:"Mitgrnder & Geschftsfhrer",joar_quote:"Wir helfen Skandinaviern, Immobilien in Sdeuropa mit Klarheit, Sicherheit und voller Untersttzung whrend des gesamten Prozesses zu kaufen.",customer_appreciation_title:"Unsere Kunden Schtzen Unseren Persnlichen Ansatz",customer_appreciation_text:"Viele unserer Kunden kommen durch Empfehlungen zufriedener Kunden, die unseren transparenten Prozess und unsere engagierte Untersttzung whrend ihres Immobilienkaufs in Spanien, Sdfrankreich, Italien, Kroatien und Griechenland schtzten."},pB={badge:"Leitfden & Ressourcen",title:"Leitfden zum Immobilienkauf in Sdeuropa",subtitle:"Expertentipps, die Ihnen helfen, informierte Entscheidungen ber Ihren Immobilienkauf zu treffen",read_more:"Mehr Lesen",view_all:"Alle Artikel Anzeigen",category_guide:"Leitfaden",category_legal:"Rechtlich",category_lifestyle:"Lebensstil",article1_title:"Immobilie in Spanien als Skandinavier Kaufen",article1_excerpt:"Alles, was Sie ber den Kauf einer Immobilie in Spanien wissen mssen, von rechtlichen Anforderungen bis zur Findung des richtigen Standorts.",article2_title:"Rechtliche berlegungen beim Kauf im Ausland",article2_excerpt:"Verstehen Sie den rechtlichen Prozess, Steuern und Dokumentation, die beim Kauf einer Immobilie in Sdeuropa erforderlich sind.",article3_title:"Beste Regionen in Sdeuropa fr Rentner",article3_excerpt:"Entdecken Sie die beliebtesten Regionen fr skandinavische Rentner in Spanien, Portugal, Italien und Griechenland."},fB={title:"ber ViaEstate",subtitle:"Ihr vertrauenswrdiger Partner, um die perfekte Immobilie weltweit zu finden.",about_viaestate:"ber ViaEstate",about:"ber",us:"Uns",founded_desc:"ViaEstate wurde 2025 in Karlstad, Schweden, mit einer klaren Vision gegrndet: Skandinaviern den sicheren und selbstbewussten Kauf von Immobilien in Sdeuropa zu erleichtern.",mission:"Unsere Mission",mission_desc1:"Wir fungieren als Brcke zwischen skandinavischen Kufern und vertrauenswrdigen lokalen Fachleuten in Spanien, Portugal, Italien und Griechenland.",mission_desc2:"Unser Ziel ist einfach: Immobilienunternehmen zu helfen, zu wachsen, mehr Kunden zu erreichen und ihre Immobilien so professionell und ansprechend wie mglich zu prsentieren.",founded_2025:"Gegrndet 2025",karlstad_sweden:"Karlstad, Schweden",meet_founders:"Treffen Sie die Grnder",founders_desc:"ViaEstate wurde von zwei leidenschaftlichen Unternehmern mit einer gemeinsamen Vision gegrndet, den europischen Immobilienmarkt zu revolutionieren.",digital_marketing:"Digitales Marketing",digital_marketing_desc:"Wir bewerben Ihre Anzeigen ber unsere Social-Media-Plattformen und gezielte Kanle.",property_listings:"Immobilienlisten",property_listings_desc:"Wir verffentlichen Ihre Gewerbeimmobilien auf unserer exklusiven ViaEstate-Plattform, wo aktiv Kufer und Investoren suchen.",lead_generation:"Lead-Generierung",lead_generation_desc:"Wir verbinden Makler direkt mit neuen, verifizierten Leads und Kunden.",performance_stats:"Leistungsstatistik",performance_stats_desc:"Wir liefern detaillierte Einblicke und Analysen darber, wie Ihre Immobilien online abschneiden.",value_connecting:"Menschen und Immobilien verbinden",value_marketing:"Smartes digitales Marketing",value_insights:"Datengetriebene Einblicke",value_showcase:"Professionelle Immobilienprsentation",services:"Unsere Dienstleistungen",services_desc:"Wir spezialisieren uns darauf, Menschen und Immobilien durch intelligentes digitales Marketing und Exposition zu verbinden.",private_clients_title:"Neue Funktionalitt fr Privatkunden",private_clients_desc1:"Unsere Plattform ermglicht es auch Privatpersonen, ihre eigenen Immobilien zu listen. Makler knnen diese Anzeigen anfordern und untersttzen  was privaten Verkufern hilft, professionelle Untersttzung zu erhalten, um ihre Deals schneller abzuschlieen.",private_clients_desc2:"Diese Funktion schafft neue Mglichkeiten fr beide Seiten  Privatkunden erhalten professionelle Hilfe und Makler erhalten neue potenzielle Anzeigen.",our_purpose:"Unser Zweck",purpose_desc1:"Eine Immobilie in einem fremden Land zu kaufen kann berwltigend sein. Es gibt verschiedene Gesetze, Sprachen und Bruche zu navigieren  oft ohne die bentigte Untersttzung.",purpose_desc2:"ViaEstate wurde geschaffen, um dies zu ndern. Wir fungieren als Brcke zwischen skandinavischen Kufern und vertrauenswrdigen lokalen Fachleuten in Spanien, Portugal, Italien und Griechenland.",purpose_desc3:"Unsere Mission ist einfach: Ihren Immobilienkauf in Sdeuropa so glatt, sicher und selbstbewusst wie mglich zu gestalten.",how_we_work:"Wie Wir Arbeiten",step1_title:"Immobilienauswahl",step1_desc:"Wir helfen Ihnen, Immobilien zu finden, die Ihren Prferenzen und Ihrem Budget in Sdeuropa entsprechen.",step2_title:"Koordinierung",step2_desc:"Wir koordinieren mit vertrauenswrdigen lokalen Agenten, Anwlten und Notaren in Ihrem Namen.",step3_title:"Anleitung bis zum Abschluss",step3_desc:"Wir begleiten Sie durch jeden Schritt, bis Sie die Schlssel zu Ihrem neuen Zuhause erhalten.",cta_title:"Bereit, Ihr Zuhause in Sdeuropa zu finden?",cta_desc:"Wir sind hier, um Sie durch jeden Schritt des Immobilienkaufs im Ausland zu begleiten. Buchen Sie eine kostenlose Beratung, um Ihre Plne zu besprechen.",cta_button:"Kontaktieren Sie Uns",joel_title:"Mitgrnder & Business Development Director",joel_desc:"Mit umfangreicher Erfahrung in der Geschftsentwicklung und dem skandinavischen Markt stellt Joel sicher, dass jeder Kunde persnliche Aufmerksamkeit erhlt und seine perfekte Immobilie in Sdeuropa findet.",joar_title:"Mitgrnder & Geschftsfhrer",joar_desc:"Joar bringt tiefes Fachwissen in internationalen Immobilien und Technologie ein. Seine Vision treibt ViaEstates Mission an, Immobilienkufe fr skandinavische Kufer in ganz Europa zu vereinfachen."},mB={title:"Anleitung",subtitle:"Ihr Schritt-fr-Schritt-Leitfaden zum Immobilienkauf in Sdeuropa",coming_soon:"Demnchst",description:"Wir arbeiten an umfassenden Schritt-fr-Schritt-Anleitungen, um Ihnen beim Kauf von Immobilien in Spanien, Frankreich, Italien, Kroatien, Griechenland und mehr zu helfen. Schauen Sie bald fr detaillierte Anleitungen vorbei.",have_questions:"Haben Sie Fragen?",contact_us:"Kontaktieren Sie Uns"},gB={nav:Xz,hero:Jz,search:Qz,property_types:Zz,featured:eB,properties:tB,seller:rB,time:iB,image:sB,home:nB,forum:aB,common:oB,language:lB,auth:cB,article_view:dB,article_editor:uB,team:hB,blog:pB,about:fB,guidance:mB},vB={home:"Home",properties:"Immobili",articles:"Articoli",forum:"Forum",work_with_us:"Lavora con noi",about_us:"Chi Siamo",panel:"Pannello",login:"Accedi",guidance:"Guidance"},_B={badge:"Piattaforma Immobiliare Premium",title:"Scopri la Tua Propriet dei Sogni in Tutto il Mondo",subtitle:"Sperimenta velocit, fiducia e trasparenza nel settore immobiliare. Connettiti con professionisti verificati e scopri propriet straordinarie in tutto il mondo.",browse_properties:"Sfoglia Immobili",list_property:"Pubblica la Tua Propriet",premium_properties:"Immobili Premium",countries:"Paesi",viaestate_title:"Dalla Scandinavia all'Europa Meridionale",viaestate_subtitle:"Vi Guidiamo in Ogni Passo",viaestate_description:"Comprendiamo il modo scandinavo di fare affari - trasparente, affidabile e personale.",view_properties:"Vedi Immobili",book_consultation:"Prenota Consulenza"},yB={placeholder_country:"Paese (es. Spagna, Francia)",property_type:"Tipo di Propriet",max_price:"Prezzo Massimo",min_price:"Prezzo Minimo",search:"Cerca",bedrooms:"Camere da Letto",bathrooms:"Bagni",clear_all:"Cancella Tutto",advanced_filters:"Filtri Avanzati"},xB={house:"Casa",apartment:"Appartamento",condo:"Condominio",villa:"Villa",land:"Terreno",commercial:"Commerciale"},bB={title:"Immobili in Evidenza",subtitle:"Scopri propriet di lusso selezionate a mano da tutto il mondo, curate dai nostri esperti immobiliari.",view_all:"Vedi Tutti gli Immobili"},wB={select_country:"Seleziona un Paese",show_all:"Mostra Tutto",search_filter:"Cerca e Filtra Immobili",search_filter_desc:"Trova la propriet perfetta con i nostri strumenti di ricerca avanzati",search_placeholder:"Cerca immobili...",country_placeholder:"Paese (es. Spagna, Francia, Italia)",city_placeholder:"Citt",min_price_placeholder:"Prezzo Minimo ()",max_price_placeholder:"Prezzo Massimo ()",no_properties:"Nessuna propriet disponibile",no_properties_desc:"Prossimamente. Sii il primo a pubblicare una propriet o torna a controllare a breve.",no_match:"Nessuna propriet corrisponde ai tuoi filtri",no_match_desc:"Prova a cancellare i filtri o adattare la tua ricerca.",back_home:"Torna alla Home",list_your_property:"Pubblica la Tua Propriet",clear_filters:"Cancella Filtri",not_found:"Propriet non trovata",not_found_desc:"La propriet che cerchi non esiste pi o non  pi disponibile.",error_loading:"Impossibile caricare i dettagli della propriet.",property_details:"Dettagli della Propriet",bedrooms:"Camere da Letto",bathrooms:"Bagni",area_info:"Informazioni sull'Area",living_area:"Area Abitabile",plot_area:"Area del Terreno",distance_info:"Informazioni sulle Distanze",city_center:"Centro Citt",to_sea:"Al Mare",to_lake:"Al Lago",agent_info:"Informazioni sull'Agente",send_inquiry:"Invia Richiesta",join_discussion:"Partecipa alla Discussione",no_images:"Nessuna immagine disponibile",back_to_properties:"Torna agli Immobili",seller_type:"Tipo",listed:"Pubblicato",featured:"In Evidenza",for_sale:"In Vendita",for_rent:"In Affitto",verified:"Verificato"},kB={professional:"Professionale",private:"Privato"},jB={month:"/mese"},SB={unavailable:"Immagine non disponibile"},EB={how_it_works:"Come Funziona",how_it_works_desc:"Transazioni immobiliari semplici, veloci e trasparenti",step1_title:"Sfoglia Immobili",step1_desc:"Scopri propriet premium verificate da professionisti fidati in tutto il mondo",step2_title:"Connettiti con Agenti",step2_desc:"Vieni abbinato ad agenti certificati o pubblica la tua propriet per assistenza esperta",step3_title:"Proteggi il Tuo Sogno",step3_desc:"Completa le transazioni con fiducia usando la nostra piattaforma sicura",why_choose:"Perch Scegliere ViaEstate",why_choose_desc:"Sperimenta il futuro del settore immobiliare con la nostra piattaforma premium progettata per acquirenti, venditori e broker esigenti in tutto il mondo.",feature1_title:"Immobili Premium",feature1_desc:"Accedi a propriet di lusso esclusive da broker verificati in oltre 50+ paesi in tutto il mondo.",feature2_title:"Matching Alimentato da IA",feature2_desc:"Il nostro sistema intelligente ti abbina con propriet perfette basate sulle tue preferenze.",feature3_title:"Broker Esperti",feature3_desc:"Connettiti con professionisti immobiliari certificati che comprendono il tuo mercato.",footer_tagline:"La tua porta verso immobili premium in tutto il mondo"},AB={community_discussion:"Discussione della Comunit",ask_question:"Fai una Domanda",ask_placeholder:"Chiedi su questa propriet, il quartiere o qualsiasi altra cosa...",post_question:"Pubblica Domanda",post_submitted:"Pubblicazione Inviata",post_submitted_desc:"La tua pubblicazione  stata inviata per la revisione e apparir a breve.",post_error:"Impossibile creare la pubblicazione. Per favore riprova.",login_required:"Accesso Richiesto",login_required_desc:"Per favore accedi per pubblicare domande."},NB={loading:"Caricamento...",error:"Errore",try_again:"Riprova",close:"Chiudi",save:"Salva",cancel:"Annulla",submit:"Invia",edit:"Modifica",delete:"Elimina",view:"Visualizza",back:"Indietro"},CB={switcher_title:"Lingua",en:"English",sv:"Svenska",da:"Dansk",de:"Deutsch",it:"Italiano",es:"Espaol",hr:"Hrvatski",fr:"Franais"},PB={welcome_back:"Bentornato!",login_success:"Hai effettuato l'accesso con successo.",login_failed:"Accesso fallito",google_failed:"Accesso con Google fallito",account_created:"Account creato!",account_pending:"Il tuo account  in attesa di approvazione amministrativa. Verrai notificato quando sar approvato.",signup_failed:"Registrazione fallita",reset_sent:"Email di reimpostazione password inviata",reset_instructions:"Controlla la tua email per le istruzioni di reimpostazione password.",reset_failed:"Reimpostazione password fallita",error_generic:"Si  verificato un errore imprevisto",welcome_title:"Benvenuto su ViaEstate",welcome_subtitle:"Accedi al tuo account o creane uno nuovo",sign_in:"Accedi",sign_up:"Registrati",email:"Email",password:"Password",signing_in:"Accesso in corso...",forgot_password:"Password dimenticata?",or_continue:"Oppure continua con",google_continue:"Continua con Google",full_name:"Nome Completo",account_type:"Tipo di Account",select_type:"Seleziona tipo di account",private_seller:"Venditore Privato",broker:"Agente Immobiliare",creating:"Creazione account...",create_account:"Crea Account",reset_password:"Reimposta Password",reset_description:"Inserisci la tua email e ti invieremo un link per reimpostare la password.",email_address:"Indirizzo Email",sending:"Invio...",send_reset:"Invia Link di Reimpostazione"},TB={error_loading:"Error loading article",article_not_found:"Article not found or not published",pdf_preview:"PDF Preview",download:"Download",featured_article:"Featured Article",error:"Error",article_not_found_title:"Article Not Found",article_not_found_desc:"The article you're looking for doesn't exist or has been removed.",back_to_articles:"Back to Articles",published:"Published",by:"By",viaestate_team:"ViaEstate Team",pdf_document:"PDF Document",open_new_tab:"Open in New Tab",additional_documents:"Additional Documents",preview:"Preview",pdf_preview_failed:"Failed to load PDF preview",download_started:"Download Started",downloading_file:"Downloading {fileName}",enjoyed_article:"Enjoyed this article? Check out more content on our blog.",browse_all_articles:"Browse All Articles"},RB={title:"Title",content:"Content",content_required:"Content is required. Please provide content or upload a PDF file.",save_draft:"Save Draft",publish:"Publish",update:"Update",saving:"Saving...",upload_image:"Upload Image",upload_pdf:"Upload PDF",image_error:"Error uploading image",pdf_error:"Error uploading PDF",file_error:"Error uploading file",file_deleted:"File deleted successfully",error_deleting:"Error deleting file",featured:"Featured article",error_saving:"Error saving article",error_creating_tag:"Error creating tag",error_updating:"Error updating",success_saved:"Article saved successfully",success_published:"Article published successfully",error_loading:"Failed to load article",image_type_error:"Only JPEG, PNG, and WebP images are allowed",image_size_error:"Image must be less than 5MB",image_uploaded:"Image uploaded successfully",pdf_type_error:"Only PDF files are allowed",pdf_size_error:"File must be less than 20MB",pdf_uploaded:"PDF uploaded successfully",primary_file_updated:"Primary file updated",error_updating_primary:"Failed to update primary file",title_required:"Title is required",extracting_text:"Extracting PDF text",extracting_text_desc:"Please wait while we extract text from your PDF...",text_extracted:"Text extracted",text_extracted_desc:"PDF text has been extracted and will be used as article content",extraction_failed:"Text extraction failed",extraction_failed_desc:"Could not extract text from PDF. Article will be saved without content.",success_created:"Article created successfully",success_updated:"Article updated successfully",edit_title:"Edit Article",create_title:"Create New Article",edit_description:"Update your article content",create_description:"Write a new article for your blog",preview:"Preview",basic_info:"Basic Information",title_placeholder:"Enter article title",slug_placeholder:"url-friendly-slug",excerpt_placeholder:"Brief description of the article",cover_image:"Cover Image",change_image:"Change Image",remove:"Remove",upload_cover_image:"Upload a cover image",choose_file:"Choose File",optional:"optional if PDF uploaded",content_placeholder:"Write your article content here...",content_placeholder_pdf:"Write your article content here, or leave blank to use extracted PDF text...",content_extraction_info:"Content will be automatically extracted from your uploaded PDF file.",tags:"Tags",add_tag_placeholder:"Add new tag",documents_attachments:"Documents & Attachments (PDF)",upload_pdf_description:"Upload PDF documents to attach to this article",uploading:"Uploading...",choose_pdf_file:"Choose PDF File",max_file_size:"Maximum file size: 20 MB",uploaded_files:"Uploaded Files",primary:"Primary",set_primary:"Set Primary"},IB={badge:"Incontra le Tue Guide",title:"Dalla Scandinavia all'Europa Meridionale",title2:"Ti Guidiamo in Ogni Passo",subtitle:"Comprendiamo il modo scandinavo di fare affari - trasparente, affidabile e personale.",joel_role:"Co-fondatore & Direttore dello Sviluppo Commerciale",joel_quote:"Ogni cliente merita una guida personalizzata nel suo percorso immobiliare.",joar_role:"Co-fondatore & Amministratore Delegato",joar_quote:"Aiutiamo gli scandinavi a comprare propriet in Europa Meridionale con chiarezza, sicurezza e supporto completo durante tutto il processo.",customer_appreciation_title:"I Nostri Clienti Apprezzano il Nostro Approccio Personale",customer_appreciation_text:"Molti dei nostri clienti vengono tramite raccomandazioni di clienti soddisfatti che hanno apprezzato il nostro processo trasparente e il nostro supporto dedicato durante l'acquisto della propriet in Spagna, Francia meridionale, Italia, Croazia e Grecia."},DB={badge:"Guide & Risorse",title:"Guide per Acquistare Propriet nell'Europa Meridionale",subtitle:"Consulenze esperte per aiutarti a prendere decisioni informate sul tuo acquisto immobiliare",read_more:"Leggi di Pi",view_all:"Visualizza Tutti gli Articoli",category_guide:"Guida",category_legal:"Legale",category_lifestyle:"Stile di Vita",article1_title:"Acquistare Propriet in Spagna come Scandinavo",article1_excerpt:"Tutto ci che devi sapere sull'acquisto di propriet in Spagna, dai requisiti legali alla scelta della localit giusta.",article2_title:"Considerazioni Legali all'Acquisto all'Estero",article2_excerpt:"Comprendere il processo legale, le tasse e la documentazione necessaria per acquistare propriet nell'Europa Meridionale.",article3_title:"Migliori Regioni nell'Europa Meridionale per i Pensionati",article3_excerpt:"Esplora le regioni pi popolari per i pensionati scandinavi in Spagna, Portogallo, Italia e Grecia."},FB={title:"Chi Siamo ViaEstate",subtitle:"Il tuo partner di fiducia per trovare la propriet perfetta in tutto il mondo.",about_viaestate:"Chi Siamo ViaEstate",about:"Chi Siamo",us:"Noi",founded_desc:"ViaEstate  stata fondata a Karlstad, in Svezia, nel 2025 con una visione chiara: facilitare per gli scandinavi l'acquisto di propriet nell'Europa meridionale in modo sicuro e fiducioso.",mission:"La Nostra Missione",mission_desc1:"Facciamo da ponte tra acquirenti scandinavi e professionisti locali fidati in Spagna, Portogallo, Italia e Grecia.",mission_desc2:"Il nostro obiettivo  semplice: aiutare le aziende immobiliari a crescere, raggiungere pi clienti e presentare le loro propriet nel modo pi professionale e accattivante possibile.",founded_2025:"Fondato nel 2025",karlstad_sweden:"Karlstad, Svezia",meet_founders:"Incontra i Fondatori",founders_desc:"ViaEstate  stata creata da due imprenditori appassionati con una visione comune di rivoluzionare il mercato immobiliare europeo.",digital_marketing:"Marketing Digitale",digital_marketing_desc:"Promuoviamo i tuoi annunci sulle nostre piattaforme di social media e canali mirati.",property_listings:"Elenchi di Propriet",property_listings_desc:"Pubblichiamo le tue propriet commerciali sulla nostra piattaforma esclusiva ViaEstate, dove acquirenti e investitori attivi cercano attivamente.",lead_generation:"Generazione Lead",lead_generation_desc:"Colleghiamo gli agenti direttamente a nuovi lead e clienti verificati.",performance_stats:"Statistiche di Prestazione",performance_stats_desc:"Forniamo informazioni e analisi dettagliate su come le tue propriet performano online.",value_connecting:"Connettere persone e propriet",value_marketing:"Marketing digitale intelligente",value_insights:"Approfondimenti basati sui dati",value_showcase:"Presentazione professionale delle propriet",services:"I Nostri Servizi",services_desc:"Ci specializziamo nel connettere persone e propriet attraverso marketing digitale intelligente ed esposizione.",private_clients_title:"Nuova Funzionalit per Clienti Privati",private_clients_desc1:"La nostra piattaforma permette anche ai privati di elencare le proprie propriet. Gli agenti possono richiedere e aiutare con questi annunci  il che aiuta i venditori privati a ottenere supporto professionale per chiudere le loro trattative pi velocemente.",private_clients_desc2:"Questa funzionalit crea nuove opportunit per entrambe le parti  i clienti privati ricevono aiuto professionale e gli agenti ricevono nuovi annunci potenziali.",our_purpose:"Il Nostro Scopo",purpose_desc1:"Acquistare una propriet in un paese straniero pu sembrare opprimente. Ci sono diverse leggi, lingue e costumi da navigare  spesso senza il supporto di cui hai bisogno.",purpose_desc2:"ViaEstate  stata creata per cambiare questo. Facciamo da ponte tra acquirenti scandinavi e professionisti locali fidati in Spagna, Portogallo, Italia e Grecia.",purpose_desc3:"La nostra missione  semplice: rendere il tuo acquisto di propriet nell'Europa meridionale il pi fluido, sicuro e fiducioso possibile.",how_we_work:"Come Lavoriamo",step1_title:"Selezione della Propriet",step1_desc:"Ti aiutiamo a trovare propriet che corrispondano alle tue preferenze e al tuo budget nell'Europa meridionale.",step2_title:"Coordinazione",step2_desc:"Coordiniamo con agenti locali, avvocati e notai fidati per tuo conto.",step3_title:"Guida al Completamento",step3_desc:"Ti guidiamo attraverso ogni passo fino a quando non ricevi le chiavi della tua nuova casa.",cta_title:"Pronto a Trovare la Tua Casa nell'Europa Meridionale?",cta_desc:"Siamo qui per guidarti in ogni passaggio dell'acquisto di propriet all'estero. Prenota una consulenza gratuita per discutere i tuoi piani.",cta_button:"Contattaci",joel_title:"Co-fondatore & Direttore dello Sviluppo Commerciale",joel_desc:"Con una vasta esperienza nello sviluppo commerciale e nel mercato scandinavo, Joel assicura che ogni cliente riceva attenzione personalizzata e trovi la propriet perfetta nell'Europa meridionale.",joar_title:"Co-fondatore & Amministratore Delegato",joar_desc:"Joar porta una profonda expertise nell'immobiliare internazionale e nella tecnologia. La sua visione guida la missione di ViaEstate di semplificare gli acquisti immobiliari per gli acquirenti scandinavi in tutta Europa."},LB={title:"Guida",subtitle:"La tua guida passo dopo passo per acquistare propriet nell'Europa meridionale",coming_soon:"Prossimamente",description:"Stiamo lavorando su guide complete passo dopo passo per aiutarti ad acquistare propriet in Spagna, Francia, Italia, Croazia, Grecia e altro. Torna presto per una guida dettagliata.",have_questions:"Hai domande?",contact_us:"Contattaci"},MB={nav:vB,hero:_B,search:yB,property_types:xB,featured:bB,properties:wB,seller:kB,time:jB,image:SB,home:EB,forum:AB,common:NB,language:CB,auth:PB,article_view:TB,article_editor:RB,team:IB,blog:DB,about:FB,guidance:LB},OB={home:"Poetna",properties:"Nekretnine",articles:"lanci",forum:"Forum",work_with_us:"Radite s nama",about_us:"O nama",panel:"Panel",login:"Prijava",guidance:"Guidance"},$B={badge:"Premium Platforma za Nekretnine",title:"Otkrijte Svoj San o Nekretnini u Cijelom Svijetu",subtitle:"Doivite brzinu, povjerenje i transparentnost u nekretninama. Poveite se s verificiranim strunjacima i otkrijte izvanredne nekretnine diljem svijeta.",browse_properties:"Pregledaj Nekretnine",list_property:"Objavite Svoju Nekretninu",premium_properties:"Premium Nekretnine",countries:"Zemlje",viaestate_title:"Iz Skandinavije u Junu Europu",viaestate_subtitle:"Vodimo Vas Kroz Svaki Korak",viaestate_description:"Razumijemo skandinavski nain poslovanja - transparentno, pouzdano i osobno.",view_properties:"Pogledaj Nekretnine",book_consultation:"Rezerviraj Konzultaciju"},VB={placeholder_country:"Zemlja (npr. panjolska, Francuska)",property_type:"Vrsta Nekretnine",max_price:"Maksimalna Cijena",min_price:"Minimalna Cijena",search:"Pretrai",bedrooms:"Spavae sobe",bathrooms:"Kupaonice",clear_all:"Obrii Sve",advanced_filters:"Napredni Filtri"},zB={house:"Kua",apartment:"Stan",condo:"Stan u vlasnitvu",villa:"Vila",land:"Zemljite",commercial:"Komercijalno"},BB={title:"Istaknute Nekretnine",subtitle:"Otkrijte runo odabrane luksuzne nekretnine iz cijelog svijeta, kurirane od strane naih strunjaka za nekretnine.",view_all:"Prikai Sve Nekretnine"},UB={select_country:"Odaberite Zemlju",show_all:"Prikai Sve",search_filter:"Pretrai i Filtriraj Nekretnine",search_filter_desc:"Pronaite svoju savrenu nekretninu s naim naprednim alatima za pretraivanje",search_placeholder:"Pretrai nekretnine...",country_placeholder:"Zemlja (npr. panjolska, Francuska, Italija)",city_placeholder:"Grad",min_price_placeholder:"Minimalna Cijena ()",max_price_placeholder:"Maksimalna Cijena ()",no_properties:"Jo nema dostupnih nekretnina",no_properties_desc:"Dolazi uskoro. Budite prvi koji e objaviti nekretninu ili se vratite uskoro.",no_match:"Nijedna nekretnina ne odgovara vaim filtrima",no_match_desc:"Pokuajte obrisati filtre ili prilagoditi svoju pretragu.",back_home:"Natrag na Poetnu",list_your_property:"Objavite Svoju Nekretninu",clear_filters:"Obrii Filtri",not_found:"Nekretnina nije pronaena",not_found_desc:"Nekretnina koju traite vie ne postoji ili nije vie dostupna.",error_loading:"Nije mogue uitati detalje nekretnine.",property_details:"Detalji Nekretnine",bedrooms:"Spavae sobe",bathrooms:"Kupaonice",area_info:"Informacije o Povrini",living_area:"Stambena Povrina",plot_area:"Povrina Zemljita",distance_info:"Informacije o Udaljenosti",city_center:"Centar Grada",to_sea:"Do Mora",to_lake:"Do Jezera",agent_info:"Informacije o Agentu",send_inquiry:"Poalji Upit",join_discussion:"Pridrui se Diskusiji",no_images:"Nema dostupnih slika",back_to_properties:"Natrag na Nekretnine",seller_type:"Tip",listed:"Objavljeno",featured:"Istaknuto",for_sale:"Na Prodaju",for_rent:"Za Najam",verified:"Verificirano"},qB={professional:"Profesionalno",private:"Privatno"},HB={month:"/mjesec"},GB={unavailable:"Slika nije dostupna"},WB={how_it_works:"Kako To Funkcionira",how_it_works_desc:"Jednostavne, brze i transparentne transakcije nekretnina",step1_title:"Pregledaj Nekretnine",step1_desc:"Otkrijte verificirane premium nekretnine od pouzdanih strunjaka diljem svijeta",step2_title:"Poveite se s Agentima",step2_desc:"Uparite se s certificiranim agentima ili objavite svoju nekretninu za strunu pomo",step3_title:"Osigurajte Svoj San",step3_desc:"Dovrite transakcije s povjerenjem koristei nau sigurnu platformu",why_choose:"Zato Odabrati ViaEstate",why_choose_desc:"Doivite budunost nekretnina s naom premium platformom dizajniranom za zahtjevne kupce, prodavatelje i posrednike diljem svijeta.",feature1_title:"Premium Nekretnine",feature1_desc:"Pristupite ekskluzivnim luksuznim nekretninama od verificiranih posrednika u preko 50+ zemalja diljem svijeta.",feature2_title:"Uparivanje Pokrenuto AI-om",feature2_desc:"Na inteligentni sistem uparuje vas sa savrenim nekretninama temeljem vaih preferencija.",feature3_title:"Struni Posrednici",feature3_desc:"Poveite se s certificiranim strunjacima za nekretnine koji razumiju vae trite.",footer_tagline:"Vaa vrata prema premium nekretninama diljem svijeta"},KB={community_discussion:"Rasprava Zajednice",ask_question:"Postavite Pitanje",ask_placeholder:"Pitajte o ovoj nekretnini, susjedstvu ili bilo emu drugom...",post_question:"Objavi Pitanje",post_submitted:"Objava Poslana",post_submitted_desc:"Vaa objava je poslana na pregled i pojavit e se uskoro.",post_error:"Nije mogue stvoriti objavu. Molimo pokuajte ponovo.",login_required:"Potrebna Prijava",login_required_desc:"Molimo prijavite se za objavu pitanja."},YB={loading:"Uitavanje...",error:"Greka",try_again:"Pokuaj Ponovo",close:"Zatvori",save:"Spremi",cancel:"Otkai",submit:"Poalji",edit:"Uredi",delete:"Obrii",view:"Prikai",back:"Natrag"},XB={switcher_title:"Jezik",en:"English",sv:"Svenska",da:"Dansk",de:"Deutsch",it:"Italiano",es:"Espaol",hr:"Hrvatski",fr:"Franais"},JB={welcome_back:"Dobrodoli natrag!",login_success:"Uspjeno ste se prijavili.",login_failed:"Prijava nije uspjela",google_failed:"Prijava putem Googlea nije uspjela",account_created:"Raun kreiran!",account_pending:"Va raun eka administrativno odobrenje. Bit ete obavijeteni kada bude odobren.",signup_failed:"Registracija nije uspjela",reset_sent:"E-mail za resetiranje lozinke poslan",reset_instructions:"Provjerite svoj e-mail za upute za resetiranje lozinke.",reset_failed:"Resetiranje lozinke nije uspjelo",error_generic:"Dolo je do neoekivane greke",welcome_title:"Dobrodoli na ViaEstate",welcome_subtitle:"Prijavite se na svoj raun ili stvorite novi",sign_in:"Prijavi Se",sign_up:"Registriraj Se",email:"E-mail",password:"Lozinka",signing_in:"Prijava...",forgot_password:"Zaboravili ste lozinku?",or_continue:"Nastavi s",google_continue:"Nastavi s Googleom",full_name:"Puno Ime",account_type:"Vrsta Rauna",select_type:"Odaberite vrstu rauna",private_seller:"Privatni Prodava",broker:"Nekretninski Posrednik",creating:"Stvaranje rauna...",create_account:"Stvori Raun",reset_password:"Resetiraj Lozinku",reset_description:"Unesite svoju e-mail adresu i poslat emo vam link za resetiranje lozinke.",email_address:"E-mail Adresa",sending:"Slanje...",send_reset:"Poalji Link za Resetiranje"},QB={error_loading:"Error loading article",article_not_found:"Article not found or not published",pdf_preview:"PDF Preview",download:"Download",featured_article:"Featured Article",error:"Error",article_not_found_title:"Article Not Found",article_not_found_desc:"The article you're looking for doesn't exist or has been removed.",back_to_articles:"Back to Articles",published:"Published",by:"By",viaestate_team:"ViaEstate Team",pdf_document:"PDF Document",open_new_tab:"Open in New Tab",additional_documents:"Additional Documents",preview:"Preview",pdf_preview_failed:"Failed to load PDF preview",download_started:"Download Started",downloading_file:"Downloading {fileName}",enjoyed_article:"Enjoyed this article? Check out more content on our blog.",browse_all_articles:"Browse All Articles"},ZB={title:"Title",content:"Content",content_required:"Content is required. Please provide content or upload a PDF file.",save_draft:"Save Draft",publish:"Publish",update:"Update",saving:"Saving...",upload_image:"Upload Image",upload_pdf:"Upload PDF",image_error:"Error uploading image",pdf_error:"Error uploading PDF",file_error:"Error uploading file",file_deleted:"File deleted successfully",error_deleting:"Error deleting file",featured:"Featured article",error_saving:"Error saving article",error_creating_tag:"Error creating tag",error_updating:"Error updating",success_saved:"Article saved successfully",success_published:"Article published successfully",error_loading:"Failed to load article",image_type_error:"Only JPEG, PNG, and WebP images are allowed",image_size_error:"Image must be less than 5MB",image_uploaded:"Image uploaded successfully",pdf_type_error:"Only PDF files are allowed",pdf_size_error:"File must be less than 20MB",pdf_uploaded:"PDF uploaded successfully",primary_file_updated:"Primary file updated",error_updating_primary:"Failed to update primary file",title_required:"Title is required",extracting_text:"Extracting PDF text",extracting_text_desc:"Please wait while we extract text from your PDF...",text_extracted:"Text extracted",text_extracted_desc:"PDF text has been extracted and will be used as article content",extraction_failed:"Text extraction failed",extraction_failed_desc:"Could not extract text from PDF. Article will be saved without content.",success_created:"Article created successfully",success_updated:"Article updated successfully",edit_title:"Edit Article",create_title:"Create New Article",edit_description:"Update your article content",create_description:"Write a new article for your blog",preview:"Preview",basic_info:"Basic Information",title_placeholder:"Enter article title",slug_placeholder:"url-friendly-slug",excerpt_placeholder:"Brief description of the article",cover_image:"Cover Image",change_image:"Change Image",remove:"Remove",upload_cover_image:"Upload a cover image",choose_file:"Choose File",optional:"optional if PDF uploaded",content_placeholder:"Write your article content here...",content_placeholder_pdf:"Write your article content here, or leave blank to use extracted PDF text...",content_extraction_info:"Content will be automatically extracted from your uploaded PDF file.",tags:"Tags",add_tag_placeholder:"Add new tag",documents_attachments:"Documents & Attachments (PDF)",upload_pdf_description:"Upload PDF documents to attach to this article",uploading:"Uploading...",choose_pdf_file:"Choose PDF File",max_file_size:"Maximum file size: 20 MB",uploaded_files:"Uploaded Files",primary:"Primary",set_primary:"Set Primary"},eU={badge:"Upoznajte Svoje Vodie",title:"Iz Skandinavije u Junu Europu",title2:"Vodimo Vas kroz Svaki Korak",subtitle:"Razumijemo skandinavski nain poslovanja - transparentno, pouzdano i osobno.",joel_role:"Suosniva & Direktor Razvoja Poslovanja",joel_quote:"Svaki klijent zasluuje personalizirano vodstvo na svom putovanju nekretninama.",joar_role:"Suosniva & Izvrni Direktor",joar_quote:"Pomaemo Skandinavcima kupiti nekretnine u Junoj Europi s jasnoom, sigurnou i punom podrkom tijekom cijelog procesa.",customer_appreciation_title:"Nai Klijenti Cijene Na Osobni Pristup",customer_appreciation_text:"Mnogi nai klijenti dolaze preko preporuka zadovoljnih klijenata koji su cijenili na transparentan proces i posveenu podrku tijekom cijele kupnje nekretnine u panjolskoj, Junoj Francuskoj, Italiji, Hrvatskoj i Grkoj."},tU={badge:"Vodii & Resursi",title:"Vodii za Kupnju Nekretnine u Junoj Europi",subtitle:"Struni uvidi koji vam pomou u donoenju informiranih odluka o kupnji nekretnine",read_more:"Proitaj Vie",view_all:"Pogledaj Sve lanke",category_guide:"Vodi",category_legal:"Pravno",category_lifestyle:"ivotni Stil",article1_title:"Kupnja Nekretnine u panjolskoj kao Skandinavac",article1_excerpt:"Sve to trebate znati o kupnji nekretnine u panjolskoj, od pravnih zahtjeva do pronalaska pravog mjesta.",article2_title:"Pravne Napomene pri Kupnji u Inozemstvu",article2_excerpt:"Razumijevanje pravnog procesa, poreza i dokumentacije potrebne pri kupnji nekretnine u Junoj Europi.",article3_title:"Najbolje Regije u Junoj Europi za Umirovljenike",article3_excerpt:"Istraite najpopularnije regije za skandinavske umirovljenike u panjolskoj, Portugalu, Italiji i Grkoj."},rU={title:"O ViaEstate",subtitle:"Va pouzdan partner za pronalazak savrene nekretnine irom svijeta.",about_viaestate:"O ViaEstate",about:"O",us:"Nama",founded_desc:"ViaEstate je osnovan u Karlstadu, u vedskoj, 2025. godine s jasnom vizijom: olakati Skandinavcima kupnju nekretnina u Junoj Europi sigurno i s povjerenjem.",mission:"Naa Misja",mission_desc1:"Djelujemo kao most izmeu skandinavskih kupaca i pouzdanih lokalnih strunjaka u panjolskoj, Portugalu, Italiji i Grkoj.",mission_desc2:"Na cilj je jednostavan: pomoi nekretninskim tvrtkama da rastu, dosegnu vie klijenata i predstave svoje nekretnine na najprofesionalniji i najprivlaniji mogui nain.",founded_2025:"Osnovano 2025",karlstad_sweden:"Karlstad, vedska",meet_founders:"Upoznajte Osnivae",founders_desc:"ViaEstate je stvoren od dva strastvena poduzetnika s zajednikom vizijom revolucije europskog trita nekretnina.",digital_marketing:"Digitalni Marketing",digital_marketing_desc:"Promoviramo vae oglase na naim platformama drutvenih mrea i ciljanim kanalima.",property_listings:"Popisi Nekretnina",property_listings_desc:"Objavljujemo vae poslovne nekretnine na naoj ekskluzivnoj ViaEstate platformi, gdje aktivno kupci i investitori trae.",lead_generation:"Generiranje Lead-ova",lead_generation_desc:"Povezujemo agente izravno s novim, verificiranim lead-ovima i klijentima.",performance_stats:"Statistike Performansi",performance_stats_desc:"Pruamo detaljne uvide i analize o tome kako vae nekretnine rade online.",value_connecting:"Povezivanje ljudi i nekretnina",value_marketing:"Pametan digitalni marketing",value_insights:"Uvidi temeljeni na podacima",value_showcase:"Profesionalna prezentacija nekretnina",services:"Nae Usluge",services_desc:"Specializiramo se za povezivanje ljudi i nekretnina kroz pametan digitalni marketing i izlaganje.",private_clients_title:"Nova Funkcionalnost za Privatne Klijente",private_clients_desc1:"Naa platforma takoer omoguuje pojedincima da popiu svoje nekretnine. Agenti mogu zatraiti i pomoi s ovim oglasima  to pomae privatnim prodavateljima dobiti profesionalnu podrku za bre zakljuivanje svojih poslova.",private_clients_desc2:"Ova funkcionalnost stvara nove mogunosti za obje strane  privatni klijenti dobivaju profesionalnu pomo, a agensti primaju nove potencijalne oglase.",our_purpose:"Naa Svrha",purpose_desc1:"Kupnja nekretnine u stranoj zemlji moe djelovati nepremostivo. Postoje razliiti zakoni, jezici i obiaji koje treba savladati  esto bez potpore koju trebate.",purpose_desc2:"ViaEstate je stvoren da promijeni ovo. Djelujemo kao most izmeu skandinavskih kupaca i pouzdanih lokalnih strunjaka u panjolskoj, Portugalu, Italiji i Grkoj.",purpose_desc3:"Naa misija je jednostavna: uiniti vau kupnju nekretnine u Junoj Europi to glaom, sigurnijom i samopouzdanijom.",how_we_work:"Kako Radimo",step1_title:"Odabir Nekretnine",step1_desc:"Pomaemo vam pronai nekretnine koje odgovaraju vaim preferencijama i proraunu u Junoj Europi.",step2_title:"Koordinacija",step2_desc:"Koordiniramo s pouzdanim lokalnim agentima, odvjetnicima i javnim biljenicima u vae ime.",step3_title:"Vodenje do Zavretka",step3_desc:"Vodimo vas kroz svaki korak dok ne primite kljueve svog novog doma.",cta_title:"Spremni Pronai Svoj Dom u Junoj Europi?",cta_desc:"Ovde smo da vas vodimo kroz svaki korak kupnje nekretnine u inozemstvu. Rezervirajte besplatnu konzultaciju kako biste razgovarali o svojim planovima.",cta_button:"Kontaktirajte Nas",joel_title:"Suosniva & Direktor Razvoja Poslovanja",joel_desc:"S opsenim iskustvom u razvoju poslovanja i skandinavskom tritu, Joel osigurava da svaki klijent dobije personaliziranu pozornost i pronae savrenu nekretninu u Junoj Europi.",joar_title:"Suosniva & Izvrni Direktor",joar_desc:"Joar donosi duboku strunost u meunarodnom nekretninama i tehnologiji. Njegova vizija pokree misiju ViaEstate-a da pojednostavi kupnju nekretnina za skandinavske kupce diljem Europe."},iU={title:"Vodi",subtitle:"Va vodi korak po korak za kupnju nekretnine u Junoj Europi",coming_soon:"Dolazi Uskoro",description:"Radimo na sveobuhvatnim vodiima korak po korak kako bismo vam pomogli kupiti nekretninu u panjolskoj, Francuskoj, Italiji, Hrvatskoj, Grkoj i vie. Provjerite uskoro za detaljne upute.",have_questions:"Imate pitanja?",contact_us:"Kontaktirajte Nas"},sU={nav:OB,hero:$B,search:VB,property_types:zB,featured:BB,properties:UB,seller:qB,time:HB,image:GB,home:WB,forum:KB,common:YB,language:XB,auth:JB,article_view:QB,article_editor:ZB,team:eU,blog:tU,about:rU,guidance:iU},nU={guidance:"Leibeiningar"},aU={badge:"Premium fasteignavettvangur",title:"Finndu draumaeignina na um heiminn",subtitle:"Upplifu hraa, traust og gegnsi  fasteignaviskiptum. Tengstu vi stafestra fagflk og Finndu einstakar fasteignir um heiminn.",browse_properties:"Skoa fasteignir",list_property:"Skr eignina na",premium_properties:"Premium eignir",countries:"Lnd",viaestate_title:"Fr Skandinavu til Suur-Evrpu",viaestate_subtitle:"Vi leium ig  hvert skref",viaestate_description:"Vi skiljum skandinaviska viskiptahtti - gegnstt, traust og persnulegt.",view_properties:"Skoa eignir",book_consultation:"Bka rgjf"},oU={placeholder_country:"Land (t.d. Spnn, Frakkland)",country:"Land",region:"Svi",city:"Borg",property_type:"Eignartegund",max_price:"Hmarksver",min_price:"Lgmarksver",max_price_placeholder:"Hmarksver",min_price_placeholder:"Lgmarksver",search:"Leita",searching:"Leitum...",search_properties:"Leita a eignum",ask_assistant:"Spuru AI astoarmann",bedrooms:"Svefnherbergi",bathrooms:"Baherbergi",any:"Hva sem er",any_type:"Hva tegund",select_country:"Veldu land",select_region:"Veldu svi",select_city:"Veldu borg",clear_all:"Hreinsa allt",advanced_filters:"tarlegir sur",verified_only:"Aeins stafestar eignir",filters:"Sur",reset:"Endurstilla",min:"Lgmark",max:"Hmark",area:"Flatarml",features:"Eiginleikar"},lU={house:"Hs",apartment:"b",condo:"Condo",villa:"Villa",land:"Land",commercial:"Atvinnuhsni"},cU={title:"Valdar eignir",subtitle:"Skoau gaeignir fr Suur-Evrpu, vandlega valdar af reyndum fasteignasrfringum.",view_all:"Skoa allar eignir"},dU={select_country:"Veldu land",show_all:"Sna allt",search_filter:"Leita og sa eignir",search_filter_desc:"Finndu fullkomna eignina me tarlegum leitarverkfrum",search_placeholder:"Leita a eignum...",country_placeholder:"Land (t.d. Spnn, Frakkland, tala)",city_placeholder:"Borg",min_price_placeholder:"Lgmarksver ()",max_price_placeholder:"Hmarksver ()",no_properties:"Engar eignir tiltkar enn",no_properties_desc:"Vntanlegt. Veri fyrstur til a skr eign ea komi aftur brum.",no_match:"Engar eignir passa vi surnar nar",no_match_desc:"Prfau a hreinsa sur ea alaga leitina.",back_home:"Til baka  heimasu",list_your_property:"Skr eignina na",clear_filters:"Hreinsa sur",not_found:"Eign fannst ekki",not_found_desc:"Eignin sem  ert a leita a er ekki til ea er ekki lengur fanleg.",error_loading:"Mistkst a hlaa eignupplsingum.",property_details:"Eignupplsingar",bedrooms:"Svefnherbergi",bathrooms:"Baherbergi",area_info:"Flatarmlsupplsingar",living_area:"barflatarml",plot_area:"Larflatarml",distance_info:"Fjarlgarupplsingar",city_center:"Mibr",to_sea:"A sj",to_lake:"A vatni",agent_info:"Upplsingar um milara",send_inquiry:"Senda fyrirspurn",join_discussion:"Taka tt  umru",no_images:"Engar myndir tiltkar",back_to_properties:"Til baka a eignum",seller_type:"Tegund",listed:"Skr",featured:"Verur til",for_sale:"Til slu",for_rent:"Til leigu",verified:"Stafest"},uU={professional:"Faglegur",private:"Einkaaili"},hU={month:"/mnu"},pU={unavailable:"Mynd ekki tiltk"},fU={how_it_works:"Hvernig a virkar",how_it_works_desc:"Einfald, hr og gegns fasteignaviskipti",step1_title:"Skoa eignir",step1_desc:"Finndu stafestar premium eignir fr traustum fagflki um heiminn",step2_title:"Tengstu vi milara",step2_desc:"Fu prun vi vottuum milara ea skru eignina na til a f faglega asto",step3_title:"Tryggu drauminn",step3_desc:"Ljktu viskiptum me ryggi me v a nota rugga vettvanginn okkar",why_choose:"Hvers vegna a velja ViaEstate",why_choose_desc:"Upplifu framt fasteigna me premium vettvangnum okkar, hannaur fyrir krfuhara kaupendur, seljendur og milara um heiminn.",feature1_title:"Premium eignir",feature1_desc:"Fu agang a eksklusvum lxuseignum fr vottuum milurum  50+ lndum um heiminn.",feature2_title:"AI-knin prun",feature2_desc:"Kerfi okkar matchar ig vi fullkomnar eignir byggar  skum num.",feature3_title:"Faglegir milarar",feature3_desc:"Tengstu vi vottu fasteignasrfringa sem skilja markainn inn.",footer_tagline:"n lei a premium fasteignum um heiminn"},mU={community_discussion:"Samflagsumra",ask_question:"Spurja spurningar",ask_placeholder:"Spurtu um essa eign, hverfi ea eitthva anna...",post_question:"Senda spurningu",post_submitted:"Innsending bur",post_submitted_desc:"Innsending n hefur veri send til yfirferar og birtist fljtlega.",post_error:"Mistkst a ba til innsendingu. Reyndu aftur.",login_required:"Innskrning nausynleg",login_required_desc:"Vinsamlegast skru ig inn til a setja inn spurningar.",submit_review:"Senda til yfirferar",community_member:"Samflagsmelimur",no_discussion:"Engin umra enn. Veru fyrstur til a spyrja spurningar um essa eign!",login_to_ask:"Vinsamlegast skru ig inn til a spyrja spurninga um essa eign.",error_fetching:"Villa vi a skja innlegg",please_sign_in:"Vinsamlegast skru ig inn",login_required_post:" arft a vera skrur inn til a ba til innsendingu.",error_creating:"Villa vi a ba til innsendingu",just_now:"Nna",minutes_ago:"Fyrir {count} mntum san",hours_ago:"Fyrir {count} klukkutmum san",days_ago:"Fyrir {count} dgum san",new_post:"N innsending",create_new_post:"Ba til nja innsendingu",dialog_description:"Deildu hugsunum num, spuru spurninga ea byrjau umru vi samflagi. Innsending n verur yfirfarin ur en hn er birt.",title:"Titill",title_placeholder:"Hva snst innsendingin um?",content:"Efni",content_placeholder:"Deildu hugsunum num...",please_sign_in_desc:"Vinsamlegast skru ig inn til a ba til innsendingu.",search_placeholder:"Leita a forum innleggjum...",no_posts_found:"Engin innlegg fundust",try_adjusting_search:"Prfau a alaga leitarorin ea skoa ll innlegg.",be_first_to_discuss:"Veru fyrstur til a hefja umru  samflaginu okkar!",create_first_post:"Ba til fyrsta innsendingu"},gU={loading:"Hleur...",error:"Villa",try_again:"Reyna aftur",close:"Loka",save:"Vista",cancel:"Htta vi",submit:"Senda",edit:"Breyta",delete:"Eya",view:"Skoa",back:"Til baka",save_changes:"Vista breytingar",saving:"Vista...",submitting:"Sendir...",anonymous:"Nafnlaus"},vU={switcher_title:"Tunguml",en:"English",sv:"Svenska",da:"Dansk",de:"Deutsch",it:"Italiano",es:"Espaol",hr:"Hrvatski",fr:"Franais",is:"slenska"},_U={welcome_back:"Velkommen aftur!",login_success:" hefur skr ig inn.",login_failed:"Innskrning mistkst",google_failed:"Google innskrning mistkst",account_created:"Reikningur binn til!",account_pending:"Reikningur inn bur eftir samykki admin.  fr tilkynningu egar samykkt hefur veri.",signup_failed:"Skrning mistkst",reset_sent:"Pstur um endurstillingu lykilors sendur",reset_instructions:"Skoau pstinn inn fyrir leibeiningar um endurstillingu lykilors.",reset_failed:"Endurstilling lykilors mistkst",error_generic:"vnt villa kom upp",welcome_title:"Velkommen til ViaEstate",welcome_subtitle:"Skru inn  reikninginn inn ea bu til njan",sign_in:"Skr inn",sign_up:"Skr sig",email:"Netfang",password:"Lykilor",signing_in:"Skri inn...",forgot_password:"Gleymt lykilor?",or_continue:"Ea halda fram me",google_continue:"Halda fram me Google",full_name:"Fullt nafn",account_type:"Reikningstegund",select_type:"Veldu reikningstegund",private_seller:"Einkaseljandi",broker:"Fasteignamilari",creating:"B til reikning...",create_account:"Ba til reikning",reset_password:"Endurstilla lykilor",reset_description:"Slu inn netfangi itt og vi sendum r link til a endurstilla lykilori.",email_address:"Netfang",sending:"Sendir...",send_reset:"Senda endurstillingu"},yU={title:"Senda fyrirspurn",inspection_title:"Bka sjlfstan skounaraila",name:"Nafn itt",email:"Netfang",phone:"Smanmer",message:"Skilabo",message_placeholder:"g hef huga  essari eign...",send:"Senda fyrirspurn",sending:"Sendir...",success:"Fyrirspurn send!",error:"Mistkst a send fyrirspurn. Reyndu aftur.",cancel:"Htta vi"},xU={title:"Hafa samband vi milara",contact_agent:"Hafa samband vi milara",inquire_title:"Fyrirspurn um eign",name:"Nafn",name_placeholder:"Fullt nafn",email:"Netfang",phone:"Smi",message:"Skilabo",message_placeholder:"Segu miaranum hva  ert a leita a...",send:"Senda skilabo",sending:"Sendir...",success:"Fyrirspurn send!",success_desc:"Eigandi eignarinnar mun hafa samband vi ig fljtlega.",error:"Mistkst a send fyrirspurn. Reyndu aftur.",close:"Loka",cancel:"Htta vi",submitted:"Sent",property_id:"Aukenni eignar",agree_terms:"Me v a skila essu formi samykkir  a milari eignarinnar hafi samband vi ig."},bU={title:"Senda eignafyrirspurn",subtitle:"Sendu upplsingar um eign og fu tengingu vi fagleg fasteignaslflk sem mun sj um skrningu fyrir ig.",submit:"Senda eignafyrirspurn",submitting:"Sendir...",success:"Eignafyrirspurn send!",success_desc:"Eignafyrirspurn n hefur veri send. Milarar munu geta teki hana og haft samband vi ig beint.",error:"Villa vi a send fyrirspurn",error_generic:"vnt villa kom upp"},wU={title:"Spurja spurningar",placeholder:"Spurtu um essa eign, hverfi ea eitthva anna...",submit:"Senda spurningu",submitting:"Sendir...",success:"Spurning send",success_desc:"Spurningin n hefur veri send og verur yfirfarin af teymi okkar.",error:"Villa",error_generic:"vnt villa kom upp"},kU={basic_title:"Grunn",basic_desc:"Fullkomi fyrir einkaseljendur",professional_title:"Faglegt",professional_desc:"Fyrir alvarlega seljendur og smrri stofnanir",premium_title:"Premium",premium_desc:"Hinn ultimate fasteignaupplifun",commission_only:"knun aeins fyrir seldar eignir",professional_presentation:"Fagleg kynning eignar",marketing_platform:"Markassetning  vettvangi okkar",everything_basic:"Allt r grunntlun, auk:",video_editing:"Fagleg video editun og srsniin kynning",photographer:"Dedicated ljsmyndari fyrir skrningar nar",quote_request:"Bija um tilbo",requesting:"Biur..."},jU={title:"Mlabor",my_properties:"Eignirnar mnar",my_leads:"Fyrirspurnirnar mnar",no_properties:" hefur ekki skr neinar eignir enn.",list_property:"Skr eign",no_leads:"Engar fyrirspurnir enn.",delete_property:"Eya eign",confirm_delete:"Ertu viss um a  viljir eya essari eign? essi ager er afturkrf.",deleted:"Eign eytt",error_deleting:"Villa vi a eya eign",loading:"Hleur mlabori...",professional_broker:"Faglegur milari",private_seller:"Einkaseljandi"},SU={title:"Skr eignina na",subtitle:"Skru eignina na  premium vettvanginn okkar og tengstu kaupendum um heiminn."},EU={title:"Skr eignina na",professional_broker:"Faglegur milarareikningur",private_seller:"Einkaseljandi reikningur",cancel:"Htta vi",submit:"Skr eign",submitting:"Sendir...",fill_required:"Vinsamlegast fylltu t ll nausynleg reit.",valid_price:"Vinsamlegast slu inn gilt ver.",creation_error:"Eignaskrning skilai engri frslu. Reyndu aftur.",error_listing:"Villa vi skrningu eignar",sign_in_required:" arft a vera skrur inn til a skr eign.",property_info:"Eignupplsingar",property_media:"Eignamilar",click_upload:"Smelltu til a hlaa upp myndum ea dragu og slepptu",images_max:"Myndir (Hmark 10)",videos_max:"Myndbnd (Hmark 3)",upload_videos:"Hlaa upp myndbndum",description:"Lsing *",price_eur:"Ver (EUR) *"},AU={title:"Breyta eign",for_sale:"Til slu",for_rent:"Til leigu",cancel:"Htta vi",save:"Vista breytingar",saving:"Vista...",error_loading:"Mistkst a hlaa eignupplsingum.",error_updating:"Mistkst a uppfra eign.",loading:"Hleur eign...",property_not_found:"Eign fannst ekki"},NU={title:"Stjrnunarpallur",properties:"Eignir",users:"Notendur",posts:"Innsendingar",leads:"Fyrirspurnir",loading:"Hleur stjrnunarpalli...",role_admin:"Stjrnandi",role_broker:"Fasteignamilari",role_private:"Einkaseljandi",save_changes:"Vista breytingar",saving:"Vista...",cancel:"Htta vi",delete:"Eya",confirm_delete_user:"Ertu viss um a  viljir eya essum notanda?",confirm_delete_property:"Ertu viss um a  viljir eya essari eign?",confirm_delete_post:"Ertu viss um a  viljir eya essari innsendingu?",confirm_delete_lead:"Ertu viss um a  viljir eya essari fyrirspurn?",error_loading:"Villa vi a hlaa stjrnunarggnum",error_updating:"Villa vi uppfrslu",error_deleting:"Villa vi eyingu",role_updated:"Hlutverk uppfrt",xml_import:"Flytja inn XML",xml_url:"XML sl",importing:"Flyt inn...",import_success:"XML flutt inn",import_error:"Innflutningsvilla",translate:"a eignir",translating:"i...",translate_success:"ingu loki",translate_error:"ingarvilla",properties_translated:"Eignir ddar",errors:"Villur",author:"Hfundur",anonymous:"Nafnlaus",submitted:"Sent"},CU={title:"Milaraflokkur",my_properties:"Eignirnar mnar",open_requests:"Opnar fyrirspurnir",claimed_requests:"Mtteknar fyrirspurnir",loading:"Hleur milaraflokki...",claim:"Taka",claiming:"Tek...",claim_success:"Fyrirspurn mttekin",claim_error:"Villa vi a taka fyrirspurn",no_properties:" hefur ekki skr neinar eignir enn."},PU={title:"Um ViaEstate",subtitle:"Traustur samstarfsaili inn vi a finna fullkomna eignina um heiminn.",about_viaestate:"Um ViaEstate",about:"Um",us:"okkur",founded_desc:"ViaEstate var stofna  Karlstad  Svj ri 2025 me skra sn: a auvelda fasteignafyrirtkjum og einkaseljendum a tengjast um alla Evrpu.",mission:"Markmi okkar",mission_desc1:"Vi virkum sem br milli milara, einkaviskiptavina og potential kaupenda me v a bja upp  stafrttnivsun, markasekkingu og ggnum reknar innsknir.",mission_desc2:"Markmi okkar er einfalt: a hjlpa fasteignafyrirtkjum a vaxa, n til fleiri viskiptavina og sna eignir eirra  sem faglegasta og alaandi htt.",founded_2025:"Stofna 2025",karlstad_sweden:"Karlstad, Svj",meet_founders:"Kynntu stofnendurna",founders_desc:"ViaEstate var bi til af tveimur hugamnnum me sameiginlega sn um a umbreyta evrpska fasteignamarkainum. Saman bringum vi reynslu  tkni og markassetningu.",digital_marketing:" stafrn markassetning",digital_marketing_desc:"Vi kynnum skrningar nar  samflagsmilum okkar og markvissum rsum.",property_listings:"Eignaskrningar",property_listings_desc:"Vi birtum fasteignir nar  eksklusva ViaEstate vettvangnum ar sem potential kaupendur og fjrfestar leita virkt.",lead_generation:"Leiamyndun",lead_generation_desc:"Vi tengjum milara beint vi nja, stafesta lei og viskiptavini.",performance_stats:"Afkastatlfri",performance_stats_desc:"Vi bjum upp  tarlega innsn og greiningu  v hvernig eignir nar standa sig  netinu.",value_connecting:"Tenging flks og eigna",value_marketing:"Snjall stafrn markassetning",value_insights:"Ggnum reknar innsnir",value_showcase:"Fagleg eignasning",services:"jnusta okkar",services_desc:"Vi specializeum  a tengja flk og eignir me snjallri stafrnni markassetningu og tsetningu.",private_clients_title:"N eiginleiki fyrir einkaviskiptavini",private_clients_desc1:"Vettvangurinn okkar leyfir einnig einstaklingum a skr eigin eignir. ar geta milari teki a sr og astoa essar skrningar - hjlpa einkaseljendum a f faglega asto til a loka samningum hraar.",private_clients_desc2:"essi eiginleiki skapar n tkifri fyrir ba aila - einkaviskiptavinir f faglega hjlp og milarar f njar mgulegar skrningar."},TU={title:"Vinnu me okkur",subtitle:"Vertu hluti af neti traustra fasteignasrfringa.",work_with:"Vinnu me",us:"okkur",intro:"ViaEstate er ntma fasteignavettvangur sem hjlpar milurum a auka viskipti. Vi bjum upp  verkfri og jnustu sem auveldar r a n til viskiptavina, kynna eignir og einfalda daglegt starf itt sem fasteignamilari.",what_offer:"Hva bjum vi milurum",broker_grow:"Vi hjlpum milurum a vaxa",broker_grow_desc:"Vi bjum upp  ntma vettvang sem hjlpar fasteignamilurum a n til fleiri viskiptavina og einfalda viskiptin. Me netinu okkar fru agang a sundum potential kaupenda og seljenda.",international_reach:"Aljagengi",international_reath_desc:"Me aljlegu neti okkar getur  kynnt eignir til kaupenda um heiminn. Vi sjum um mlaflutt efni og aljavingu fyrir ig.",mobile_app:"Kemur brum: Farsmaforrit",mobile_app_desc:"Vi erum a ra ntma forrit sem mun gera a enn auveldara a stjrna eignum og tengilium. Hanna til a spara tma og auka hagkvmni.",booking_system:"Kemur brum: Bkunarkerfi",booking_system_desc:"Ntt bkunarkerfi er  run sem mun leyfa r a panta skoanir, stjrna fundum og fylgja eftir vi potential viskiptavini beint  vettvangnum.",get_started:"Tilbinn a byrja?",contact_desc:"Hafu samband vi okkur  dag til a ra hvernig vi getum hjlpa r a auka fasteignaviskiptin. Vi hjlpum r a finna rttu lausnina fyrir arfir nar."},RU={title:"Greinar og frttir",search:"Leita a greinum...",search_error:"Villa vi leit a greinum",no_articles:"Engum greinum fundust",loading:"Hleur greinum...",load_more:"Hlaa fleiri greinum",featured:"Verur til",read_more:"Lesa meira",search_placeholder:"Leita a greinum...",searching:"Leitum...",load_failed:"Mistkst a hlaa greinum",no_found:"Engum greinum fundust",no_published:"Engar greinar birtar enn",try_adjust:"Prfau a alaga leitaror ea skoa allar greinar.",check_back:"Komdu aftur seinna fyrir ntt efni.",view_all:"Skoa allar greinar",viaestate_team:"ViaEstate teymi",view_pdf:"Skoa PDF",found_results:"Fann",results:"niurstaa",results_plural:"niurstur",for_query:"fyrir",pdf_article:"PDF grein",match:"Match",pdf_document:"PDF skjal",pdf_available:"PDF skjal fanlegt",showing:"Sni",article:"grein",articles:""},IU={error_loading:"Villa vi a hlaa grein",article_not_found:"Grein fannst ekki ea er ekki birt",pdf_preview:"PDF forskoun",download:"Skja",featured_article:"Valin grein",error:"Villa",article_not_found_title:"Grein fannst ekki",article_not_found_desc:"Greinin sem  ert a leita a er ekki til ea hefur veri fjarlg.",back_to_articles:"Til baka a greinum",published:"Birt",by:"Af",viaestate_team:"ViaEstate teymi",pdf_document:"PDF skjal",open_new_tab:"Opna  njum flipa",additional_documents:"Vibtaskjl",preview:"Forskoun",pdf_preview_failed:"Mistkst a hlaa PDF forskoun",download_started:"Niurhals byrja",downloading_file:"Hala niur {fileName}",enjoyed_article:"Nautgstu essari grein? Skoau meira efni  blogginu okkar.",browse_all_articles:"Skoa allar greinar"},DU={title:"Titill",content:"Efni",content_required:"Efni er nausynlegt. Vinsamlegast gefu efni ea hla upp PDF skjali.",save_draft:"Vista drg",publish:"Birta",update:"Uppfra",saving:"Vista...",upload_image:"Hlaa upp mynd",upload_pdf:"Hlaa upp PDF",image_error:"Villa vi a hlaa upp mynd",pdf_error:"Villa vi a hlaa upp PDF",file_error:"Villa vi a hlaa upp skjali",file_deleted:"Skjali eytt",error_deleting:"Villa vi a eya",featured:"Valin grein",error_saving:"Villa vi a vista grein",error_creating_tag:"Villa vi a ba til merki",error_updating:"Villa vi uppfrslu",success_saved:"Grein vistu",success_published:"Grein birt",error_loading:"Mistkst a hlaa grein",image_type_error:"Aeins JPEG, PNG og WebP myndir eru leyfar",image_size_error:"Mynd verur a vera minni en 5MB",image_uploaded:"Mynd hlai upp",pdf_type_error:"Aeins PDF skjl eru leyf",pdf_size_error:"Skjal verur a vera minni en 20MB",pdf_uploaded:"PDF hlai upp",primary_file_updated:"Aalskjl uppfrt",error_updating_primary:"Mistkst a uppfra aalskjl",title_required:"Titill er nausynlegur",extracting_text:"Drepur texta r PDF",extracting_text_desc:"Vinsamlegast bddu  mean vi drepum texta r PDF...",text_extracted:"Texti drepinn",text_extracted_desc:"PDF texti hefur veri drepinn og verur notaur sem greinaeftir",extraction_failed:"Textadreping mistkst",extraction_failed_desc:"Tkst ekki a drep texta r PDF. Grein verur vistu n efnis.",success_created:"Grein bin til",success_updated:"Grein uppfr",edit_title:"Breyta grein",create_title:"Ba til nja grein",edit_description:"Uppfru efni greinarinnar",create_description:"Skrifau nja grein fyrir bloggi itt",preview:"Forskoun",basic_info:"Grunnupplsingar",title_placeholder:"Fru inn greinatitil",slug_placeholder:"url-vingjarnlegur-slug",excerpt_placeholder:"Stutt lsing  greininni",cover_image:"Cover mynd",change_image:"Breyta mynd",remove:"Fjarlgja",upload_cover_image:"Hlaa upp cover mynd",choose_file:"Velja skjal",optional:"valfrjlst ef PDF hlai upp",content_placeholder:"Skrifau efni greinarinnar hr...",content_placeholder_pdf:"Skrifau efni greinarinnar hr, ea hafu autt til a nota drepinn PDF texta...",content_extraction_info:"Efni verur sjlfvirkt drep r upphlanu PDF skjali.",tags:"Merki",add_tag_placeholder:"Bta vi nju merki",documents_attachments:"Skjl og vihengi (PDF)",upload_pdf_description:"Hlaa upp PDF skjlum til a attacha vi essa grein",uploading:"Hleur upp...",choose_pdf_file:"Velja PDF skjal",max_file_size:"Hmarksskjlastr: 20 MB",uploaded_files:"Upphlain skjl",primary:"Aal",set_primary:"Setja sem aal"},FU={title:"Eitthva fr rskeiis",message:"vnt villa kom upp.",retry:"Reyna aftur",error_details:"villuupplsingar"},LU={title:"404 - Sa fannst ekki",message:"San sem  ert a leita a er ekki til."},MU={assistant_title:"AI-kni",assistant_subtitle:"Fasteigna astoarmaur",assistant_desc:"Lttu hraa AI asto okkar hjlpa r a finna fullkomna eign ea tengjast rttum stofnunum fyrir fasteignanar arfir um alla Evrpu.",smart_matching:"Snjall eignaprun",smart_matching_desc:"AI greinir skir nar til a finna fullkomnar eignir um alla Evrpu",agency_finder:"Stofnanafundari",agency_finder_desc:"Tengstu vi stafestar stofnanir sem srhfa sig  markanum num",market_intelligence:"Markasgreining",market_intelligence_desc:"Fu AI-knna innsn  eignaver og markasrun",recommendations:"AI tilmli",recommendations_desc:"Fu srsninar tillgur byggar  leitarsgu inni",find_properties:"Finna eignir",find_agencies:"Finna stofnanir",property_placeholder:"Lstu draumaeigninni inni... (t.d. 'g leita a 3 svefnherbergja villu nlgt strnd  Spni me fjrhagstlun 1M')",agency_placeholder:"Hvers konar stofnun ert  a leita a... (t.d. 'g arf stofnun sem srhfir  lxuseignum  Frakklandi')",searching:"Leitum...",ask_assistant:"Spurja AI astoarmann",budget:"Fjrhagstlun",location:"skileg stasetning",requirements:"Srstakar krfur",property_badge:"Eign",ai_match:"AI Match",view_details:"Skoa nnar",no_results:"Engar eignir fundust sem passa vi krfur nar. Prfau a alaga leitina.",search_error:"Leit mistkst. Reyndu aftur.",placeholder:"Spurja um eignir, stasetningar ea fasteignir..."},OU={properties:"Eignir",countries:"Lnd",brokers:"Milarar",leads:"Fyrirspurnir"},$U={professional_question:"Ertu fasteignasrfringur?",join_broker:"Ganga til lis vi sem milari",properties:"Eignir",experience:"Reynsla",specialties:"Srgreinar:",languages:"Tunguml:",view_properties:"Skoa eignir"},VU={title:"Leibeiningar",subtitle:"Skref-fyrir-skref leibeiningar um a kaupa eign  Suur-Evrpu",coming_soon:"Kemur brum",description:"Vi erum a vinna  tarlegum skref-fyrir-skref leibeiningum til a hjlpa r a kaupa eign  Spni,  Frakklandi, talu, Kratu, Grikklandi og fleiri. Komdu aftur brum fyrir tarlegar leibeiningar.",have_questions:"Hafu spurningar?",contact_us:"Hafu samband"},zU={nav:nU,hero:aU,search:oU,property_types:lU,featured:cU,properties:dU,seller:uU,time:hU,image:pU,home:fU,forum:mU,common:gU,language:vU,auth:_U,inquiry:yU,lead:xU,property_request:bU,forum_post:wU,packages:kU,dashboard:jU,submit_property:SU,list_property:EU,edit_property:AU,admin:NU,agent:CU,about:PU,work_with_us:TU,articles:RU,article_view:IU,article_editor:DU,error_boundary:FU,not_found:LU,ai:MU,kpis:OU,brokers:$U,guidance:VU},z_=["en","sv","fi","da","nb","es","fr","de","it","hr","is"],s0="en",eE={en:j$,sv:c3,fi:K3,da:wV,nb:oz,es:Nz,fr:Yz,de:gB,it:MB,hr:sU,is:zU};async function tE(r){const e=r.toLowerCase();return eE[e]||eE[s0]}function rE(r){console.log("Translations loaded for language:",r)}function iE(r){document.documentElement.lang=r}function BU(){var i;const t=(i=window.location.pathname.split("/").filter(Boolean)[0])==null?void 0:i.toLowerCase();return z_.includes(t)?t:s0}function UU(){const r={en:"English",sv:"Svenska",fi:"Suomi",da:"Dansk",nb:"Norsk",es:"Espaol",fr:"Franais",de:"Deutsch",it:"Italiano",hr:"Hrvatski",is:"slenska"};return z_.map(e=>({code:e,name:r[e]}))}function qU(r,e,t){const i=r.split(".");let s=e;for(const n of i){if(s[n]===void 0)return t||r;s=s[n]}return s}const ZN=b.createContext(void 0);function HU({children:r}){const[e,t]=b.useState(s0),[i,s]=b.useState({}),[n,o]=b.useState(!0);b.useEffect(()=>{async function p(){const f=BU(),m=await tE(f);t(f),s(m),rE(m),iE(f),o(!1)}p()},[]);const l=b.useCallback(p=>{o(!0),localStorage.setItem("preferred-language",p),tE(p).then(f=>{t(p),s(f),rE(f),iE(p),o(!1);const g=window.location.pathname.split("/").filter(Boolean);z_.includes(g[0])?g[0]=p:g.unshift(p),window.history.pushState({},"","/"+g.join("/"))})},[]),c=b.useCallback((p,f)=>qU(p,i,f),[i]),d=b.useMemo(()=>UU(),[]),h=b.useMemo(()=>({lang:e,translations:i,setLang:l,t:c,languages:d,isLoading:n}),[e,i,l,c,d,n]);return a.jsx(ZN.Provider,{value:h,children:r})}function Qe(){const r=b.useContext(ZN);if(r===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return r}const Os=({children:r,allowedRoles:e,redirectTo:t="/login"})=>{const{user:i,profile:s,loading:n}=Ci(),o=bn();return n&&!i?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})}):i?e&&s&&!e.includes(s.role)?(console.warn("Access denied - user role:",s.role),a.jsx(Cp,{to:"/",replace:!0})):a.jsx(a.Fragment,{children:r}):a.jsx(Cp,{to:t,state:{from:o},replace:!0})};function sE(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function sh(...r){return e=>{let t=!1;const i=r.map(s=>{const n=sE(s,e);return!t&&typeof n=="function"&&(t=!0),n});if(t)return()=>{for(let s=0;s<i.length;s++){const n=i[s];typeof n=="function"?n():sE(r[s],null)}}}}function st(...r){return b.useCallback(sh(...r),r)}var GU=Symbol.for("react.lazy"),Mv=x_[" use ".trim().toString()];function WU(r){return typeof r=="object"&&r!==null&&"then"in r}function eC(r){return r!=null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===GU&&"_payload"in r&&WU(r._payload)}function n0(r){const e=YU(r),t=b.forwardRef((i,s)=>{let{children:n,...o}=i;eC(n)&&typeof Mv=="function"&&(n=Mv(n._payload));const l=b.Children.toArray(n),c=l.find(JU);if(c){const d=c.props.children,h=l.map(p=>p===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:p);return a.jsx(e,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:n})});return t.displayName=`${r}.Slot`,t}var KU=n0("Slot");function YU(r){const e=b.forwardRef((t,i)=>{let{children:s,...n}=t;if(eC(s)&&typeof Mv=="function"&&(s=Mv(s._payload)),b.isValidElement(s)){const o=ZU(s),l=QU(n,s.props);return s.type!==b.Fragment&&(l.ref=i?sh(i,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var XU=Symbol("radix.slottable");function JU(r){return b.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===XU}function QU(r,e){const t={...e};for(const i in e){const s=r[i],n=e[i];/^on[A-Z]/.test(i)?s&&n?t[i]=(...l)=>{const c=n(...l);return s(...l),c}:s&&(t[i]=s):i==="style"?t[i]={...s,...n}:i==="className"&&(t[i]=[s,n].filter(Boolean).join(" "))}return{...r,...t}}function ZU(r){var i,s;let e=(i=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(s=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function tC(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=tC(r[e]))&&(i&&(i+=" "),i+=t)}else for(t in r)r[t]&&(i&&(i+=" "),i+=t);return i}function rC(){for(var r,e,t=0,i="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=tC(r))&&(i&&(i+=" "),i+=e);return i}const nE=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,aE=rC,B_=(r,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return aE(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:n}=e,o=Object.keys(s).map(d=>{const h=t==null?void 0:t[d],p=n==null?void 0:n[d];if(h===null)return null;const f=nE(h)||nE(p);return s[d][f]}),l=t&&Object.entries(t).reduce((d,h)=>{let[p,f]=h;return f===void 0||(d[p]=f),d},{}),c=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((d,h)=>{let{class:p,className:f,...m}=h;return Object.entries(m).every(g=>{let[v,x]=g;return Array.isArray(x)?x.includes({...n,...l}[v]):{...n,...l}[v]===x})?[...d,p,f]:d},[]);return aE(r,o,c,t==null?void 0:t.class,t==null?void 0:t.className)},a0="-",e5=r=>{const e=r5(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=r;return{getClassGroupId:o=>{const l=o.split(a0);return l[0]===""&&l.length!==1&&l.shift(),iC(l,e)||t5(o)},getConflictingClassGroupIds:(o,l)=>{const c=t[o]||[];return l&&i[o]?[...c,...i[o]]:c}}},iC=(r,e)=>{var o;if(r.length===0)return e.classGroupId;const t=r[0],i=e.nextPart.get(t),s=i?iC(r.slice(1),i):void 0;if(s)return s;if(e.validators.length===0)return;const n=r.join(a0);return(o=e.validators.find(({validator:l})=>l(n)))==null?void 0:o.classGroupId},oE=/^\[(.+)\]$/,t5=r=>{if(oE.test(r)){const e=oE.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},r5=r=>{const{theme:e,prefix:t}=r,i={nextPart:new Map,validators:[]};return s5(Object.entries(r.classGroups),t).forEach(([n,o])=>{Eb(o,i,n,e)}),i},Eb=(r,e,t,i)=>{r.forEach(s=>{if(typeof s=="string"){const n=s===""?e:lE(e,s);n.classGroupId=t;return}if(typeof s=="function"){if(i5(s)){Eb(s(i),e,t,i);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([n,o])=>{Eb(o,lE(e,n),t,i)})})},lE=(r,e)=>{let t=r;return e.split(a0).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},i5=r=>r.isThemeGetter,s5=(r,e)=>e?r.map(([t,i])=>{const s=i.map(n=>typeof n=="string"?e+n:typeof n=="object"?Object.fromEntries(Object.entries(n).map(([o,l])=>[e+o,l])):n);return[t,s]}):r,n5=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const s=(n,o)=>{t.set(n,o),e++,e>r&&(e=0,i=t,t=new Map)};return{get(n){let o=t.get(n);if(o!==void 0)return o;if((o=i.get(n))!==void 0)return s(n,o),o},set(n,o){t.has(n)?t.set(n,o):s(n,o)}}},sC="!",a5=r=>{const{separator:e,experimentalParseClassName:t}=r,i=e.length===1,s=e[0],n=e.length,o=l=>{const c=[];let d=0,h=0,p;for(let x=0;x<l.length;x++){let _=l[x];if(d===0){if(_===s&&(i||l.slice(x,x+n)===e)){c.push(l.slice(h,x)),h=x+n;continue}if(_==="/"){p=x;continue}}_==="["?d++:_==="]"&&d--}const f=c.length===0?l:l.substring(h),m=f.startsWith(sC),g=m?f.substring(1):f,v=p&&p>h?p-h:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}};return t?l=>t({className:l,parseClassName:o}):o},o5=r=>{if(r.length<=1)return r;const e=[];let t=[];return r.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},l5=r=>({cache:n5(r.cacheSize),parseClassName:a5(r),...e5(r)}),c5=/\s+/,d5=(r,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:s}=e,n=[],o=r.trim().split(c5);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:m}=t(d);let g=!!m,v=i(g?f.substring(0,m):f);if(!v){if(!g){l=d+(l.length>0?" "+l:l);continue}if(v=i(f),!v){l=d+(l.length>0?" "+l:l);continue}g=!1}const x=o5(h).join(":"),_=p?x+sC:x,y=_+v;if(n.includes(y))continue;n.push(y);const w=s(v,g);for(let k=0;k<w.length;++k){const E=w[k];n.push(_+E)}l=d+(l.length>0?" "+l:l)}return l};function u5(){let r=0,e,t,i="";for(;r<arguments.length;)(e=arguments[r++])&&(t=nC(e))&&(i&&(i+=" "),i+=t);return i}const nC=r=>{if(typeof r=="string")return r;let e,t="";for(let i=0;i<r.length;i++)r[i]&&(e=nC(r[i]))&&(t&&(t+=" "),t+=e);return t};function h5(r,...e){let t,i,s,n=o;function o(c){const d=e.reduce((h,p)=>p(h),r());return t=l5(d),i=t.cache.get,s=t.cache.set,n=l,l(c)}function l(c){const d=i(c);if(d)return d;const h=d5(c,t);return s(c,h),h}return function(){return n(u5.apply(null,arguments))}}const nt=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},aC=/^\[(?:([a-z-]+):)?(.+)\]$/i,p5=/^\d+\/\d+$/,f5=new Set(["px","full","screen"]),m5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,g5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,v5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,y5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,En=r=>Ad(r)||f5.has(r)||p5.test(r),Ca=r=>nh(r,"length",A5),Ad=r=>!!r&&!Number.isNaN(Number(r)),Xy=r=>nh(r,"number",Ad),_h=r=>!!r&&Number.isInteger(Number(r)),x5=r=>r.endsWith("%")&&Ad(r.slice(0,-1)),Ee=r=>aC.test(r),Pa=r=>m5.test(r),b5=new Set(["length","size","percentage"]),w5=r=>nh(r,b5,oC),k5=r=>nh(r,"position",oC),j5=new Set(["image","url"]),S5=r=>nh(r,j5,C5),E5=r=>nh(r,"",N5),yh=()=>!0,nh=(r,e,t)=>{const i=aC.exec(r);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},A5=r=>g5.test(r)&&!v5.test(r),oC=()=>!1,N5=r=>_5.test(r),C5=r=>y5.test(r),P5=()=>{const r=nt("colors"),e=nt("spacing"),t=nt("blur"),i=nt("brightness"),s=nt("borderColor"),n=nt("borderRadius"),o=nt("borderSpacing"),l=nt("borderWidth"),c=nt("contrast"),d=nt("grayscale"),h=nt("hueRotate"),p=nt("invert"),f=nt("gap"),m=nt("gradientColorStops"),g=nt("gradientColorStopPositions"),v=nt("inset"),x=nt("margin"),_=nt("opacity"),y=nt("padding"),w=nt("saturate"),k=nt("scale"),E=nt("sepia"),S=nt("skew"),A=nt("space"),P=nt("translate"),R=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ee,e],L=()=>[Ee,e],W=()=>["",En,Ca],U=()=>["auto",Ad,Ee],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Ee],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Ad,Ee];return{cacheSize:500,separator:":",theme:{colors:[yh],spacing:[En,Ca],blur:["none","",Pa,Ee],brightness:B(),borderColor:[r],borderRadius:["none","","full",Pa,Ee],borderSpacing:L(),borderWidth:W(),contrast:B(),grayscale:z(),hueRotate:B(),invert:z(),gap:L(),gradientColorStops:[r],gradientColorStopPositions:[x5,Ca],inset:M(),margin:M(),opacity:B(),padding:L(),saturate:B(),scale:B(),sepia:z(),skew:B(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[Pa]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Ee]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_h,Ee]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",_h,Ee]}],"grid-cols":[{"grid-cols":[yh]}],"col-start-end":[{col:["auto",{span:["full",_h,Ee]},Ee]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[yh]}],"row-start-end":[{row:["auto",{span:[_h,Ee]},Ee]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,e]}],"min-w":[{"min-w":[Ee,e,"min","max","fit"]}],"max-w":[{"max-w":[Ee,e,"none","full","min","max","fit","prose",{screen:[Pa]},Pa]}],h:[{h:[Ee,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Pa,Ca]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xy]}],"font-family":[{font:[yh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",Ad,Xy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",En,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",En,Ca]}],"underline-offset":[{"underline-offset":["auto",En,Ee]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),k5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",w5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},S5]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[n]}],"rounded-s":[{"rounded-s":[n]}],"rounded-e":[{"rounded-e":[n]}],"rounded-t":[{"rounded-t":[n]}],"rounded-r":[{"rounded-r":[n]}],"rounded-b":[{"rounded-b":[n]}],"rounded-l":[{"rounded-l":[n]}],"rounded-ss":[{"rounded-ss":[n]}],"rounded-se":[{"rounded-se":[n]}],"rounded-ee":[{"rounded-ee":[n]}],"rounded-es":[{"rounded-es":[n]}],"rounded-tl":[{"rounded-tl":[n]}],"rounded-tr":[{"rounded-tr":[n]}],"rounded-br":[{"rounded-br":[n]}],"rounded-bl":[{"rounded-bl":[n]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[En,Ee]}],"outline-w":[{outline:[En,Ca]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[En,Ca]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",Pa,E5]}],"shadow-color":[{shadow:[yh]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Pa,Ee]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[_h,Ee]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[En,Ca,Xy]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},T5=h5(P5);function xe(...r){return T5(rC(r))}const o0=B_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-gradient-primary text-primary-foreground hover:shadow-elegant hover:scale-[1.02] transition-smooth font-semibold",luxury:"bg-gradient-hero text-primary-foreground hover:shadow-luxury hover:scale-[1.02] transition-smooth font-bold"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=b.forwardRef(({className:r,variant:e,size:t,asChild:i=!1,...s},n)=>{const o=i?KU:"button";return a.jsx(o,{className:xe(o0({variant:e,size:t,className:r})),ref:n,...s})});$.displayName="Button";const K=b.forwardRef(({className:r,...e},t)=>a.jsx("div",{ref:t,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",r),...e}));K.displayName="Card";const Te=b.forwardRef(({className:r,...e},t)=>a.jsx("div",{ref:t,className:xe("flex flex-col space-y-1.5 p-6",r),...e}));Te.displayName="CardHeader";const Re=b.forwardRef(({className:r,...e},t)=>a.jsx("h3",{ref:t,className:xe("text-2xl font-semibold leading-none tracking-tight",r),...e}));Re.displayName="CardTitle";const Vt=b.forwardRef(({className:r,...e},t)=>a.jsx("p",{ref:t,className:xe("text-sm text-muted-foreground",r),...e}));Vt.displayName="CardDescription";const Q=b.forwardRef(({className:r,...e},t)=>a.jsx("div",{ref:t,className:xe("p-6 pt-0",r),...e}));Q.displayName="CardContent";const R5=b.forwardRef(({className:r,...e},t)=>a.jsx("div",{ref:t,className:xe("flex items-center p-6 pt-0",r),...e}));R5.displayName="CardFooter";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lC=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=b.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:n,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...D5,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:lC("lucide",s),...l},[...o.map(([d,h])=>b.createElement(d,h)),...Array.isArray(n)?n:[n]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(r,e)=>{const t=b.forwardRef(({className:i,...s},n)=>b.createElement(F5,{ref:n,iconNode:e,className:lC(`lucide-${I5(r)}`,i),...s}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=he("Bath",[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=he("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=he("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=he("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=he("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=he("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=he("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=he("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=he("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=he("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=he("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=he("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=he("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=he("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=he("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=he("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=he("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=he("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=he("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=he("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=he("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=he("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=he("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=he("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=he("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=he("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=he("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class uE extends b.Component{constructor(t){super(t);ge(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,i){console.error("ErrorBoundary caught an error:",t,i),this.setState({error:t,errorInfo:i})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(K,{className:"w-full max-w-md",children:[a.jsxs(Te,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(d0,{className:"h-12 w-12 text-destructive"})}),a.jsx(Re,{className:"text-2xl",children:"Something went wrong"}),a.jsx(Vt,{children:"An unexpected error occurred. Please try refreshing the page."})]}),a.jsxs(Q,{className:"space-y-4",children:[this.state.error&&a.jsxs("div",{className:"p-3 bg-muted rounded-md text-sm",children:[a.jsx("p",{className:"font-medium",children:"Error details:"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:this.state.error.message})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($,{onClick:this.handleRetry,className:"flex-1",children:[a.jsx(G5,{className:"h-4 w-4 mr-2"}),"Try Again"]}),a.jsx($,{variant:"outline",onClick:()=>window.location.reload(),className:"flex-1",children:"Refresh Page"})]})]})]})}):this.props.children}}const X5="/assets/hero-villa-DS1T0zWa.jpg",J5=()=>{const{lang:r}=Ji(),e=Ct(),{t}=Qe();return a.jsxs("section",{className:"relative min-h-[70vh] sm:min-h-[80vh] lg:min-h-screen flex items-center justify-center overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover scale-110",style:{filter:"brightness(0.7)",animationDuration:"3s"},poster:X5,children:a.jsx("source",{src:"/hero-video.mp4",type:"video/mp4"})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/70 via-white/40 to-white/20"})]}),a.jsx("div",{className:"relative z-10 container mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:a.jsxs("div",{className:"max-w-3xl lg:max-w-4xl",children:[a.jsx("div",{className:"mb-6"}),a.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl 2xl:text-7xl font-bold leading-tight mb-4 sm:mb-6 text-primary",children:t("hero.viaestate_title")}),a.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-black mb-4 sm:mb-6 max-w-2xl leading-relaxed",children:t("hero.viaestate_subtitle")}),a.jsx("p",{className:"text-base sm:text-lg text-gray-800 mb-6 sm:mb-8 max-w-2xl leading-relaxed",children:t("hero.viaestate_description")}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[a.jsx($,{variant:"hero",size:"lg",className:"text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 h-auto w-full sm:w-auto",onClick:()=>e(`/${r}/properties`),children:t("hero.view_properties")}),a.jsx($,{variant:"outline",size:"lg",className:"text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 h-auto w-full sm:w-auto border-white/30 text-black hover:bg-white hover:text-black",onClick:()=>e(`/${r}/about`),children:t("hero.book_consultation")})]})]})})]})},Q5=()=>{const{t:r}=Qe(),e=[{icon:fC,title:r("trust.personal_guidance","Personal Guidance"),description:r("trust.personal_guidance_desc","Personal guidance throughout the entire buying process")},{icon:ur,title:r("trust.local_partners","Certified Local Partners"),description:r("trust.local_partners_desc","Verified and certified local partners in Southern Europe")},{icon:vC,title:r("trust.transparent","Transparent Communication"),description:r("trust.transparent_desc","Transparent communication at every step")},{icon:mC,title:r("trust.scandinavian","Scandinavian-Focused Service"),description:r("trust.scandinavian_desc","Service designed specifically for Scandinavian buyers")},{icon:c0,title:r("trust.independent_inspection","Certified Independent Inspection"),description:r("trust.independent_inspection_desc","Professional property inspections by certified independent experts")}];return a.jsx("section",{className:"py-8 bg-slate-50 border-y border-slate-100",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:e.map((t,i)=>a.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg hover:bg-white hover:shadow-sm transition-all duration-300",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center",children:a.jsx(t.icon,{className:"h-6 w-6 text-primary"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-foreground text-sm md:text-base mb-1",children:t.title}),a.jsx("p",{className:"text-xs md:text-sm text-muted-foreground leading-relaxed",children:t.description})]})]},i))})})})};function De(r,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(r==null||r(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Z5(r,e){const t=b.createContext(e),i=n=>{const{children:o,...l}=n,c=b.useMemo(()=>l,Object.values(l));return a.jsx(t.Provider,{value:c,children:o})};i.displayName=r+"Provider";function s(n){const o=b.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${n}\` must be used within \`${r}\``)}return[i,s]}function Ho(r,e=[]){let t=[];function i(n,o){const l=b.createContext(o),c=t.length;t=[...t,o];const d=p=>{var _;const{scope:f,children:m,...g}=p,v=((_=f==null?void 0:f[r])==null?void 0:_[c])||l,x=b.useMemo(()=>g,Object.values(g));return a.jsx(v.Provider,{value:x,children:m})};d.displayName=n+"Provider";function h(p,f){var v;const m=((v=f==null?void 0:f[r])==null?void 0:v[c])||l,g=b.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${n}\``)}return[d,h]}const s=()=>{const n=t.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[r])||n;return b.useMemo(()=>({[`__scope${r}`]:{...l,[r]:c}}),[l,c])}};return s.scopeName=r,[i,e6(s,...e)]}function e6(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const i=r.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(n){const o=i.reduce((l,{useScope:c,scopeName:d})=>{const p=c(n)[`__scope${d}`];return{...l,...p}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Er=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},t6=x_[" useId ".trim().toString()]||(()=>{}),r6=0;function To(r){const[e,t]=b.useState(t6());return Er(()=>{t(i=>i??String(r6++))},[r]),e?`radix-${e}`:""}var i6=x_[" useInsertionEffect ".trim().toString()]||Er;function Yu({prop:r,defaultProp:e,onChange:t=()=>{},caller:i}){const[s,n,o]=s6({defaultProp:e,onChange:t}),l=r!==void 0,c=l?r:s;{const h=b.useRef(r!==void 0);b.useEffect(()=>{const p=h.current;p!==l&&console.warn(`${i} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,i])}const d=b.useCallback(h=>{var p;if(l){const f=n6(h)?h(r):h;f!==r&&((p=o.current)==null||p.call(o,f))}else n(h)},[l,r,n,o]);return[c,d]}function s6({defaultProp:r,onChange:e}){const[t,i]=b.useState(r),s=b.useRef(t),n=b.useRef(e);return i6(()=>{n.current=e},[e]),b.useEffect(()=>{var o;s.current!==t&&((o=n.current)==null||o.call(n,t),s.current=t)},[t,s]),[t,i,n]}function n6(r){return typeof r=="function"}function a6(r){const e=o6(r),t=b.forwardRef((i,s)=>{const{children:n,...o}=i,l=b.Children.toArray(n),c=l.find(c6);if(c){const d=c.props.children,h=l.map(p=>p===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:p);return a.jsx(e,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:n})});return t.displayName=`${r}.Slot`,t}function o6(r){const e=b.forwardRef((t,i)=>{const{children:s,...n}=t;if(b.isValidElement(s)){const o=u6(s),l=d6(n,s.props);return s.type!==b.Fragment&&(l.ref=i?sh(i,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var l6=Symbol("radix.slottable");function c6(r){return b.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===l6}function d6(r,e){const t={...e};for(const i in e){const s=r[i],n=e[i];/^on[A-Z]/.test(i)?s&&n?t[i]=(...l)=>{const c=n(...l);return s(...l),c}:s&&(t[i]=s):i==="style"?t[i]={...s,...n}:i==="className"&&(t[i]=[s,n].filter(Boolean).join(" "))}return{...r,...t}}function u6(r){var i,s;let e=(i=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(s=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var h6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=h6.reduce((r,e)=>{const t=a6(`Primitive.${e}`),i=b.forwardRef((s,n)=>{const{asChild:o,...l}=s,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:n})});return i.displayName=`Primitive.${e}`,{...r,[e]:i}},{});function p6(r,e){r&&eh.flushSync(()=>r.dispatchEvent(e))}function Lo(r){const e=b.useRef(r);return b.useEffect(()=>{e.current=r}),b.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function f6(r,e=globalThis==null?void 0:globalThis.document){const t=Lo(r);b.useEffect(()=>{const i=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var m6="DismissableLayer",Cb="dismissableLayer.update",g6="dismissableLayer.pointerDownOutside",v6="dismissableLayer.focusOutside",hE,kC=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),u0=b.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:n,onInteractOutside:o,onDismiss:l,...c}=r,d=b.useContext(kC),[h,p]=b.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),g=st(e,A=>p(A)),v=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(x),y=h?v.indexOf(h):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,k=y>=_,E=x6(A=>{const P=A.target,R=[...d.branches].some(I=>I.contains(P));!k||R||(s==null||s(A),o==null||o(A),A.defaultPrevented||l==null||l())},f),S=b6(A=>{const P=A.target;[...d.branches].some(I=>I.contains(P))||(n==null||n(A),o==null||o(A),A.defaultPrevented||l==null||l())},f);return f6(A=>{y===d.layers.size-1&&(i==null||i(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},f),b.useEffect(()=>{if(h)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(hE=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),pE(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=hE)}},[h,f,t,d]),b.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),pE())},[h,d]),b.useEffect(()=>{const A=()=>m({});return document.addEventListener(Cb,A),()=>document.removeEventListener(Cb,A)},[]),a.jsx(Oe.div,{...c,ref:g,style:{pointerEvents:w?k?"auto":"none":void 0,...r.style},onFocusCapture:De(r.onFocusCapture,S.onFocusCapture),onBlurCapture:De(r.onBlurCapture,S.onBlurCapture),onPointerDownCapture:De(r.onPointerDownCapture,E.onPointerDownCapture)})});u0.displayName=m6;var _6="DismissableLayerBranch",y6=b.forwardRef((r,e)=>{const t=b.useContext(kC),i=b.useRef(null),s=st(e,i);return b.useEffect(()=>{const n=i.current;if(n)return t.branches.add(n),()=>{t.branches.delete(n)}},[t.branches]),a.jsx(Oe.div,{...r,ref:s})});y6.displayName=_6;function x6(r,e=globalThis==null?void 0:globalThis.document){const t=Lo(r),i=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const n=l=>{if(l.target&&!i.current){let c=function(){jC(g6,t,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",n)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",n),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function b6(r,e=globalThis==null?void 0:globalThis.document){const t=Lo(r),i=b.useRef(!1);return b.useEffect(()=>{const s=n=>{n.target&&!i.current&&jC(v6,t,{originalEvent:n},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function pE(){const r=new CustomEvent(Cb);document.dispatchEvent(r)}function jC(r,e,t,{discrete:i}){const s=t.originalEvent.target,n=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(r,e,{once:!0}),i?p6(s,n):s.dispatchEvent(n)}var Qy="focusScope.autoFocusOnMount",Zy="focusScope.autoFocusOnUnmount",fE={bubbles:!1,cancelable:!0},w6="FocusScope",h0=b.forwardRef((r,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:n,...o}=r,[l,c]=b.useState(null),d=Lo(s),h=Lo(n),p=b.useRef(null),f=st(e,v=>c(v)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(i){let v=function(w){if(m.paused||!l)return;const k=w.target;l.contains(k)?p.current=k:Ra(p.current,{select:!0})},x=function(w){if(m.paused||!l)return;const k=w.relatedTarget;k!==null&&(l.contains(k)||Ra(p.current,{select:!0}))},_=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&Ra(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const y=new MutationObserver(_);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),y.disconnect()}}},[i,l,m.paused]),b.useEffect(()=>{if(l){gE.add(m);const v=document.activeElement;if(!l.contains(v)){const _=new CustomEvent(Qy,fE);l.addEventListener(Qy,d),l.dispatchEvent(_),_.defaultPrevented||(k6(N6(SC(l)),{select:!0}),document.activeElement===v&&Ra(l))}return()=>{l.removeEventListener(Qy,d),setTimeout(()=>{const _=new CustomEvent(Zy,fE);l.addEventListener(Zy,h),l.dispatchEvent(_),_.defaultPrevented||Ra(v??document.body,{select:!0}),l.removeEventListener(Zy,h),gE.remove(m)},0)}}},[l,d,h,m]);const g=b.useCallback(v=>{if(!t&&!i||m.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(x&&_){const y=v.currentTarget,[w,k]=j6(y);w&&k?!v.shiftKey&&_===k?(v.preventDefault(),t&&Ra(w,{select:!0})):v.shiftKey&&_===w&&(v.preventDefault(),t&&Ra(k,{select:!0})):_===y&&v.preventDefault()}},[t,i,m.paused]);return a.jsx(Oe.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});h0.displayName=w6;function k6(r,{select:e=!1}={}){const t=document.activeElement;for(const i of r)if(Ra(i,{select:e}),document.activeElement!==t)return}function j6(r){const e=SC(r),t=mE(e,r),i=mE(e.reverse(),r);return[t,i]}function SC(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function mE(r,e){for(const t of r)if(!S6(t,{upTo:e}))return t}function S6(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function E6(r){return r instanceof HTMLInputElement&&"select"in r}function Ra(r,{select:e=!1}={}){if(r&&r.focus){const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&E6(r)&&e&&r.select()}}var gE=A6();function A6(){let r=[];return{add(e){const t=r[0];e!==t&&(t==null||t.pause()),r=vE(r,e),r.unshift(e)},remove(e){var t;r=vE(r,e),(t=r[0])==null||t.resume()}}}function vE(r,e){const t=[...r],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function N6(r){return r.filter(e=>e.tagName!=="A")}var C6="Portal",p0=b.forwardRef((r,e)=>{var l;const{container:t,...i}=r,[s,n]=b.useState(!1);Er(()=>n(!0),[]);const o=t||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?eL.createPortal(a.jsx(Oe.div,{...i,ref:e}),o):null});p0.displayName=C6;function P6(r,e){return b.useReducer((t,i)=>e[t][i]??t,r)}var ah=r=>{const{present:e,children:t}=r,i=T6(e),s=typeof t=="function"?t({present:i.isPresent}):b.Children.only(t),n=st(i.ref,R6(s));return typeof t=="function"||i.isPresent?b.cloneElement(s,{ref:n}):null};ah.displayName="Presence";function T6(r){const[e,t]=b.useState(),i=b.useRef(null),s=b.useRef(r),n=b.useRef("none"),o=r?"mounted":"unmounted",[l,c]=P6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=sg(i.current);n.current=l==="mounted"?d:"none"},[l]),Er(()=>{const d=i.current,h=s.current;if(h!==r){const f=n.current,m=sg(d);r?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=r}},[r,c]),Er(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,p=m=>{const v=sg(i.current).includes(CSS.escape(m.animationName));if(m.target===e&&v&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=m=>{m.target===e&&(n.current=sg(i.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(d=>{i.current=d?getComputedStyle(d):null,t(d)},[])}}function sg(r){return(r==null?void 0:r.animationName)||"none"}function R6(r){var i,s;let e=(i=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(s=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var ex=0;function EC(){b.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??_E()),document.body.insertAdjacentElement("beforeend",r[1]??_E()),ex++,()=>{ex===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ex--}},[])}function _E(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Ag="right-scroll-bar-position",Ng="width-before-scroll-bar",I6="with-scroll-bars-hidden",D6="--removed-body-scroll-bar-size";function tx(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function F6(r,e){var t=b.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(i){var s=t.value;s!==i&&(t.value=i,t.callback(i,s))}}}})[0];return t.callback=e,t.facade}var L6=typeof window<"u"?b.useLayoutEffect:b.useEffect,yE=new WeakMap;function M6(r,e){var t=F6(null,function(i){return r.forEach(function(s){return tx(s,i)})});return L6(function(){var i=yE.get(t);if(i){var s=new Set(i),n=new Set(r),o=t.current;s.forEach(function(l){n.has(l)||tx(l,null)}),n.forEach(function(l){s.has(l)||tx(l,o)})}yE.set(t,r)},[r]),t}function O6(r){return r}function $6(r,e){e===void 0&&(e=O6);var t=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(n){var o=e(n,i);return t.push(o),function(){t=t.filter(function(l){return l!==o})}},assignSyncMedium:function(n){for(i=!0;t.length;){var o=t;t=[],o.forEach(n)}t={push:function(l){return n(l)},filter:function(){return t}}},assignMedium:function(n){i=!0;var o=[];if(t.length){var l=t;t=[],l.forEach(n),o=t}var c=function(){var h=o;o=[],h.forEach(n)},d=function(){return Promise.resolve().then(c)};d(),t={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),t}}}};return s}function V6(r){r===void 0&&(r={});var e=$6(null);return e.options=ln({async:!0,ssr:!1},r),e}var AC=function(r){var e=r.sideCar,t=ih(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return b.createElement(i,ln({},t))};AC.isSideCarExport=!0;function z6(r,e){return r.useMedium(e),AC}var NC=V6(),rx=function(){},U_=b.forwardRef(function(r,e){var t=b.useRef(null),i=b.useState({onScrollCapture:rx,onWheelCapture:rx,onTouchMoveCapture:rx}),s=i[0],n=i[1],o=r.forwardProps,l=r.children,c=r.className,d=r.removeScrollBar,h=r.enabled,p=r.shards,f=r.sideCar,m=r.noRelative,g=r.noIsolation,v=r.inert,x=r.allowPinchZoom,_=r.as,y=_===void 0?"div":_,w=r.gapMode,k=ih(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,S=M6([t,e]),A=ln(ln({},k),s);return b.createElement(b.Fragment,null,h&&b.createElement(E,{sideCar:NC,removeScrollBar:d,shards:p,noRelative:m,noIsolation:g,inert:v,setCallbacks:n,allowPinchZoom:!!x,lockRef:t,gapMode:w}),o?b.cloneElement(b.Children.only(l),ln(ln({},A),{ref:S})):b.createElement(y,ln({},A,{className:c,ref:S}),l))});U_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};U_.classNames={fullWidth:Ng,zeroRight:Ag};var B6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function U6(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=B6();return e&&r.setAttribute("nonce",e),r}function q6(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function H6(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var G6=function(){var r=0,e=null;return{add:function(t){r==0&&(e=U6())&&(q6(e,t),H6(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},W6=function(){var r=G6();return function(e,t){b.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},CC=function(){var r=W6(),e=function(t){var i=t.styles,s=t.dynamic;return r(i,s),null};return e},K6={left:0,top:0,right:0,gap:0},ix=function(r){return parseInt(r||"",10)||0},Y6=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],i=e[r==="padding"?"paddingTop":"marginTop"],s=e[r==="padding"?"paddingRight":"marginRight"];return[ix(t),ix(i),ix(s)]},X6=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return K6;var e=Y6(r),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},J6=CC(),Cd="data-scroll-locked",Q6=function(r,e,t,i){var s=r.left,n=r.top,o=r.right,l=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(I6,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(Cd,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(n,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ag,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(Ng,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(Ag," .").concat(Ag,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Ng," .").concat(Ng,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Cd,`] {
    `).concat(D6,": ").concat(l,`px;
  }
`)},xE=function(){var r=parseInt(document.body.getAttribute(Cd)||"0",10);return isFinite(r)?r:0},Z6=function(){b.useEffect(function(){return document.body.setAttribute(Cd,(xE()+1).toString()),function(){var r=xE()-1;r<=0?document.body.removeAttribute(Cd):document.body.setAttribute(Cd,r.toString())}},[])},eq=function(r){var e=r.noRelative,t=r.noImportant,i=r.gapMode,s=i===void 0?"margin":i;Z6();var n=b.useMemo(function(){return X6(s)},[s]);return b.createElement(J6,{styles:Q6(n,!e,s,t?"":"!important")})},Pb=!1;if(typeof window<"u")try{var ng=Object.defineProperty({},"passive",{get:function(){return Pb=!0,!0}});window.addEventListener("test",ng,ng),window.removeEventListener("test",ng,ng)}catch{Pb=!1}var Hc=Pb?{passive:!1}:!1,tq=function(r){return r.tagName==="TEXTAREA"},PC=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!tq(r)&&t[e]==="visible")},rq=function(r){return PC(r,"overflowY")},iq=function(r){return PC(r,"overflowX")},bE=function(r,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=TC(r,i);if(s){var n=RC(r,i),o=n[1],l=n[2];if(o>l)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},sq=function(r){var e=r.scrollTop,t=r.scrollHeight,i=r.clientHeight;return[e,t,i]},nq=function(r){var e=r.scrollLeft,t=r.scrollWidth,i=r.clientWidth;return[e,t,i]},TC=function(r,e){return r==="v"?rq(e):iq(e)},RC=function(r,e){return r==="v"?sq(e):nq(e)},aq=function(r,e){return r==="h"&&e==="rtl"?-1:1},oq=function(r,e,t,i,s){var n=aq(r,window.getComputedStyle(e).direction),o=n*i,l=t.target,c=e.contains(l),d=!1,h=o>0,p=0,f=0;do{if(!l)break;var m=RC(r,l),g=m[0],v=m[1],x=m[2],_=v-x-n*g;(g||_)&&TC(r,l)&&(p+=_,f+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(p)<1||!h&&Math.abs(f)<1)&&(d=!0),d},ag=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},wE=function(r){return[r.deltaX,r.deltaY]},kE=function(r){return r&&"current"in r?r.current:r},lq=function(r,e){return r[0]===e[0]&&r[1]===e[1]},cq=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},dq=0,Gc=[];function uq(r){var e=b.useRef([]),t=b.useRef([0,0]),i=b.useRef(),s=b.useState(dq++)[0],n=b.useState(CC)[0],o=b.useRef(r);b.useEffect(function(){o.current=r},[r]),b.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(s));var v=cM([r.lockRef.current],(r.shards||[]).map(kE),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[r.inert,r.lockRef.current,r.shards]);var l=b.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=ag(v),y=t.current,w="deltaX"in v?v.deltaX:y[0]-_[0],k="deltaY"in v?v.deltaY:y[1]-_[1],E,S=v.target,A=Math.abs(w)>Math.abs(k)?"h":"v";if("touches"in v&&A==="h"&&S.type==="range")return!1;var P=window.getSelection(),R=P&&P.anchorNode,I=R?R===S||R.contains(S):!1;if(I)return!1;var M=bE(A,S);if(!M)return!0;if(M?E=A:(E=A==="v"?"h":"v",M=bE(A,S)),!M)return!1;if(!i.current&&"changedTouches"in v&&(w||k)&&(i.current=E),!E)return!0;var L=i.current||E;return oq(L,x,v,L==="h"?w:k)},[]),c=b.useCallback(function(v){var x=v;if(!(!Gc.length||Gc[Gc.length-1]!==n)){var _="deltaY"in x?wE(x):ag(x),y=e.current.filter(function(E){return E.name===x.type&&(E.target===x.target||x.target===E.shadowParent)&&lq(E.delta,_)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(kE).filter(Boolean).filter(function(E){return E.contains(x.target)}),k=w.length>0?l(x,w[0]):!o.current.noIsolation;k&&x.cancelable&&x.preventDefault()}}},[]),d=b.useCallback(function(v,x,_,y){var w={name:v,delta:x,target:_,should:y,shadowParent:hq(_)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(k){return k!==w})},1)},[]),h=b.useCallback(function(v){t.current=ag(v),i.current=void 0},[]),p=b.useCallback(function(v){d(v.type,wE(v),v.target,l(v,r.lockRef.current))},[]),f=b.useCallback(function(v){d(v.type,ag(v),v.target,l(v,r.lockRef.current))},[]);b.useEffect(function(){return Gc.push(n),r.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Hc),document.addEventListener("touchmove",c,Hc),document.addEventListener("touchstart",h,Hc),function(){Gc=Gc.filter(function(v){return v!==n}),document.removeEventListener("wheel",c,Hc),document.removeEventListener("touchmove",c,Hc),document.removeEventListener("touchstart",h,Hc)}},[]);var m=r.removeScrollBar,g=r.inert;return b.createElement(b.Fragment,null,g?b.createElement(n,{styles:cq(s)}):null,m?b.createElement(eq,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function hq(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const pq=z6(NC,uq);var f0=b.forwardRef(function(r,e){return b.createElement(U_,ln({},r,{ref:e,sideCar:pq}))});f0.classNames=U_.classNames;var fq=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},Wc=new WeakMap,og=new WeakMap,lg={},sx=0,IC=function(r){return r&&(r.host||IC(r.parentNode))},mq=function(r,e){return e.map(function(t){if(r.contains(t))return t;var i=IC(t);return i&&r.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},gq=function(r,e,t,i){var s=mq(e,Array.isArray(r)?r:[r]);lg[t]||(lg[t]=new WeakMap);var n=lg[t],o=[],l=new Set,c=new Set(s),d=function(p){!p||l.has(p)||(l.add(p),d(p.parentNode))};s.forEach(d);var h=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(f){if(l.has(f))h(f);else try{var m=f.getAttribute(i),g=m!==null&&m!=="false",v=(Wc.get(f)||0)+1,x=(n.get(f)||0)+1;Wc.set(f,v),n.set(f,x),o.push(f),v===1&&g&&og.set(f,!0),x===1&&f.setAttribute(t,"true"),g||f.setAttribute(i,"true")}catch(_){console.error("aria-hidden: cannot operate on ",f,_)}})};return h(e),l.clear(),sx++,function(){o.forEach(function(p){var f=Wc.get(p)-1,m=n.get(p)-1;Wc.set(p,f),n.set(p,m),f||(og.has(p)||p.removeAttribute(i),og.delete(p)),m||p.removeAttribute(t)}),sx--,sx||(Wc=new WeakMap,Wc=new WeakMap,og=new WeakMap,lg={})}},DC=function(r,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(r)?r:[r]),s=fq(r);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live], script"))),gq(i,s,t,"aria-hidden")):function(){return null}};function vq(r){const e=_q(r),t=b.forwardRef((i,s)=>{const{children:n,...o}=i,l=b.Children.toArray(n),c=l.find(xq);if(c){const d=c.props.children,h=l.map(p=>p===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:p);return a.jsx(e,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:n})});return t.displayName=`${r}.Slot`,t}function _q(r){const e=b.forwardRef((t,i)=>{const{children:s,...n}=t;if(b.isValidElement(s)){const o=wq(s),l=bq(n,s.props);return s.type!==b.Fragment&&(l.ref=i?sh(i,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var yq=Symbol("radix.slottable");function xq(r){return b.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===yq}function bq(r,e){const t={...e};for(const i in e){const s=r[i],n=e[i];/^on[A-Z]/.test(i)?s&&n?t[i]=(...l)=>{const c=n(...l);return s(...l),c}:s&&(t[i]=s):i==="style"?t[i]={...s,...n}:i==="className"&&(t[i]=[s,n].filter(Boolean).join(" "))}return{...r,...t}}function wq(r){var i,s;let e=(i=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(s=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var q_="Dialog",[FC,LC]=Ho(q_),[kq,Ls]=FC(q_),MC=r=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:s,onOpenChange:n,modal:o=!0}=r,l=b.useRef(null),c=b.useRef(null),[d,h]=Yu({prop:i,defaultProp:s??!1,onChange:n,caller:q_});return a.jsx(kq,{scope:e,triggerRef:l,contentRef:c,contentId:To(),titleId:To(),descriptionId:To(),open:d,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(p=>!p),[h]),modal:o,children:t})};MC.displayName=q_;var OC="DialogTrigger",$C=b.forwardRef((r,e)=>{const{__scopeDialog:t,...i}=r,s=Ls(OC,t),n=st(e,s.triggerRef);return a.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":v0(s.open),...i,ref:n,onClick:De(r.onClick,s.onOpenToggle)})});$C.displayName=OC;var m0="DialogPortal",[jq,VC]=FC(m0,{forceMount:void 0}),zC=r=>{const{__scopeDialog:e,forceMount:t,children:i,container:s}=r,n=Ls(m0,e);return a.jsx(jq,{scope:e,forceMount:t,children:b.Children.map(i,o=>a.jsx(ah,{present:t||n.open,children:a.jsx(p0,{asChild:!0,container:s,children:o})}))})};zC.displayName=m0;var Vv="DialogOverlay",BC=b.forwardRef((r,e)=>{const t=VC(Vv,r.__scopeDialog),{forceMount:i=t.forceMount,...s}=r,n=Ls(Vv,r.__scopeDialog);return n.modal?a.jsx(ah,{present:i||n.open,children:a.jsx(Eq,{...s,ref:e})}):null});BC.displayName=Vv;var Sq=vq("DialogOverlay.RemoveScroll"),Eq=b.forwardRef((r,e)=>{const{__scopeDialog:t,...i}=r,s=Ls(Vv,t);return a.jsx(f0,{as:Sq,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Oe.div,{"data-state":v0(s.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Ec="DialogContent",UC=b.forwardRef((r,e)=>{const t=VC(Ec,r.__scopeDialog),{forceMount:i=t.forceMount,...s}=r,n=Ls(Ec,r.__scopeDialog);return a.jsx(ah,{present:i||n.open,children:n.modal?a.jsx(Aq,{...s,ref:e}):a.jsx(Nq,{...s,ref:e})})});UC.displayName=Ec;var Aq=b.forwardRef((r,e)=>{const t=Ls(Ec,r.__scopeDialog),i=b.useRef(null),s=st(e,t.contentRef,i);return b.useEffect(()=>{const n=i.current;if(n)return DC(n)},[]),a.jsx(qC,{...r,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(r.onCloseAutoFocus,n=>{var o;n.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:De(r.onPointerDownOutside,n=>{const o=n.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&n.preventDefault()}),onFocusOutside:De(r.onFocusOutside,n=>n.preventDefault())})}),Nq=b.forwardRef((r,e)=>{const t=Ls(Ec,r.__scopeDialog),i=b.useRef(!1),s=b.useRef(!1);return a.jsx(qC,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var o,l;(o=r.onCloseAutoFocus)==null||o.call(r,n),n.defaultPrevented||(i.current||(l=t.triggerRef.current)==null||l.focus(),n.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:n=>{var c,d;(c=r.onInteractOutside)==null||c.call(r,n),n.defaultPrevented||(i.current=!0,n.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=n.target;((d=t.triggerRef.current)==null?void 0:d.contains(o))&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&s.current&&n.preventDefault()}})}),qC=b.forwardRef((r,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:n,...o}=r,l=Ls(Ec,t),c=b.useRef(null),d=st(e,c);return EC(),a.jsxs(a.Fragment,{children:[a.jsx(h0,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:n,children:a.jsx(u0,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":v0(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Pq,{titleId:l.titleId}),a.jsx(Rq,{contentRef:c,descriptionId:l.descriptionId})]})]})}),g0="DialogTitle",HC=b.forwardRef((r,e)=>{const{__scopeDialog:t,...i}=r,s=Ls(g0,t);return a.jsx(Oe.h2,{id:s.titleId,...i,ref:e})});HC.displayName=g0;var GC="DialogDescription",WC=b.forwardRef((r,e)=>{const{__scopeDialog:t,...i}=r,s=Ls(GC,t);return a.jsx(Oe.p,{id:s.descriptionId,...i,ref:e})});WC.displayName=GC;var KC="DialogClose",YC=b.forwardRef((r,e)=>{const{__scopeDialog:t,...i}=r,s=Ls(KC,t);return a.jsx(Oe.button,{type:"button",...i,ref:e,onClick:De(r.onClick,()=>s.onOpenChange(!1))})});YC.displayName=KC;function v0(r){return r?"open":"closed"}var XC="DialogTitleWarning",[Cq,JC]=Z5(XC,{contentName:Ec,titleName:g0,docsSlug:"dialog"}),Pq=({titleId:r})=>{const e=JC(XC),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{r&&(document.getElementById(r)||console.error(t))},[t,r]),null},Tq="DialogDescriptionWarning",Rq=({contentRef:r,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JC(Tq).contentName}}.`;return b.useEffect(()=>{var n;const s=(n=r.current)==null?void 0:n.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(i))},[i,r,e]),null},_0=MC,y0=$C,x0=zC,wm=BC,km=UC,jm=HC,Sm=WC,H_=YC;const cn=_0,QC=y0,Iq=x0,ZC=b.forwardRef(({className:r,...e},t)=>a.jsx(wm,{ref:t,className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...e}));ZC.displayName=wm.displayName;const ws=b.forwardRef(({className:r,children:e,...t},i)=>a.jsxs(Iq,{children:[a.jsx(ZC,{}),a.jsxs(km,{ref:i,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...t,children:[e,a.jsxs(H_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(mn,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ws.displayName=km.displayName;const ks=({className:r,...e})=>a.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",r),...e});ks.displayName="DialogHeader";const Ch=({className:r,...e})=>a.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...e});Ch.displayName="DialogFooter";const js=b.forwardRef(({className:r,...e},t)=>a.jsx(jm,{ref:t,className:xe("text-lg font-semibold leading-none tracking-tight",r),...e}));js.displayName=jm.displayName;const vd=b.forwardRef(({className:r,...e},t)=>a.jsx(Sm,{ref:t,className:xe("text-sm text-muted-foreground",r),...e}));vd.displayName=Sm.displayName;const Dq=B_("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function je({className:r,variant:e,...t}){return a.jsx("div",{className:xe(Dq({variant:e}),r),...t})}const Fq=1,Lq=1e6;let nx=0;function Mq(){return nx=(nx+1)%Number.MAX_SAFE_INTEGER,nx.toString()}const ax=new Map,jE=r=>{if(ax.has(r))return;const e=setTimeout(()=>{ax.delete(r),op({type:"REMOVE_TOAST",toastId:r})},Lq);ax.set(r,e)},Oq=(r,e)=>{switch(e.type){case"ADD_TOAST":return{...r,toasts:[e.toast,...r.toasts].slice(0,Fq)};case"UPDATE_TOAST":return{...r,toasts:r.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?jE(t):r.toasts.forEach(i=>{jE(i.id)}),{...r,toasts:r.toasts.map(i=>i.id===t||t===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(t=>t.id!==e.toastId)}}},Cg=[];let Pg={toasts:[]};function op(r){Pg=Oq(Pg,r),Cg.forEach(e=>{e(Pg)})}function me({...r}){const e=Mq(),t=s=>op({type:"UPDATE_TOAST",toast:{...s,id:e}}),i=()=>op({type:"DISMISS_TOAST",toastId:e});return op({type:"ADD_TOAST",toast:{...r,id:e,open:!0,onOpenChange:s=>{s||i()}}}),{id:e,dismiss:i,update:t}}function Sa(){const[r,e]=b.useState(Pg);return b.useEffect(()=>(Cg.push(e),()=>{const t=Cg.indexOf(e);t>-1&&Cg.splice(t,1)}),[r]),{...r,toast:me,dismiss:t=>op({type:"DISMISS_TOAST",toastId:t})}}const le=b.forwardRef(({className:r,type:e,...t},i)=>a.jsx("input",{type:e,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:i,...t}));le.displayName="Input";const Ts=b.forwardRef(({className:r,...e},t)=>a.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...e}));Ts.displayName="Textarea";var $q=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vq=$q.reduce((r,e)=>{const t=n0(`Primitive.${e}`),i=b.forwardRef((s,n)=>{const{asChild:o,...l}=s,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:n})});return i.displayName=`Primitive.${e}`,{...r,[e]:i}},{}),zq="Label",eP=b.forwardRef((r,e)=>a.jsx(Vq.label,{...r,ref:e,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=r.onMouseDown)==null||s.call(r,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));eP.displayName=zq;var tP=eP;const Bq=B_("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ue=b.forwardRef(({className:r,...e},t)=>a.jsx(tP,{ref:t,className:xe(Bq(),r),...e}));ue.displayName=tP.displayName;const rP=({isOpen:r,onClose:e,property:t,inquiryType:i="general"})=>{const{t:s}=Qe(),[n,o]=b.useState({name:"",email:"",phone:"",message:""}),[l,c]=b.useState(!1),{user:d}=Ci(),{toast:h}=Sa(),p=async f=>{if(f.preventDefault(),!n.name||!n.email||!n.message){h({title:s("common.error","Error"),description:s("auth.fill_required","Please fill in all required fields."),variant:"destructive"});return}c(!0);try{const{data:m,error:g}=await G.from("leads").insert({name:n.name,email:n.email,phone:n.phone||null,message:n.message,property_id:t.id,inquiry_type:i}).select().single();if(g)throw g;try{const{error:v}=await G.functions.invoke("send-inquiry-email",{body:{lead:m,property:t,inquiryData:n}});v&&console.error("Error sending email notification:",v)}catch(v){console.error("Error calling email function:",v)}h({title:s("inquiry.success"),description:s("inquiry.success_desc","Thank you for your inquiry. We will contact you soon.")}),o({name:"",email:"",phone:"",message:""}),e()}catch(m){console.error("Error sending inquiry:",m),h({title:s("common.error"),description:s("inquiry.error"),variant:"destructive"})}finally{c(!1)}};return a.jsx(cn,{open:r,onOpenChange:e,children:a.jsxs(ws,{className:"sm:max-w-md",children:[a.jsx(ks,{children:a.jsxs(js,{className:"flex items-center gap-2",children:[a.jsx(yc,{className:"h-5 w-5"}),i==="inspection"?s("inquiry.inspection_title","Book an Independent Inspector"):s("inquiry.title")]})}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ue,{htmlFor:"name",children:[s("inquiry.name")," *"]}),a.jsx(le,{id:"name",value:n.name,onChange:f=>o(m=>({...m,name:f.target.value})),placeholder:s("inquiry.name_placeholder","Enter your full name"),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ue,{htmlFor:"email",children:[s("inquiry.email")," *"]}),a.jsx(le,{id:"email",type:"email",value:n.email,onChange:f=>o(m=>({...m,email:f.target.value})),placeholder:s("inquiry.email_placeholder","Enter your email address"),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ue,{htmlFor:"phone",children:[s("inquiry.phone")," (",s("common.optional","Optional"),")"]}),a.jsx(le,{id:"phone",type:"tel",value:n.phone,onChange:f=>o(m=>({...m,phone:f.target.value})),placeholder:s("inquiry.phone_placeholder","Enter your phone number")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ue,{htmlFor:"message",children:[s("inquiry.message")," *"]}),a.jsx(Ts,{id:"message",value:n.message,onChange:f=>o(m=>({...m,message:f.target.value})),placeholder:s("inquiry.message_placeholder","I'm interested in this property..."),rows:4,required:!0})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx($,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:s("inquiry.cancel")}),a.jsx($,{type:"submit",disabled:l,className:"flex-1",children:l?a.jsxs(a.Fragment,{children:[a.jsx(gC,{className:"h-4 w-4 mr-2 animate-spin"}),s("inquiry.sending")]}):a.jsxs(a.Fragment,{children:[a.jsx(bm,{className:"h-4 w-4 mr-2"}),s("inquiry.send")]})})]})]})]})})},iP=({property:r,isOpen:e,onClose:t})=>{const[i,s]=b.useState(0),[n,o]=b.useState([]),[l,c]=b.useState(""),[d,h]=b.useState(!1),[p,f]=b.useState(!1),[m,g]=b.useState("general"),{user:v,profile:x}=Ci(),{lang:_}=Qe(),y=(U,Y)=>{const V={en:"english",sv:"swedish",fi:"finnish",da:"danish",nb:"norwegian",de:"german",fr:"french",es:"spanish",it:"italian",hr:"croatian"}[_];if(V&&V!=="english"&&r){const D=r[`${V}_${U}`];if(D&&typeof D=="string")return D}return Y},w=r?y("title",r.title):"",k=r?y("description",r.description):"";Sa(),Ct();const E=b.useCallback(async()=>{if(r!=null&&r.id)try{const{data:U,error:Y}=await G.from("forum_posts").select(`
          *,
          profiles (
            full_name
          )
        `).eq("property_id",r.id).eq("status","approved").order("created_at",{ascending:!1});if(Y)throw Y;o(U||[])}catch(U){console.error("Error fetching forum posts:",U)}},[r==null?void 0:r.id]);b.useEffect(()=>{r!=null&&r.id&&e&&E()},[r==null?void 0:r.id,e,E]);const S=()=>{g("general"),f(!0)},A=()=>{g("inspection"),f(!0)};if(!r)return null;const P=()=>{var U;((U=r.images)==null?void 0:U.length)>1&&s(Y=>(Y+1)%r.images.length)},R=()=>{var U;((U=r.images)==null?void 0:U.length)>1&&s(Y=>(Y-1+r.images.length)%r.images.length)},I=U=>`${U.toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:0})}`,M=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),L=U=>{const O=(V=>{let D=V.replace(/</g,"<").replace(/>/g,">").replace(/&/g,"&").replace(/"/g,'"').replace(/'/g,"'").replace(/&nbsp;/g," ");return D=D.replace(/<br\s*\/?>/gi,`
`),D})(U);return O.split(". ").map((V,D)=>a.jsxs("span",{children:[V.trim(),V.trim()&&".",D<O.split(". ").length-1&&a.jsx("br",{})]},D))},W=U=>U?U>=1e3?`${(U/1e3).toFixed(1)} km`:`${U} m`:"N/A";return a.jsx(cn,{open:e,onOpenChange:t,children:a.jsxs(ws,{className:"max-w-6xl max-h-[90vh] overflow-y-auto overflow-x-hidden",children:[a.jsx(ks,{children:a.jsx(js,{className:"text-2xl font-bold",children:w})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-white",children:r.images&&r.images.length>0?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:r.images[i],alt:`${r.title} - Image ${i+1}`,className:"w-full h-full object-contain"}),r.images.length>1&&a.jsxs(a.Fragment,{children:[a.jsx($,{variant:"secondary",size:"sm",className:"absolute left-2 top-1/2 transform -translate-y-1/2",onClick:R,children:a.jsx(hC,{className:"h-4 w-4"})}),a.jsx($,{variant:"secondary",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2",onClick:P,children:a.jsx(l0,{className:"h-4 w-4"})})]})]}):a.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No images available"})}),r.images&&r.images.length>1&&a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:r.images.map((U,Y)=>a.jsx("button",{className:`flex-shrink-0 w-20 h-20 rounded-md overflow-hidden border-2 transition-colors ${Y===i?"border-primary":"border-transparent"}`,onClick:()=>s(Y),children:a.jsx("img",{src:U,alt:`Thumbnail ${Y+1}`,className:"w-full h-full object-contain"})},Y))}),a.jsx(K,{className:"bg-gradient-to-r from-slate-50 to-slate-100 border-0 shadow-sm",children:a.jsxs(Q,{className:"p-6",children:[a.jsxs("h3",{className:"font-bold text-xl mb-6 text-slate-800 flex items-center gap-2",children:[a.jsx(Po,{className:"h-6 w-6 text-primary"}),"Property Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(Po,{className:"h-8 w-8 text-primary"})}),a.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Bedrooms"}),a.jsx("p",{className:"text-2xl font-bold text-slate-800",children:r.bedrooms||"N/A"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(dC,{className:"h-8 w-8 text-primary"})}),a.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Bathrooms"}),a.jsx("p",{className:"text-2xl font-bold text-slate-800",children:r.bathrooms||"N/A"})]})]}),(r.area||r.plot_area)&&a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-4 flex items-center gap-2 justify-center",children:[a.jsx(yC,{className:"h-4 w-4 text-primary"}),"Area Information"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-14 h-14 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(Po,{className:"h-6 w-6 text-primary"})}),a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Living Area"}),a.jsxs("p",{className:"text-lg font-bold text-slate-800",children:[r.area||"N/A"," ",r.area?"m":""]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-14 h-14 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx($v,{className:"h-6 w-6 text-primary"})}),a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Plot Area"}),a.jsxs("p",{className:"text-lg font-bold text-slate-800",children:[r.plot_area||"N/A"," ",r.plot_area?"m":""]})]})]})]}),(r.distance_to_city||r.distance_to_sea||r.distance_to_lake)&&a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-4 flex items-center gap-2 justify-center",children:[a.jsx(ur,{className:"h-4 w-4 text-primary"}),"Distance Information"]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(ur,{className:"h-5 w-5 text-primary"})}),a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"City Center"}),a.jsx("p",{className:"text-sm font-bold text-slate-800",children:r.distance_to_city?W(r.distance_to_city):"N/A"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(wC,{className:"h-5 w-5 text-primary"})}),a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"To Sea"}),a.jsx("p",{className:"text-sm font-bold text-slate-800",children:r.distance_to_sea?W(r.distance_to_sea):"N/A"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx($v,{className:"h-5 w-5 text-primary"})}),a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"To Lake"}),a.jsx("p",{className:"text-sm font-bold text-slate-800",children:r.distance_to_lake?W(r.distance_to_lake):"N/A"})]})]})]})]})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-4",children:[a.jsx(ur,{className:"h-4 w-4"}),a.jsxs("span",{className:"text-base",children:[r.city,", ",r.country]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(_c,{className:"h-5 w-5 text-primary"}),a.jsx("span",{className:"text-4xl font-bold",children:I(r.price)}),a.jsx(je,{variant:"secondary",className:"ml-2",children:r.status})]}),a.jsx("div",{className:"prose prose-slate max-w-none",children:a.jsx("p",{className:"text-slate-700 leading-relaxed text-lg font-medium",children:L(k||"")})})]}),a.jsx(K,{children:a.jsxs(Q,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2 text-lg",children:[a.jsx(va,{className:"h-5 w-5"}),"Agent Information"]}),a.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Type:"})," ",r.seller_type]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Listed:"})," ",M(r.created_at)]})]})]})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs($,{className:"flex-1 py-3 text-lg",onClick:S,children:[a.jsx(bm,{className:"h-5 w-5 mr-2"}),"Send Inquiry"]}),a.jsxs($,{variant:"outline",className:"flex-1 py-3 text-lg",onClick:A,children:[a.jsx(c0,{className:"h-5 w-5 mr-2"}),"Book an independent inspector"]})]})]})]}),a.jsx(rP,{isOpen:p,onClose:()=>f(!1),property:r,inquiryType:m})]})})},Uq=()=>{const{t:r}=Qe(),[e,t]=b.useState(null),[i,s]=b.useState([]),[n,o]=b.useState(!0),[l,c]=b.useState(0),d=Ct(),{lang:h}=Ji();b.useEffect(()=>{(async()=>{try{const g=`
          id, title, description, country, city, price, property_type,
          property_type_detail, bedrooms, bathrooms, area, plot_area,
          distance_to_city, distance_to_sea, distance_to_lake, listing_type,
          images, seller_id, seller_type, status, created_at, updated_at,
          region, address, lat, lon, features, distance_to_beach_m, views, verified, currency
        `,v=["2052a022-913d-4c7c-9588-b26cefd8f4ec","4f718768-4cb9-41f4-8ca7-c3dff76b070f","d0cfbc29-d9f9-4c07-a3da-39784ef9dea6","74af8e60-df30-4793-af20-e1ce32229f50"],{data:x,error:_}=await G.from("properties").select(g).in("id",v).eq("status","published");if(_)console.error("Error fetching featured properties:",_),s([]);else{const y=(x||[]).sort((w,k)=>v.indexOf(w.id)-v.indexOf(k.id));s(y)}}catch(g){console.error("Error fetching featured properties:",g),s([])}finally{o(!1)}})()},[]),b.useEffect(()=>{if(i.length===0)return;const m=setInterval(()=>{c(g=>(g+1)%i.length)},3e3);return()=>clearInterval(m)},[i.length]);const p=m=>`${m.toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:0})}`,f=m=>m==="/placeholder.svg"?"/placeholder.svg":m.includes("supabase.co/storage")?m:m.includes("http")&&!m.includes("localhost")&&!m.includes("127.0.0.1")?`https://images.weserv.nl/?url=${encodeURIComponent(m)}&w=600&h=400&fit=cover&q=80`:m;return a.jsxs("section",{className:"py-20 bg-gradient-subtle",children:[a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("h2",{className:"text-4xl sm:text-5xl font-bold mb-6",children:[r("featured.title"),a.jsx("span",{className:"bg-gradient-primary bg-clip-text text-transparent",children:" "})]}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:r("featured.subtitle")})]}),n?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):a.jsxs("div",{className:"relative w-full max-w-6xl mx-auto overflow-hidden",children:[a.jsx("div",{className:"overflow-hidden px-4",children:a.jsx("div",{className:"flex transition-transform duration-700 ease-in-out",style:{transform:`translateX(-${l*100}%)`},children:i.map(m=>{var g;return a.jsx("div",{className:"w-full flex-shrink-0",children:a.jsx("div",{className:"w-full",children:a.jsxs(K,{className:"cursor-pointer overflow-hidden border-border hover:shadow-elegant transition-smooth bg-card w-full max-w-3xl mx-auto",onClick:()=>t(m),children:[a.jsxs("div",{className:"relative aspect-video overflow-hidden bg-white",children:[a.jsx("img",{src:f(((g=m.images)==null?void 0:g[0])||"/placeholder.svg"),alt:m.title,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute bottom-4 left-4",children:a.jsx(je,{variant:"default",className:"bg-background/95 text-foreground border border-border text-2xl font-bold px-4 py-2",children:p(m.price)})}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx(je,{variant:"secondary",className:"capitalize bg-primary text-primary-foreground border-0",children:m.country})})]}),a.jsx(Q,{className:"p-4",children:a.jsxs("div",{className:"flex items-center text-muted-foreground justify-center",children:[a.jsx(ur,{className:"h-4 w-4 mr-1"}),a.jsxs("p",{className:"text-sm",children:[m.city,", ",m.country]})]})})]})})},m.id)})})}),a.jsx("div",{className:"flex justify-center gap-2 mt-8",children:i.map((m,g)=>a.jsx("button",{onClick:()=>c(g),className:`w-3 h-3 rounded-full transition-colors ${g===l?"bg-primary":"bg-gray-300"}`,"aria-label":`Go to property ${g+1}`},g))})]}),i.length>0&&a.jsx("div",{className:"text-center mt-12",children:a.jsxs($,{variant:"hero",size:"lg",className:"px-8 py-4 h-auto text-lg",onClick:()=>d(`/${h}/properties`),children:[r("featured.view_all"),a.jsx(cC,{className:"h-5 w-5 ml-2"})]})})]}),a.jsx(iP,{property:e,isOpen:!!e,onClose:()=>t(null)})]})},qq=["Spain","Sweden","Germany","France","Italy","Portugal","Greece","Finland","Norway","Netherlands","Denmark","Belgium","Austria","Switzerland"],Hq={AL:"Albania",AD:"Andorra",AM:"Armenia",AT:"Austria",BY:"Belarus",BE:"Belgium",BA:"Bosnia and Herzegovina",BG:"Bulgaria",HR:"Croatia",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",EE:"Estonia",FI:"Finland",FR:"France",DE:"Germany",GR:"Greece",HU:"Hungary",IS:"Iceland",IE:"Ireland",IT:"Italy",XK:"Kosovo",LV:"Latvia",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MK:"Macedonia",MT:"Malta",MD:"Moldova",MC:"Monaco",ME:"Montenegro",NL:"Netherlands",NO:"Norway",PL:"Poland",PT:"Portugal",RO:"Romania",RS:"Serbia",SK:"Slovakia",SI:"Slovenia",ES:"Spain",SE:"Sweden",CH:"Switzerland",TR:"Turkey",UA:"Ukraine",GB:"United Kingdom",VA:"Vatican City"},Gq=()=>{const r=Ct(),{lang:e}=Ji(),{t}=Qe(),{toast:i}=Sa(),s=b.useRef(null),[n,o]=b.useState(""),[l,c]=b.useState(qq),[d,h]=b.useState(null),[p,f]=b.useState({x:0,y:0}),[m,g]=b.useState(!1),[v,x]=b.useState(""),[_,y]=b.useState({name:"",email:"",phone:"",message:""}),[w,k]=b.useState(!1);b.useEffect(()=>{fetch("/europe-map-new.svg").then(R=>R.text()).then(o).catch(R=>console.error("Failed to load SVG:",R))},[]),b.useEffect(()=>{(async()=>{try{const{data:I,error:M}=await G.from("properties").select("country").limit(500);if(!M&&I&&I.length>0){const L=[...new Set(I.map(W=>W.country).filter(Boolean))];L.length>0&&c(L)}}catch{console.log("Using default countries")}})()},[]);const E={available:"#D97706",availableStroke:"#B45309",unavailable:"#E5E7EB",unavailableStroke:"#9CA3AF"},S=R=>{A(R,l.includes(R)?"view":"inquiry"),l.includes(R)?r(`/${e}/properties?country=${encodeURIComponent(R)}`):(x(R),g(!0))},A=async(R,I)=>{try{await G.from("country_clicks").insert({country:R,click_type:I,created_at:new Date().toISOString()})}catch(M){console.error("Error tracking country click:",M)}},P=async R=>{if(R.preventDefault(),!_.name||!_.email||!_.message){i({title:t("common.error","Error"),description:t("auth.fill_required","Please fill in all required fields."),variant:"destructive"});return}k(!0);try{const{error:I}=await G.from("leads").insert({name:_.name,email:_.email,phone:_.phone||null,message:`${_.message}

Country Request: ${v}`,property_id:null,inquiry_type:"general"});if(I)throw I;i({title:t("inquiry.success"),description:t("inquiry.success_desc","Thank you for your inquiry. We will contact you soon.")}),y({name:"",email:"",phone:"",message:""}),g(!1)}catch(I){console.error("Error sending inquiry:",I),i({title:t("common.error"),description:t("inquiry.error"),variant:"destructive"})}finally{k(!1)}};return b.useEffect(()=>{if(!n||!s.current)return;const I=setTimeout(()=>{const M=s.current;if(!M)return;M.querySelectorAll("path[id]").forEach(U=>{const Y=U,O=Y.getAttribute("id"),V=O?Hq[O]:Y.getAttribute("name");if(!V)return;const D=l.includes(V);Y.setAttribute("fill",D?E.available:E.unavailable),Y.setAttribute("stroke",D?E.availableStroke:E.unavailableStroke),Y.setAttribute("stroke-width","0.5"),D?(Y.style.cursor="pointer",Y.style.opacity="1",Y.classList.add("hover:opacity-80")):(Y.style.cursor="not-allowed",Y.style.opacity="0.4"),Y.onclick=()=>S(V),Y.onmouseenter=z=>{h(V);const F=M.getBoundingClientRect();f({x:z.clientX-F.left,y:z.clientY-F.top})},Y.onmousemove=z=>{const F=M.getBoundingClientRect();f({x:z.clientX-F.left,y:z.clientY-F.top})},Y.onmouseleave=()=>h(null),Y.setAttribute("title",V+(D?"":" (No properties)")),Y.setAttribute("data-country",V)}),M.querySelectorAll("circle[id]").forEach(U=>{U.style.display="none"})},100);return()=>clearTimeout(I)},[n,l,d]),a.jsx("section",{className:"py-16 bg-gradient-to-b from-white to-slate-50",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4 text-slate-800",children:t("map.title","Explore Our Properties")}),a.jsx("p",{className:"text-lg text-slate-600",children:t("map.subtitle","Click on a highlighted country to view available properties")})]}),a.jsxs("div",{className:"relative w-full max-w-5xl mx-auto",children:[a.jsx("div",{ref:s,className:"w-full h-auto",style:{filter:"drop-shadow(0 10px 25px rgba(0,0,0,0.15))",background:"#FFFFFF",borderRadius:"8px"},dangerouslySetInnerHTML:{__html:n}}),d&&a.jsxs("div",{className:"absolute bg-slate-800 text-white px-3 py-1.5 rounded shadow-lg text-sm font-medium z-10 pointer-events-none",style:{left:p.x+15,top:p.y-35,transform:"translateX(-50%)"},children:[d,!l.includes(d)&&a.jsx("span",{className:"ml-1.5 text-slate-400 text-xs",children:"(No properties)"})]})]}),a.jsxs("div",{className:"flex justify-center gap-8 mt-8",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:E.available}}),a.jsx("span",{className:"text-sm text-slate-600",children:t("map.available","Properties available")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded opacity-40",style:{backgroundColor:E.unavailable}}),a.jsx("span",{className:"text-sm text-slate-600",children:t("map.noProperties","No properties")})]})]}),a.jsx(cn,{open:m,onOpenChange:g,children:a.jsxs(ws,{className:"sm:max-w-md",children:[a.jsx(ks,{children:a.jsxs(js,{className:"flex items-center gap-2",children:[a.jsx(ur,{className:"h-5 w-5"}),t("map.coming_soon","Coming Soon!")]})}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t("map.inquiry_message",`We don't have any properties in ${v} yet. Send us a request and we'll see if we can help you!`)}),a.jsxs("form",{onSubmit:P,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ue,{htmlFor:"inquiry-name",children:[t("inquiry.name")," *"]}),a.jsx(le,{id:"inquiry-name",value:_.name,onChange:R=>y(I=>({...I,name:R.target.value})),placeholder:t("inquiry.name_placeholder","Enter your full name"),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ue,{htmlFor:"inquiry-email",children:[t("inquiry.email")," *"]}),a.jsx(le,{id:"inquiry-email",type:"email",value:_.email,onChange:R=>y(I=>({...I,email:R.target.value})),placeholder:t("inquiry.email_placeholder","Enter your email address"),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ue,{htmlFor:"inquiry-phone",children:[t("inquiry.phone")," (",t("common.optional","Optional"),")"]}),a.jsx(le,{id:"inquiry-phone",type:"tel",value:_.phone,onChange:R=>y(I=>({...I,phone:R.target.value})),placeholder:t("inquiry.phone_placeholder","Enter your phone number")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ue,{htmlFor:"inquiry-message",children:[t("inquiry.message")," *"]}),a.jsx(Ts,{id:"inquiry-message",value:_.message,onChange:R=>y(I=>({...I,message:R.target.value})),placeholder:t("inquiry.message_placeholder","Tell us about what you're looking for..."),rows:4,required:!0})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>g(!1),className:"flex-1",children:t("inquiry.cancel")}),a.jsx($,{type:"submit",disabled:w,className:"flex-1",children:w?a.jsxs(a.Fragment,{children:[a.jsx(gC,{className:"h-4 w-4 mr-2 animate-spin"}),t("inquiry.sending")]}):a.jsxs(a.Fragment,{children:[a.jsx(bm,{className:"h-4 w-4 mr-2"}),t("inquiry.send")]})})]})]})]})})]})})},b0="/assets/joar-flood-DYd99wIp.png",w0="/assets/joel-johansson-CP8UHSBV.jpg",Wq=()=>{const{t:r}=Qe(),e=[{id:1,name:"Joel Johansson",role:r("team.joel_role","Co-Founder & Business Development Director"),image:w0,quote:r("team.joel_quote","Every client deserves personalized guidance through their property journey.")},{id:2,name:"Joar Flood",role:r("team.joar_role","Co-Founder & Managing Director"),image:b0,quote:r("team.joar_quote","We help Scandinavians buy property in Southern Europe with clarity, security and full support throughout the process.")}];return a.jsx("section",{className:"py-20 bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs(je,{variant:"secondary",className:"mb-4 bg-primary/10 text-primary hover:bg-primary/20",children:[a.jsx(Ku,{className:"h-4 w-4 mr-2"}),r("team.badge","Meet Your Guides")]}),a.jsx("h2",{className:"text-4xl sm:text-5xl font-bold mb-3 text-foreground",children:r("team.title","From Scandinavia to Southern Europe")}),a.jsx("h3",{className:"text-4xl sm:text-4xl font-bold mb-6 text-primary",children:r("team.title2","We Guide You Every Step of the Way")}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:r("team.subtitle","We understand the Scandinavian way of doing business  transparent, reliable, and personal.")})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 max-w-4xl mx-auto mb-16",children:e.map(t=>a.jsx(K,{className:"border-0 shadow-none bg-transparent",children:a.jsx(Q,{className:"p-0",children:a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("img",{src:t.image,alt:t.name,className:"w-32 h-32 rounded-full object-cover mb-6 border-4 border-primary/20"}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-1",children:t.name}),a.jsx("p",{className:"text-primary font-medium text-sm mb-4",children:t.role}),a.jsxs("div",{className:"flex items-center justify-center text-muted-foreground italic",children:[a.jsx(mC,{className:"h-4 w-4 text-primary mr-2"}),a.jsxs("span",{children:['"',t.quote,'"']})]})]})})},t.id))}),a.jsx("div",{className:"bg-slate-50 rounded-2xl p-10 max-w-3xl mx-auto",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsx("div",{className:"flex",children:[...Array(5)].map((t,i)=>a.jsx(bC,{className:"h-6 w-6 text-primary fill-current"},i))})}),a.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-4",children:r("team.customer_appreciation_title","Our Clients Appreciate Our Personal Approach")}),a.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:r("team.customer_appreciation_text","Many of our clients come through recommendations from satisfied customers who valued our transparent process and dedicated support throughout their property purchase in Spain, Southern France, Italy, Croatia and Greece")})]})})]})})},Kq=()=>{const{lang:r}=Ji(),e=Ct(),{t}=Qe(),i=[{id:1,title:t("blog.article1_title","Buying Property in Spain as a Scandinavian"),excerpt:t("blog.article1_excerpt","Everything you need to know about purchasing property in Spain, from legal requirements to finding the right location."),category:t("blog.category_guide","Guide"),slug:"buying-property-spain-scandinavian"},{id:2,title:t("blog.article2_title","Legal Considerations When Purchasing Abroad"),excerpt:t("blog.article2_excerpt","Understanding the legal process, taxes, and documentation needed when buying property in Southern Europe."),category:t("blog.category_legal","Legal"),slug:"legal-considerations-purchasing-abroad"},{id:3,title:t("blog.article3_title","Best Regions in Southern Europe for Retirees"),excerpt:t("blog.article3_excerpt","Explore the most popular regions for Scandinavian retirees in Spain, Portugal, Italy, and Greece."),category:t("blog.category_lifestyle","Lifestyle"),slug:"best-regions-southern-europe-retirees"}];return a.jsx("section",{className:"py-20 bg-slate-50",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs(je,{className:"mb-4 bg-primary/10 text-primary hover:bg-primary/20",children:[a.jsx(L5,{className:"h-4 w-4 mr-2"}),t("blog.badge","Guides & Resources")]}),a.jsx("h2",{className:"text-4xl sm:text-5xl font-bold mb-6 text-foreground",children:t("blog.title","Guides for Buying Property in Southern Europe")}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:t("blog.subtitle","Expert insights to help you make informed decisions about your property purchase")})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:i.map(s=>a.jsx(K,{className:"hover:shadow-elegant transition-smooth cursor-pointer group",onClick:()=>e(`/${r}/articles`),children:a.jsxs(Q,{className:"p-6",children:[a.jsx(je,{variant:"secondary",className:"mb-4 text-xs",children:s.category}),a.jsx("h3",{className:"text-xl font-semibold mb-3 group-hover:text-primary transition-colors",children:s.title}),a.jsx("p",{className:"text-muted-foreground mb-4 leading-relaxed",children:s.excerpt}),a.jsxs("div",{className:"flex items-center text-primary font-medium text-sm",children:[t("blog.read_more","Read More"),a.jsx(cC,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})},s.id))}),a.jsx("div",{className:"text-center",children:a.jsx("a",{href:`/${r}/articles`,className:"inline-flex items-center justify-center px-6 py-3 text-base font-medium border-2 border-primary rounded-lg hover:bg-primary hover:text-white transition-colors",children:t("blog.view_all","View All Articles")})})]})})},Yq=()=>{Ct();const{lang:r}=Ji(),{t:e}=Qe();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("main",{children:[a.jsx(J5,{}),a.jsx(Q5,{}),a.jsx(Uq,{}),a.jsx(Gq,{}),a.jsx(Wq,{}),a.jsx(Kq,{})]}),a.jsx("footer",{className:"bg-slate-100 py-12",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-10",children:[a.jsx("div",{className:"md:col-span-1",children:a.jsxs("a",{href:`/${r}/login`,className:"text-2xl font-bold block mb-4 hover:opacity-80 transition-opacity","aria-label":"Login to ViaEstate",children:[a.jsx("span",{className:"text-muted-foreground",children:"Via"}),a.jsx("span",{className:"text-primary",children:"Estate"})]})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-4 text-foreground",children:e("footer.quick_links","Quick Links")}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:`/${r}/properties`,className:"text-muted-foreground hover:text-primary transition-colors",children:e("nav.properties","Properties")})}),a.jsx("li",{children:a.jsx("a",{href:`/${r}/guidance`,className:"text-muted-foreground hover:text-primary transition-colors",children:e("nav.guidance","Guidance")})}),a.jsx("li",{children:a.jsx("a",{href:`/${r}/articles`,className:"text-muted-foreground hover:text-primary transition-colors",children:e("nav.articles","Articles")})}),a.jsx("li",{children:a.jsx("a",{href:`/${r}/work-with-us`,className:"text-muted-foreground hover:text-primary transition-colors",children:e("nav.work_with_us","Work with Us")})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-4 text-foreground",children:e("footer.contact","Contact")}),a.jsxs("ul",{className:"space-y-3 text-muted-foreground",children:[a.jsx("li",{children:a.jsx("a",{href:"mailto:info@viaestate.eu",className:"hover:text-primary transition-colors",children:"info@viaestate.eu"})}),a.jsx("li",{children:"+46 76 273 43 07"}),a.jsx("li",{children:"+46 76 776 98 48"}),a.jsx("li",{className:"pt-2 text-sm",children:e("footer.based_sweden","Based in Karlstad, Sweden")})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-4 text-foreground",children:e("footer.get_in_touch","Get in Touch")}),a.jsx("p",{className:"text-muted-foreground mb-4 leading-relaxed",children:e("footer.closing_message","We look forward to helping you find your home in Southern Europe.")}),a.jsx("a",{href:`/${r}/about`,className:"inline-block bg-primary text-primary-foreground px-6 py-2 rounded-lg font-medium hover:bg-primary/90 transition-colors",children:e("footer.book_consultation","Book a Consultation")})]})]}),a.jsxs("div",{className:"border-t border-border mt-12 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("p",{className:"text-muted-foreground text-sm",children:[" 2025 ViaEstate. ",e("footer.all_rights","All rights reserved.")]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[a.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:e("footer.privacy","Privacy Policy")}),a.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:e("footer.gdpr","GDPR")}),a.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:e("footer.terms","Terms")})]}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx("a",{href:"https://www.instagram.com/viaestate.eu/",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center hover:bg-primary/80 transition-colors","aria-label":"Follow ViaEstate on Instagram",children:a.jsx(V5,{className:"h-5 w-5 text-primary-foreground"})}),a.jsx("a",{href:"https://www.facebook.com/profile.php?id=61579269959759",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center hover:bg-primary/80 transition-colors","aria-label":"Follow ViaEstate on Facebook",children:a.jsx(O5,{className:"h-5 w-5 text-primary-foreground"})}),a.jsx("a",{href:"https://x.com/ViaEstateEU",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center hover:bg-primary/80 transition-colors","aria-label":"Follow ViaEstate on X",children:a.jsx(Y5,{className:"h-5 w-5 text-primary-foreground"})}),a.jsx("a",{href:"https://www.linkedin.com/company/viaestate",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center hover:bg-primary/80 transition-colors","aria-label":"Follow ViaEstate on LinkedIn",children:a.jsx(U5,{className:"h-5 w-5 text-primary-foreground"})}),a.jsx("a",{href:"https://www.tiktok.com/@viaestate",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center hover:bg-primary/80 transition-colors","aria-label":"Follow ViaEstate on TikTok",children:a.jsx("svg",{className:"h-5 w-5 text-primary-foreground",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})})})]})]})]})})]})};function SE(r){const e=Xq(r),t=b.forwardRef((i,s)=>{const{children:n,...o}=i,l=b.Children.toArray(n),c=l.find(Qq);if(c){const d=c.props.children,h=l.map(p=>p===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:p);return a.jsx(e,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:n})});return t.displayName=`${r}.Slot`,t}function Xq(r){const e=b.forwardRef((t,i)=>{const{children:s,...n}=t;if(b.isValidElement(s)){const o=e8(s),l=Zq(n,s.props);return s.type!==b.Fragment&&(l.ref=i?sh(i,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var Jq=Symbol("radix.slottable");function Qq(r){return b.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===Jq}function Zq(r,e){const t={...e};for(const i in e){const s=r[i],n=e[i];/^on[A-Z]/.test(i)?s&&n?t[i]=(...l)=>{const c=n(...l);return s(...l),c}:s&&(t[i]=s):i==="style"?t[i]={...s,...n}:i==="className"&&(t[i]=[s,n].filter(Boolean).join(" "))}return{...r,...t}}function e8(r){var i,s;let e=(i=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(s=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function sP(r){const e=r+"CollectionProvider",[t,i]=Ho(e),[s,n]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:_}=v,y=Ta.useRef(null),w=Ta.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:w,collectionRef:y,children:_})};o.displayName=e;const l=r+"CollectionSlot",c=SE(l),d=Ta.forwardRef((v,x)=>{const{scope:_,children:y}=v,w=n(l,_),k=st(x,w.collectionRef);return a.jsx(c,{ref:k,children:y})});d.displayName=l;const h=r+"CollectionItemSlot",p="data-radix-collection-item",f=SE(h),m=Ta.forwardRef((v,x)=>{const{scope:_,children:y,...w}=v,k=Ta.useRef(null),E=st(x,k),S=n(h,_);return Ta.useEffect(()=>(S.itemMap.set(k,{ref:k,...w}),()=>void S.itemMap.delete(k))),a.jsx(f,{[p]:"",ref:E,children:y})});m.displayName=h;function g(v){const x=n(r+"CollectionConsumer",v);return Ta.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${p}]`));return Array.from(x.itemMap.values()).sort((S,A)=>w.indexOf(S.ref.current)-w.indexOf(A.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},g,i]}var t8=b.createContext(void 0);function k0(r){const e=b.useContext(t8);return r||e||"ltr"}var ox="rovingFocusGroup.onEntryFocus",r8={bubbles:!1,cancelable:!0},Em="RovingFocusGroup",[Tb,nP,i8]=sP(Em),[s8,aP]=Ho(Em,[i8]),[n8,a8]=s8(Em),oP=b.forwardRef((r,e)=>a.jsx(Tb.Provider,{scope:r.__scopeRovingFocusGroup,children:a.jsx(Tb.Slot,{scope:r.__scopeRovingFocusGroup,children:a.jsx(o8,{...r,ref:e})})}));oP.displayName=Em;var o8=b.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,orientation:i,loop:s=!1,dir:n,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...p}=r,f=b.useRef(null),m=st(e,f),g=k0(n),[v,x]=Yu({prop:o,defaultProp:l??null,onChange:c,caller:Em}),[_,y]=b.useState(!1),w=Lo(d),k=nP(t),E=b.useRef(!1),[S,A]=b.useState(0);return b.useEffect(()=>{const P=f.current;if(P)return P.addEventListener(ox,w),()=>P.removeEventListener(ox,w)},[w]),a.jsx(n8,{scope:t,orientation:i,dir:g,loop:s,currentTabStopId:v,onItemFocus:b.useCallback(P=>x(P),[x]),onItemShiftTab:b.useCallback(()=>y(!0),[]),onFocusableItemAdd:b.useCallback(()=>A(P=>P+1),[]),onFocusableItemRemove:b.useCallback(()=>A(P=>P-1),[]),children:a.jsx(Oe.div,{tabIndex:_||S===0?-1:0,"data-orientation":i,...p,ref:m,style:{outline:"none",...r.style},onMouseDown:De(r.onMouseDown,()=>{E.current=!0}),onFocus:De(r.onFocus,P=>{const R=!E.current;if(P.target===P.currentTarget&&R&&!_){const I=new CustomEvent(ox,r8);if(P.currentTarget.dispatchEvent(I),!I.defaultPrevented){const M=k().filter(O=>O.focusable),L=M.find(O=>O.active),W=M.find(O=>O.id===v),Y=[L,W,...M].filter(Boolean).map(O=>O.ref.current);dP(Y,h)}}E.current=!1}),onBlur:De(r.onBlur,()=>y(!1))})})}),lP="RovingFocusGroupItem",cP=b.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,focusable:i=!0,active:s=!1,tabStopId:n,children:o,...l}=r,c=To(),d=n||c,h=a8(lP,t),p=h.currentTabStopId===d,f=nP(t),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:v}=h;return b.useEffect(()=>{if(i)return m(),()=>g()},[i,m,g]),a.jsx(Tb.ItemSlot,{scope:t,id:d,focusable:i,active:s,children:a.jsx(Oe.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:De(r.onMouseDown,x=>{i?h.onItemFocus(d):x.preventDefault()}),onFocus:De(r.onFocus,()=>h.onItemFocus(d)),onKeyDown:De(r.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const _=d8(x,h.orientation,h.dir);if(_!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=f().filter(k=>k.focusable).map(k=>k.ref.current);if(_==="last")w.reverse();else if(_==="prev"||_==="next"){_==="prev"&&w.reverse();const k=w.indexOf(x.currentTarget);w=h.loop?u8(w,k+1):w.slice(k+1)}setTimeout(()=>dP(w))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:v!=null}):o})})});cP.displayName=lP;var l8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function c8(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function d8(r,e,t){const i=c8(r.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return l8[i]}function dP(r,e=!1){const t=document.activeElement;for(const i of r)if(i===t||(i.focus({preventScroll:e}),document.activeElement!==t))return}function u8(r,e){return r.map((t,i)=>r[(e+i)%r.length])}var h8=oP,p8=cP,G_="Tabs",[f8]=Ho(G_,[aP]),uP=aP(),[m8,j0]=f8(G_),hP=b.forwardRef((r,e)=>{const{__scopeTabs:t,value:i,onValueChange:s,defaultValue:n,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=r,h=k0(l),[p,f]=Yu({prop:i,onChange:s,defaultProp:n??"",caller:G_});return a.jsx(m8,{scope:t,baseId:To(),value:p,onValueChange:f,orientation:o,dir:h,activationMode:c,children:a.jsx(Oe.div,{dir:h,"data-orientation":o,...d,ref:e})})});hP.displayName=G_;var pP="TabsList",fP=b.forwardRef((r,e)=>{const{__scopeTabs:t,loop:i=!0,...s}=r,n=j0(pP,t),o=uP(t);return a.jsx(h8,{asChild:!0,...o,orientation:n.orientation,dir:n.dir,loop:i,children:a.jsx(Oe.div,{role:"tablist","aria-orientation":n.orientation,...s,ref:e})})});fP.displayName=pP;var mP="TabsTrigger",gP=b.forwardRef((r,e)=>{const{__scopeTabs:t,value:i,disabled:s=!1,...n}=r,o=j0(mP,t),l=uP(t),c=yP(o.baseId,i),d=xP(o.baseId,i),h=i===o.value;return a.jsx(p8,{asChild:!0,...l,focusable:!s,active:h,children:a.jsx(Oe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...n,ref:e,onMouseDown:De(r.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(i):p.preventDefault()}),onKeyDown:De(r.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(i)}),onFocus:De(r.onFocus,()=>{const p=o.activationMode!=="manual";!h&&!s&&p&&o.onValueChange(i)})})})});gP.displayName=mP;var vP="TabsContent",_P=b.forwardRef((r,e)=>{const{__scopeTabs:t,value:i,forceMount:s,children:n,...o}=r,l=j0(vP,t),c=yP(l.baseId,i),d=xP(l.baseId,i),h=i===l.value,p=b.useRef(h);return b.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(ah,{present:s||h,children:({present:f})=>a.jsx(Oe.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:e,style:{...r.style,animationDuration:p.current?"0s":void 0},children:f&&n})})});_P.displayName=vP;function yP(r,e){return`${r}-trigger-${e}`}function xP(r,e){return`${r}-content-${e}`}var g8=hP,bP=fP,wP=gP,kP=_P;const W_=g8,Am=b.forwardRef(({className:r,...e},t)=>a.jsx(bP,{ref:t,className:xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...e}));Am.displayName=bP.displayName;const zt=b.forwardRef(({className:r,...e},t)=>a.jsx(wP,{ref:t,className:xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",r),...e}));zt.displayName=wP.displayName;const Bt=b.forwardRef(({className:r,...e},t)=>a.jsx(kP,{ref:t,className:xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...e}));Bt.displayName=kP.displayName;function EE(r,[e,t]){return Math.min(t,Math.max(e,r))}const v8=["top","right","bottom","left"],Mo=Math.min,vi=Math.max,zv=Math.round,cg=Math.floor,gn=r=>({x:r,y:r}),_8={left:"right",right:"left",bottom:"top",top:"bottom"},y8={start:"end",end:"start"};function Rb(r,e,t){return vi(r,Mo(e,t))}function _a(r,e){return typeof r=="function"?r(e):r}function ya(r){return r.split("-")[0]}function oh(r){return r.split("-")[1]}function S0(r){return r==="x"?"y":"x"}function E0(r){return r==="y"?"height":"width"}const x8=new Set(["top","bottom"]);function dn(r){return x8.has(ya(r))?"y":"x"}function A0(r){return S0(dn(r))}function b8(r,e,t){t===void 0&&(t=!1);const i=oh(r),s=A0(r),n=E0(s);let o=s==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[n]>e.floating[n]&&(o=Bv(o)),[o,Bv(o)]}function w8(r){const e=Bv(r);return[Ib(r),e,Ib(e)]}function Ib(r){return r.replace(/start|end/g,e=>y8[e])}const AE=["left","right"],NE=["right","left"],k8=["top","bottom"],j8=["bottom","top"];function S8(r,e,t){switch(r){case"top":case"bottom":return t?e?NE:AE:e?AE:NE;case"left":case"right":return e?k8:j8;default:return[]}}function E8(r,e,t,i){const s=oh(r);let n=S8(ya(r),t==="start",i);return s&&(n=n.map(o=>o+"-"+s),e&&(n=n.concat(n.map(Ib)))),n}function Bv(r){return r.replace(/left|right|bottom|top/g,e=>_8[e])}function A8(r){return{top:0,right:0,bottom:0,left:0,...r}}function jP(r){return typeof r!="number"?A8(r):{top:r,right:r,bottom:r,left:r}}function Uv(r){const{x:e,y:t,width:i,height:s}=r;return{width:i,height:s,top:t,left:e,right:e+i,bottom:t+s,x:e,y:t}}function CE(r,e,t){let{reference:i,floating:s}=r;const n=dn(e),o=A0(e),l=E0(o),c=ya(e),d=n==="y",h=i.x+i.width/2-s.width/2,p=i.y+i.height/2-s.height/2,f=i[l]/2-s[l]/2;let m;switch(c){case"top":m={x:h,y:i.y-s.height};break;case"bottom":m={x:h,y:i.y+i.height};break;case"right":m={x:i.x+i.width,y:p};break;case"left":m={x:i.x-s.width,y:p};break;default:m={x:i.x,y:i.y}}switch(oh(e)){case"start":m[o]-=f*(t&&d?-1:1);break;case"end":m[o]+=f*(t&&d?-1:1);break}return m}const N8=async(r,e,t)=>{const{placement:i="bottom",strategy:s="absolute",middleware:n=[],platform:o}=t,l=n.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:r,floating:e,strategy:s}),{x:h,y:p}=CE(d,i,c),f=i,m={},g=0;for(let v=0;v<l.length;v++){const{name:x,fn:_}=l[v],{x:y,y:w,data:k,reset:E}=await _({x:h,y:p,initialPlacement:i,placement:f,strategy:s,middlewareData:m,rects:d,platform:o,elements:{reference:r,floating:e}});h=y??h,p=w??p,m={...m,[x]:{...m[x],...k}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(d=E.rects===!0?await o.getElementRects({reference:r,floating:e,strategy:s}):E.rects),{x:h,y:p}=CE(d,f,c)),v=-1)}return{x:h,y:p,placement:f,strategy:s,middlewareData:m}};async function Op(r,e){var t;e===void 0&&(e={});const{x:i,y:s,platform:n,rects:o,elements:l,strategy:c}=r,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:f=!1,padding:m=0}=_a(e,r),g=jP(m),x=l[f?p==="floating"?"reference":"floating":p],_=Uv(await n.getClippingRect({element:(t=await(n.isElement==null?void 0:n.isElement(x)))==null||t?x:x.contextElement||await(n.getDocumentElement==null?void 0:n.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),y=p==="floating"?{x:i,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(n.getOffsetParent==null?void 0:n.getOffsetParent(l.floating)),k=await(n.isElement==null?void 0:n.isElement(w))?await(n.getScale==null?void 0:n.getScale(w))||{x:1,y:1}:{x:1,y:1},E=Uv(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(_.top-E.top+g.top)/k.y,bottom:(E.bottom-_.bottom+g.bottom)/k.y,left:(_.left-E.left+g.left)/k.x,right:(E.right-_.right+g.right)/k.x}}const C8=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:i,placement:s,rects:n,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=_a(r,e)||{};if(d==null)return{};const p=jP(h),f={x:t,y:i},m=A0(s),g=E0(m),v=await o.getDimensions(d),x=m==="y",_=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",k=n.reference[g]+n.reference[m]-f[m]-n.floating[g],E=f[m]-n.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let A=S?S[w]:0;(!A||!await(o.isElement==null?void 0:o.isElement(S)))&&(A=l.floating[w]||n.floating[g]);const P=k/2-E/2,R=A/2-v[g]/2-1,I=Mo(p[_],R),M=Mo(p[y],R),L=I,W=A-v[g]-M,U=A/2-v[g]/2+P,Y=Rb(L,U,W),O=!c.arrow&&oh(s)!=null&&U!==Y&&n.reference[g]/2-(U<L?I:M)-v[g]/2<0,V=O?U<L?U-L:U-W:0;return{[m]:f[m]+V,data:{[m]:Y,centerOffset:U-Y-V,...O&&{alignmentOffset:V}},reset:O}}}),P8=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,i;const{placement:s,middlewareData:n,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...x}=_a(r,e);if((t=n.arrow)!=null&&t.alignmentOffset)return{};const _=ya(s),y=dn(l),w=ya(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(d.floating)),E=f||(w||!v?[Bv(l)]:w8(l)),S=g!=="none";!f&&S&&E.push(...E8(l,v,g,k));const A=[l,...E],P=await Op(e,x),R=[];let I=((i=n.flip)==null?void 0:i.overflows)||[];if(h&&R.push(P[_]),p){const U=b8(s,o,k);R.push(P[U[0]],P[U[1]])}if(I=[...I,{placement:s,overflows:R}],!R.every(U=>U<=0)){var M,L;const U=(((M=n.flip)==null?void 0:M.index)||0)+1,Y=A[U];if(Y&&(!(p==="alignment"?y!==dn(Y):!1)||I.every(D=>dn(D.placement)===y?D.overflows[0]>0:!0)))return{data:{index:U,overflows:I},reset:{placement:Y}};let O=(L=I.filter(V=>V.overflows[0]<=0).sort((V,D)=>V.overflows[1]-D.overflows[1])[0])==null?void 0:L.placement;if(!O)switch(m){case"bestFit":{var W;const V=(W=I.filter(D=>{if(S){const z=dn(D.placement);return z===y||z==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(z=>z>0).reduce((z,F)=>z+F,0)]).sort((D,z)=>D[1]-z[1])[0])==null?void 0:W[0];V&&(O=V);break}case"initialPlacement":O=l;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function PE(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function TE(r){return v8.some(e=>r[e]>=0)}const T8=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...s}=_a(r,e);switch(i){case"referenceHidden":{const n=await Op(e,{...s,elementContext:"reference"}),o=PE(n,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:TE(o)}}}case"escaped":{const n=await Op(e,{...s,altBoundary:!0}),o=PE(n,t.floating);return{data:{escapedOffsets:o,escaped:TE(o)}}}default:return{}}}}},SP=new Set(["left","top"]);async function R8(r,e){const{placement:t,platform:i,elements:s}=r,n=await(i.isRTL==null?void 0:i.isRTL(s.floating)),o=ya(t),l=oh(t),c=dn(t)==="y",d=SP.has(o)?-1:1,h=n&&c?-1:1,p=_a(e,r);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*h,y:f*d}:{x:f*d,y:m*h}}const I8=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,i;const{x:s,y:n,placement:o,middlewareData:l}=e,c=await R8(e,r);return o===((t=l.offset)==null?void 0:t.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:s+c.x,y:n+c.y,data:{...c,placement:o}}}}},D8=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:i,placement:s}=e,{mainAxis:n=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:_,y}=x;return{x:_,y}}},...c}=_a(r,e),d={x:t,y:i},h=await Op(e,c),p=dn(ya(s)),f=S0(p);let m=d[f],g=d[p];if(n){const x=f==="y"?"top":"left",_=f==="y"?"bottom":"right",y=m+h[x],w=m-h[_];m=Rb(y,m,w)}if(o){const x=p==="y"?"top":"left",_=p==="y"?"bottom":"right",y=g+h[x],w=g-h[_];g=Rb(y,g,w)}const v=l.fn({...e,[f]:m,[p]:g});return{...v,data:{x:v.x-t,y:v.y-i,enabled:{[f]:n,[p]:o}}}}}},F8=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:i,placement:s,rects:n,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=_a(r,e),h={x:t,y:i},p=dn(s),f=S0(p);let m=h[f],g=h[p];const v=_a(l,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=f==="y"?"height":"width",k=n.reference[f]-n.floating[w]+x.mainAxis,E=n.reference[f]+n.reference[w]-x.mainAxis;m<k?m=k:m>E&&(m=E)}if(d){var _,y;const w=f==="y"?"width":"height",k=SP.has(ya(s)),E=n.reference[p]-n.floating[w]+(k&&((_=o.offset)==null?void 0:_[p])||0)+(k?0:x.crossAxis),S=n.reference[p]+n.reference[w]+(k?0:((y=o.offset)==null?void 0:y[p])||0)-(k?x.crossAxis:0);g<E?g=E:g>S&&(g=S)}return{[f]:m,[p]:g}}}},L8=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,i;const{placement:s,rects:n,platform:o,elements:l}=e,{apply:c=()=>{},...d}=_a(r,e),h=await Op(e,d),p=ya(s),f=oh(s),m=dn(s)==="y",{width:g,height:v}=n.floating;let x,_;p==="top"||p==="bottom"?(x=p,_=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=p,x=f==="end"?"top":"bottom");const y=v-h.top-h.bottom,w=g-h.left-h.right,k=Mo(v-h[x],y),E=Mo(g-h[_],w),S=!e.middlewareData.shift;let A=k,P=E;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(P=w),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(A=y),S&&!f){const I=vi(h.left,0),M=vi(h.right,0),L=vi(h.top,0),W=vi(h.bottom,0);m?P=g-2*(I!==0||M!==0?I+M:vi(h.left,h.right)):A=v-2*(L!==0||W!==0?L+W:vi(h.top,h.bottom))}await c({...e,availableWidth:P,availableHeight:A});const R=await o.getDimensions(l.floating);return g!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function K_(){return typeof window<"u"}function lh(r){return EP(r)?(r.nodeName||"").toLowerCase():"#document"}function ji(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function wn(r){var e;return(e=(EP(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function EP(r){return K_()?r instanceof Node||r instanceof ji(r).Node:!1}function Rs(r){return K_()?r instanceof Element||r instanceof ji(r).Element:!1}function _n(r){return K_()?r instanceof HTMLElement||r instanceof ji(r).HTMLElement:!1}function RE(r){return!K_()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof ji(r).ShadowRoot}const M8=new Set(["inline","contents"]);function Nm(r){const{overflow:e,overflowX:t,overflowY:i,display:s}=Is(r);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!M8.has(s)}const O8=new Set(["table","td","th"]);function $8(r){return O8.has(lh(r))}const V8=[":popover-open",":modal"];function Y_(r){return V8.some(e=>{try{return r.matches(e)}catch{return!1}})}const z8=["transform","translate","scale","rotate","perspective"],B8=["transform","translate","scale","rotate","perspective","filter"],U8=["paint","layout","strict","content"];function N0(r){const e=C0(),t=Rs(r)?Is(r):r;return z8.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||B8.some(i=>(t.willChange||"").includes(i))||U8.some(i=>(t.contain||"").includes(i))}function q8(r){let e=Oo(r);for(;_n(e)&&!Xu(e);){if(N0(e))return e;if(Y_(e))return null;e=Oo(e)}return null}function C0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const H8=new Set(["html","body","#document"]);function Xu(r){return H8.has(lh(r))}function Is(r){return ji(r).getComputedStyle(r)}function X_(r){return Rs(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Oo(r){if(lh(r)==="html")return r;const e=r.assignedSlot||r.parentNode||RE(r)&&r.host||wn(r);return RE(e)?e.host:e}function AP(r){const e=Oo(r);return Xu(e)?r.ownerDocument?r.ownerDocument.body:r.body:_n(e)&&Nm(e)?e:AP(e)}function $p(r,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=AP(r),n=s===((i=r.ownerDocument)==null?void 0:i.body),o=ji(s);if(n){const l=Db(o);return e.concat(o,o.visualViewport||[],Nm(s)?s:[],l&&t?$p(l):[])}return e.concat(s,$p(s,[],t))}function Db(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function NP(r){const e=Is(r);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=_n(r),n=s?r.offsetWidth:t,o=s?r.offsetHeight:i,l=zv(t)!==n||zv(i)!==o;return l&&(t=n,i=o),{width:t,height:i,$:l}}function P0(r){return Rs(r)?r:r.contextElement}function Pd(r){const e=P0(r);if(!_n(e))return gn(1);const t=e.getBoundingClientRect(),{width:i,height:s,$:n}=NP(e);let o=(n?zv(t.width):t.width)/i,l=(n?zv(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const G8=gn(0);function CP(r){const e=ji(r);return!C0()||!e.visualViewport?G8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function W8(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==ji(r)?!1:e}function Ac(r,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=r.getBoundingClientRect(),n=P0(r);let o=gn(1);e&&(i?Rs(i)&&(o=Pd(i)):o=Pd(r));const l=W8(n,t,i)?CP(n):gn(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,h=s.width/o.x,p=s.height/o.y;if(n){const f=ji(n),m=i&&Rs(i)?ji(i):i;let g=f,v=Db(g);for(;v&&i&&m!==g;){const x=Pd(v),_=v.getBoundingClientRect(),y=Is(v),w=_.left+(v.clientLeft+parseFloat(y.paddingLeft))*x.x,k=_.top+(v.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,d*=x.y,h*=x.x,p*=x.y,c+=w,d+=k,g=ji(v),v=Db(g)}}return Uv({width:h,height:p,x:c,y:d})}function J_(r,e){const t=X_(r).scrollLeft;return e?e.left+t:Ac(wn(r)).left+t}function PP(r,e){const t=r.getBoundingClientRect(),i=t.left+e.scrollLeft-J_(r,t),s=t.top+e.scrollTop;return{x:i,y:s}}function K8(r){let{elements:e,rect:t,offsetParent:i,strategy:s}=r;const n=s==="fixed",o=wn(i),l=e?Y_(e.floating):!1;if(i===o||l&&n)return t;let c={scrollLeft:0,scrollTop:0},d=gn(1);const h=gn(0),p=_n(i);if((p||!p&&!n)&&((lh(i)!=="body"||Nm(o))&&(c=X_(i)),_n(i))){const m=Ac(i);d=Pd(i),h.x=m.x+i.clientLeft,h.y=m.y+i.clientTop}const f=o&&!p&&!n?PP(o,c):gn(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-c.scrollLeft*d.x+h.x+f.x,y:t.y*d.y-c.scrollTop*d.y+h.y+f.y}}function Y8(r){return Array.from(r.getClientRects())}function X8(r){const e=wn(r),t=X_(r),i=r.ownerDocument.body,s=vi(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),n=vi(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+J_(r);const l=-t.scrollTop;return Is(i).direction==="rtl"&&(o+=vi(e.clientWidth,i.clientWidth)-s),{width:s,height:n,x:o,y:l}}const IE=25;function J8(r,e){const t=ji(r),i=wn(r),s=t.visualViewport;let n=i.clientWidth,o=i.clientHeight,l=0,c=0;if(s){n=s.width,o=s.height;const h=C0();(!h||h&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=J_(i);if(d<=0){const h=i.ownerDocument,p=h.body,f=getComputedStyle(p),m=h.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(i.clientWidth-p.clientWidth-m);g<=IE&&(n-=g)}else d<=IE&&(n+=d);return{width:n,height:o,x:l,y:c}}const Q8=new Set(["absolute","fixed"]);function Z8(r,e){const t=Ac(r,!0,e==="fixed"),i=t.top+r.clientTop,s=t.left+r.clientLeft,n=_n(r)?Pd(r):gn(1),o=r.clientWidth*n.x,l=r.clientHeight*n.y,c=s*n.x,d=i*n.y;return{width:o,height:l,x:c,y:d}}function DE(r,e,t){let i;if(e==="viewport")i=J8(r,t);else if(e==="document")i=X8(wn(r));else if(Rs(e))i=Z8(e,t);else{const s=CP(r);i={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Uv(i)}function TP(r,e){const t=Oo(r);return t===e||!Rs(t)||Xu(t)?!1:Is(t).position==="fixed"||TP(t,e)}function eH(r,e){const t=e.get(r);if(t)return t;let i=$p(r,[],!1).filter(l=>Rs(l)&&lh(l)!=="body"),s=null;const n=Is(r).position==="fixed";let o=n?Oo(r):r;for(;Rs(o)&&!Xu(o);){const l=Is(o),c=N0(o);!c&&l.position==="fixed"&&(s=null),(n?!c&&!s:!c&&l.position==="static"&&!!s&&Q8.has(s.position)||Nm(o)&&!c&&TP(r,o))?i=i.filter(h=>h!==o):s=l,o=Oo(o)}return e.set(r,i),i}function tH(r){let{element:e,boundary:t,rootBoundary:i,strategy:s}=r;const o=[...t==="clippingAncestors"?Y_(e)?[]:eH(e,this._c):[].concat(t),i],l=o[0],c=o.reduce((d,h)=>{const p=DE(e,h,s);return d.top=vi(p.top,d.top),d.right=Mo(p.right,d.right),d.bottom=Mo(p.bottom,d.bottom),d.left=vi(p.left,d.left),d},DE(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function rH(r){const{width:e,height:t}=NP(r);return{width:e,height:t}}function iH(r,e,t){const i=_n(e),s=wn(e),n=t==="fixed",o=Ac(r,!0,n,e);let l={scrollLeft:0,scrollTop:0};const c=gn(0);function d(){c.x=J_(s)}if(i||!i&&!n)if((lh(e)!=="body"||Nm(s))&&(l=X_(e)),i){const m=Ac(e,!0,n,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&d();n&&!i&&s&&d();const h=s&&!i&&!n?PP(s,l):gn(0),p=o.left+l.scrollLeft-c.x-h.x,f=o.top+l.scrollTop-c.y-h.y;return{x:p,y:f,width:o.width,height:o.height}}function lx(r){return Is(r).position==="static"}function FE(r,e){if(!_n(r)||Is(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return wn(r)===t&&(t=t.ownerDocument.body),t}function RP(r,e){const t=ji(r);if(Y_(r))return t;if(!_n(r)){let s=Oo(r);for(;s&&!Xu(s);){if(Rs(s)&&!lx(s))return s;s=Oo(s)}return t}let i=FE(r,e);for(;i&&$8(i)&&lx(i);)i=FE(i,e);return i&&Xu(i)&&lx(i)&&!N0(i)?t:i||q8(r)||t}const sH=async function(r){const e=this.getOffsetParent||RP,t=this.getDimensions,i=await t(r.floating);return{reference:iH(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function nH(r){return Is(r).direction==="rtl"}const aH={convertOffsetParentRelativeRectToViewportRelativeRect:K8,getDocumentElement:wn,getClippingRect:tH,getOffsetParent:RP,getElementRects:sH,getClientRects:Y8,getDimensions:rH,getScale:Pd,isElement:Rs,isRTL:nH};function IP(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function oH(r,e){let t=null,i;const s=wn(r);function n(){var l;clearTimeout(i),(l=t)==null||l.disconnect(),t=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),n();const d=r.getBoundingClientRect(),{left:h,top:p,width:f,height:m}=d;if(l||e(),!f||!m)return;const g=cg(p),v=cg(s.clientWidth-(h+f)),x=cg(s.clientHeight-(p+m)),_=cg(h),w={rootMargin:-g+"px "+-v+"px "+-x+"px "+-_+"px",threshold:vi(0,Mo(1,c))||1};let k=!0;function E(S){const A=S[0].intersectionRatio;if(A!==c){if(!k)return o();A?o(!1,A):i=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!IP(d,r.getBoundingClientRect())&&o(),k=!1}try{t=new IntersectionObserver(E,{...w,root:s.ownerDocument})}catch{t=new IntersectionObserver(E,w)}t.observe(r)}return o(!0),n}function lH(r,e,t,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:n=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=i,d=P0(r),h=s||n?[...d?$p(d):[],...$p(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",t,{passive:!0}),n&&_.addEventListener("resize",t)});const p=d&&l?oH(d,t):null;let f=-1,m=null;o&&(m=new ResizeObserver(_=>{let[y]=_;y&&y.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),t()}),d&&!c&&m.observe(d),m.observe(e));let g,v=c?Ac(r):null;c&&x();function x(){const _=Ac(r);v&&!IP(v,_)&&t(),v=_,g=requestAnimationFrame(x)}return t(),()=>{var _;h.forEach(y=>{s&&y.removeEventListener("scroll",t),n&&y.removeEventListener("resize",t)}),p==null||p(),(_=m)==null||_.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const cH=I8,dH=D8,uH=P8,hH=L8,pH=T8,LE=C8,fH=F8,mH=(r,e,t)=>{const i=new Map,s={platform:aH,...t},n={...s.platform,_c:i};return N8(r,e,{...s,platform:n})};var gH=typeof document<"u",vH=function(){},Tg=gH?b.useLayoutEffect:vH;function qv(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,i,s;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!qv(r[i],e[i]))return!1;return!0}if(s=Object.keys(r),t=s.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,s[i]))return!1;for(i=t;i--!==0;){const n=s[i];if(!(n==="_owner"&&r.$$typeof)&&!qv(r[n],e[n]))return!1}return!0}return r!==r&&e!==e}function DP(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function ME(r,e){const t=DP(r);return Math.round(e*t)/t}function cx(r){const e=b.useRef(r);return Tg(()=>{e.current=r}),e}function _H(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:s,elements:{reference:n,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=r,[h,p]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=b.useState(i);qv(f,i)||m(i);const[g,v]=b.useState(null),[x,_]=b.useState(null),y=b.useCallback(D=>{D!==S.current&&(S.current=D,v(D))},[]),w=b.useCallback(D=>{D!==A.current&&(A.current=D,_(D))},[]),k=n||g,E=o||x,S=b.useRef(null),A=b.useRef(null),P=b.useRef(h),R=c!=null,I=cx(c),M=cx(s),L=cx(d),W=b.useCallback(()=>{if(!S.current||!A.current)return;const D={placement:e,strategy:t,middleware:f};M.current&&(D.platform=M.current),mH(S.current,A.current,D).then(z=>{const F={...z,isPositioned:L.current!==!1};U.current&&!qv(P.current,F)&&(P.current=F,eh.flushSync(()=>{p(F)}))})},[f,e,t,M,L]);Tg(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,p(D=>({...D,isPositioned:!1})))},[d]);const U=b.useRef(!1);Tg(()=>(U.current=!0,()=>{U.current=!1}),[]),Tg(()=>{if(k&&(S.current=k),E&&(A.current=E),k&&E){if(I.current)return I.current(k,E,W);W()}},[k,E,W,I,R]);const Y=b.useMemo(()=>({reference:S,floating:A,setReference:y,setFloating:w}),[y,w]),O=b.useMemo(()=>({reference:k,floating:E}),[k,E]),V=b.useMemo(()=>{const D={position:t,left:0,top:0};if(!O.floating)return D;const z=ME(O.floating,h.x),F=ME(O.floating,h.y);return l?{...D,transform:"translate("+z+"px, "+F+"px)",...DP(O.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:z,top:F}},[t,l,O.floating,h.x,h.y]);return b.useMemo(()=>({...h,update:W,refs:Y,elements:O,floatingStyles:V}),[h,W,Y,O,V])}const yH=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:i,padding:s}=typeof r=="function"?r(t):r;return i&&e(i)?i.current!=null?LE({element:i.current,padding:s}).fn(t):{}:i?LE({element:i,padding:s}).fn(t):{}}}},xH=(r,e)=>({...cH(r),options:[r,e]}),bH=(r,e)=>({...dH(r),options:[r,e]}),wH=(r,e)=>({...fH(r),options:[r,e]}),kH=(r,e)=>({...uH(r),options:[r,e]}),jH=(r,e)=>({...hH(r),options:[r,e]}),SH=(r,e)=>({...pH(r),options:[r,e]}),EH=(r,e)=>({...yH(r),options:[r,e]});var AH="Arrow",FP=b.forwardRef((r,e)=>{const{children:t,width:i=10,height:s=5,...n}=r;return a.jsx(Oe.svg,{...n,ref:e,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?t:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});FP.displayName=AH;var NH=FP;function LP(r){const[e,t]=b.useState(void 0);return Er(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const n=s[0];let o,l;if("borderBoxSize"in n){const c=n.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=r.offsetWidth,l=r.offsetHeight;t({width:o,height:l})});return i.observe(r,{box:"border-box"}),()=>i.unobserve(r)}else t(void 0)},[r]),e}var T0="Popper",[MP,OP]=Ho(T0),[CH,$P]=MP(T0),VP=r=>{const{__scopePopper:e,children:t}=r,[i,s]=b.useState(null);return a.jsx(CH,{scope:e,anchor:i,onAnchorChange:s,children:t})};VP.displayName=T0;var zP="PopperAnchor",BP=b.forwardRef((r,e)=>{const{__scopePopper:t,virtualRef:i,...s}=r,n=$P(zP,t),o=b.useRef(null),l=st(e,o),c=b.useRef(null);return b.useEffect(()=>{const d=c.current;c.current=(i==null?void 0:i.current)||o.current,d!==c.current&&n.onAnchorChange(c.current)}),i?null:a.jsx(Oe.div,{...s,ref:l})});BP.displayName=zP;var R0="PopperContent",[PH,TH]=MP(R0),UP=b.forwardRef((r,e)=>{var H,we,qe,Le,$e,He;const{__scopePopper:t,side:i="bottom",sideOffset:s=0,align:n="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...v}=r,x=$P(R0,t),[_,y]=b.useState(null),w=st(e,Ve=>y(Ve)),[k,E]=b.useState(null),S=LP(k),A=(S==null?void 0:S.width)??0,P=(S==null?void 0:S.height)??0,R=i+(n!=="center"?"-"+n:""),I=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(d)?d:[d],L=M.length>0,W={padding:I,boundary:M.filter(IH),altBoundary:L},{refs:U,floatingStyles:Y,placement:O,isPositioned:V,middlewareData:D}=_H({strategy:"fixed",placement:R,whileElementsMounted:(...Ve)=>lH(...Ve,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[xH({mainAxis:s+P,alignmentAxis:o}),c&&bH({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?wH():void 0,...W}),c&&kH({...W}),jH({...W,apply:({elements:Ve,rects:Ar,availableWidth:Pi,availableHeight:Yo})=>{const{width:kn,height:Rm}=Ar.reference,Mc=Ve.floating.style;Mc.setProperty("--radix-popper-available-width",`${Pi}px`),Mc.setProperty("--radix-popper-available-height",`${Yo}px`),Mc.setProperty("--radix-popper-anchor-width",`${kn}px`),Mc.setProperty("--radix-popper-anchor-height",`${Rm}px`)}}),k&&EH({element:k,padding:l}),DH({arrowWidth:A,arrowHeight:P}),f&&SH({strategy:"referenceHidden",...W})]}),[z,F]=GP(O),B=Lo(g);Er(()=>{V&&(B==null||B())},[V,B]);const J=(H=D.arrow)==null?void 0:H.x,te=(we=D.arrow)==null?void 0:we.y,re=((qe=D.arrow)==null?void 0:qe.centerOffset)!==0,[q,ie]=b.useState();return Er(()=>{_&&ie(window.getComputedStyle(_).zIndex)},[_]),a.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:V?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(Le=D.transformOrigin)==null?void 0:Le.x,($e=D.transformOrigin)==null?void 0:$e.y].join(" "),...((He=D.hide)==null?void 0:He.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:a.jsx(PH,{scope:t,placedSide:z,onArrowChange:E,arrowX:J,arrowY:te,shouldHideArrow:re,children:a.jsx(Oe.div,{"data-side":z,"data-align":F,...v,ref:w,style:{...v.style,animation:V?void 0:"none"}})})})});UP.displayName=R0;var qP="PopperArrow",RH={top:"bottom",right:"left",bottom:"top",left:"right"},HP=b.forwardRef(function(e,t){const{__scopePopper:i,...s}=e,n=TH(qP,i),o=RH[n.placedSide];return a.jsx("span",{ref:n.onArrowChange,style:{position:"absolute",left:n.arrowX,top:n.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[n.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[n.placedSide],visibility:n.shouldHideArrow?"hidden":void 0},children:a.jsx(NH,{...s,ref:t,style:{...s.style,display:"block"}})})});HP.displayName=qP;function IH(r){return r!==null}var DH=r=>({name:"transformOrigin",options:r,fn(e){var x,_,y;const{placement:t,rects:i,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:r.arrowWidth,c=o?0:r.arrowHeight,[d,h]=GP(t),p={start:"0%",center:"50%",end:"100%"}[h],f=(((_=s.arrow)==null?void 0:_.x)??0)+l/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let g="",v="";return d==="bottom"?(g=o?p:`${f}px`,v=`${-c}px`):d==="top"?(g=o?p:`${f}px`,v=`${i.floating.height+c}px`):d==="right"?(g=`${-c}px`,v=o?p:`${m}px`):d==="left"&&(g=`${i.floating.width+c}px`,v=o?p:`${m}px`),{data:{x:g,y:v}}}});function GP(r){const[e,t="center"]=r.split("-");return[e,t]}var FH=VP,LH=BP,MH=UP,OH=HP;function $H(r){const e=VH(r),t=b.forwardRef((i,s)=>{const{children:n,...o}=i,l=b.Children.toArray(n),c=l.find(BH);if(c){const d=c.props.children,h=l.map(p=>p===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:p);return a.jsx(e,{...o,ref:s,children:b.isValidElement(d)?b.cloneElement(d,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:n})});return t.displayName=`${r}.Slot`,t}function VH(r){const e=b.forwardRef((t,i)=>{const{children:s,...n}=t;if(b.isValidElement(s)){const o=qH(s),l=UH(n,s.props);return s.type!==b.Fragment&&(l.ref=i?sh(i,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var zH=Symbol("radix.slottable");function BH(r){return b.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===zH}function UH(r,e){const t={...e};for(const i in e){const s=r[i],n=e[i];/^on[A-Z]/.test(i)?s&&n?t[i]=(...l)=>{const c=n(...l);return s(...l),c}:s&&(t[i]=s):i==="style"?t[i]={...s,...n}:i==="className"&&(t[i]=[s,n].filter(Boolean).join(" "))}return{...r,...t}}function qH(r){var i,s;let e=(i=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(s=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function WP(r){const e=b.useRef({value:r,previous:r});return b.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var KP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),HH="VisuallyHidden",GH=b.forwardRef((r,e)=>a.jsx(Oe.span,{...r,ref:e,style:{...KP,...r.style}}));GH.displayName=HH;var WH=[" ","Enter","ArrowUp","ArrowDown"],KH=[" ","Enter"],Nc="Select",[Q_,Z_,YH]=sP(Nc),[ch]=Ho(Nc,[YH,OP]),ey=OP(),[XH,Go]=ch(Nc),[JH,QH]=ch(Nc),YP=r=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:s,onOpenChange:n,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:p,disabled:f,required:m,form:g}=r,v=ey(e),[x,_]=b.useState(null),[y,w]=b.useState(null),[k,E]=b.useState(!1),S=k0(d),[A,P]=Yu({prop:i,defaultProp:s??!1,onChange:n,caller:Nc}),[R,I]=Yu({prop:o,defaultProp:l,onChange:c,caller:Nc}),M=b.useRef(null),L=x?g||!!x.closest("form"):!0,[W,U]=b.useState(new Set),Y=Array.from(W).map(O=>O.props.value).join(";");return a.jsx(FH,{...v,children:a.jsxs(XH,{required:m,scope:e,trigger:x,onTriggerChange:_,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:k,onValueNodeHasChildrenChange:E,contentId:To(),value:R,onValueChange:I,open:A,onOpenChange:P,dir:S,triggerPointerDownPosRef:M,disabled:f,children:[a.jsx(Q_.Provider,{scope:e,children:a.jsx(JH,{scope:r.__scopeSelect,onNativeOptionAdd:b.useCallback(O=>{U(V=>new Set(V).add(O))},[]),onNativeOptionRemove:b.useCallback(O=>{U(V=>{const D=new Set(V);return D.delete(O),D})},[]),children:t})}),L?a.jsxs(yT,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:p,value:R,onChange:O=>I(O.target.value),disabled:f,form:g,children:[R===void 0?a.jsx("option",{value:""}):null,Array.from(W)]},Y):null]})})};YP.displayName=Nc;var XP="SelectTrigger",JP=b.forwardRef((r,e)=>{const{__scopeSelect:t,disabled:i=!1,...s}=r,n=ey(t),o=Go(XP,t),l=o.disabled||i,c=st(e,o.onTriggerChange),d=Z_(t),h=b.useRef("touch"),[p,f,m]=bT(v=>{const x=d().filter(w=>!w.disabled),_=x.find(w=>w.value===o.value),y=wT(x,v,_);y!==void 0&&o.onValueChange(y.value)}),g=v=>{l||(o.onOpenChange(!0),m()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return a.jsx(LH,{asChild:!0,...n,children:a.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":xT(o.value)?"":void 0,...s,ref:c,onClick:De(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&g(v)}),onPointerDown:De(s.onPointerDown,v=>{h.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:De(s.onKeyDown,v=>{const x=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(x&&v.key===" ")&&WH.includes(v.key)&&(g(),v.preventDefault())})})})});JP.displayName=XP;var QP="SelectValue",ZP=b.forwardRef((r,e)=>{const{__scopeSelect:t,className:i,style:s,children:n,placeholder:o="",...l}=r,c=Go(QP,t),{onValueNodeHasChildrenChange:d}=c,h=n!==void 0,p=st(e,c.onValueNodeChange);return Er(()=>{d(h)},[d,h]),a.jsx(Oe.span,{...l,ref:p,style:{pointerEvents:"none"},children:xT(c.value)?a.jsx(a.Fragment,{children:o}):n})});ZP.displayName=QP;var ZH="SelectIcon",eT=b.forwardRef((r,e)=>{const{__scopeSelect:t,children:i,...s}=r;return a.jsx(Oe.span,{"aria-hidden":!0,...s,ref:e,children:i||""})});eT.displayName=ZH;var eG="SelectPortal",tT=r=>a.jsx(p0,{asChild:!0,...r});tT.displayName=eG;var Cc="SelectContent",rT=b.forwardRef((r,e)=>{const t=Go(Cc,r.__scopeSelect),[i,s]=b.useState();if(Er(()=>{s(new DocumentFragment)},[]),!t.open){const n=i;return n?eh.createPortal(a.jsx(iT,{scope:r.__scopeSelect,children:a.jsx(Q_.Slot,{scope:r.__scopeSelect,children:a.jsx("div",{children:r.children})})}),n):null}return a.jsx(sT,{...r,ref:e})});rT.displayName=Cc;var rs=10,[iT,Wo]=ch(Cc),tG="SelectContentImpl",rG=$H("SelectContent.RemoveScroll"),sT=b.forwardRef((r,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:n,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:x,..._}=r,y=Go(Cc,t),[w,k]=b.useState(null),[E,S]=b.useState(null),A=st(e,H=>k(H)),[P,R]=b.useState(null),[I,M]=b.useState(null),L=Z_(t),[W,U]=b.useState(!1),Y=b.useRef(!1);b.useEffect(()=>{if(w)return DC(w)},[w]),EC();const O=b.useCallback(H=>{const[we,...qe]=L().map(He=>He.ref.current),[Le]=qe.slice(-1),$e=document.activeElement;for(const He of H)if(He===$e||(He==null||He.scrollIntoView({block:"nearest"}),He===we&&E&&(E.scrollTop=0),He===Le&&E&&(E.scrollTop=E.scrollHeight),He==null||He.focus(),document.activeElement!==$e))return},[L,E]),V=b.useCallback(()=>O([P,w]),[O,P,w]);b.useEffect(()=>{W&&V()},[W,V]);const{onOpenChange:D,triggerPointerDownPosRef:z}=y;b.useEffect(()=>{if(w){let H={x:0,y:0};const we=Le=>{var $e,He;H={x:Math.abs(Math.round(Le.pageX)-((($e=z.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(Le.pageY)-(((He=z.current)==null?void 0:He.y)??0))}},qe=Le=>{H.x<=10&&H.y<=10?Le.preventDefault():w.contains(Le.target)||D(!1),document.removeEventListener("pointermove",we),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",qe,{capture:!0})}}},[w,D,z]),b.useEffect(()=>{const H=()=>D(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[D]);const[F,B]=bT(H=>{const we=L().filter($e=>!$e.disabled),qe=we.find($e=>$e.ref.current===document.activeElement),Le=wT(we,H,qe);Le&&setTimeout(()=>Le.ref.current.focus())}),J=b.useCallback((H,we,qe)=>{const Le=!Y.current&&!qe;(y.value!==void 0&&y.value===we||Le)&&(R(H),Le&&(Y.current=!0))},[y.value]),te=b.useCallback(()=>w==null?void 0:w.focus(),[w]),re=b.useCallback((H,we,qe)=>{const Le=!Y.current&&!qe;(y.value!==void 0&&y.value===we||Le)&&M(H)},[y.value]),q=i==="popper"?Fb:nT,ie=q===Fb?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:x}:{};return a.jsx(iT,{scope:t,content:w,viewport:E,onViewportChange:S,itemRefCallback:J,selectedItem:P,onItemLeave:te,itemTextRefCallback:re,focusSelectedItem:V,selectedItemText:I,position:i,isPositioned:W,searchRef:F,children:a.jsx(f0,{as:rG,allowPinchZoom:!0,children:a.jsx(h0,{asChild:!0,trapped:y.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:De(s,H=>{var we;(we=y.trigger)==null||we.focus({preventScroll:!0}),H.preventDefault()}),children:a.jsx(u0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx(q,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:H=>H.preventDefault(),..._,...ie,onPlaced:()=>U(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:De(_.onKeyDown,H=>{const we=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!we&&H.key.length===1&&B(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let Le=L().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(H.key)&&(Le=Le.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const $e=H.target,He=Le.indexOf($e);Le=Le.slice(He+1)}setTimeout(()=>O(Le)),H.preventDefault()}})})})})})})});sT.displayName=tG;var iG="SelectItemAlignedPosition",nT=b.forwardRef((r,e)=>{const{__scopeSelect:t,onPlaced:i,...s}=r,n=Go(Cc,t),o=Wo(Cc,t),[l,c]=b.useState(null),[d,h]=b.useState(null),p=st(e,A=>h(A)),f=Z_(t),m=b.useRef(!1),g=b.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:_,focusSelectedItem:y}=o,w=b.useCallback(()=>{if(n.trigger&&n.valueNode&&l&&d&&v&&x&&_){const A=n.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),R=n.valueNode.getBoundingClientRect(),I=_.getBoundingClientRect();if(n.dir!=="rtl"){const $e=I.left-P.left,He=R.left-$e,Ve=A.left-He,Ar=A.width+Ve,Pi=Math.max(Ar,P.width),Yo=window.innerWidth-rs,kn=EE(He,[rs,Math.max(rs,Yo-Pi)]);l.style.minWidth=Ar+"px",l.style.left=kn+"px"}else{const $e=P.right-I.right,He=window.innerWidth-R.right-$e,Ve=window.innerWidth-A.right-He,Ar=A.width+Ve,Pi=Math.max(Ar,P.width),Yo=window.innerWidth-rs,kn=EE(He,[rs,Math.max(rs,Yo-Pi)]);l.style.minWidth=Ar+"px",l.style.right=kn+"px"}const M=f(),L=window.innerHeight-rs*2,W=v.scrollHeight,U=window.getComputedStyle(d),Y=parseInt(U.borderTopWidth,10),O=parseInt(U.paddingTop,10),V=parseInt(U.borderBottomWidth,10),D=parseInt(U.paddingBottom,10),z=Y+O+W+D+V,F=Math.min(x.offsetHeight*5,z),B=window.getComputedStyle(v),J=parseInt(B.paddingTop,10),te=parseInt(B.paddingBottom,10),re=A.top+A.height/2-rs,q=L-re,ie=x.offsetHeight/2,H=x.offsetTop+ie,we=Y+O+H,qe=z-we;if(we<=re){const $e=M.length>0&&x===M[M.length-1].ref.current;l.style.bottom="0px";const He=d.clientHeight-v.offsetTop-v.offsetHeight,Ve=Math.max(q,ie+($e?te:0)+He+V),Ar=we+Ve;l.style.height=Ar+"px"}else{const $e=M.length>0&&x===M[0].ref.current;l.style.top="0px";const Ve=Math.max(re,Y+v.offsetTop+($e?J:0)+ie)+qe;l.style.height=Ve+"px",v.scrollTop=we-re+v.offsetTop}l.style.margin=`${rs}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=L+"px",i==null||i(),requestAnimationFrame(()=>m.current=!0)}},[f,n.trigger,n.valueNode,l,d,v,x,_,n.dir,i]);Er(()=>w(),[w]);const[k,E]=b.useState();Er(()=>{d&&E(window.getComputedStyle(d).zIndex)},[d]);const S=b.useCallback(A=>{A&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return a.jsx(nG,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:a.jsx(Oe.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});nT.displayName=iG;var sG="SelectPopperPosition",Fb=b.forwardRef((r,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:s=rs,...n}=r,o=ey(t);return a.jsx(MH,{...o,...n,ref:e,align:i,collisionPadding:s,style:{boxSizing:"border-box",...n.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fb.displayName=sG;var[nG,I0]=ch(Cc,{}),Lb="SelectViewport",aT=b.forwardRef((r,e)=>{const{__scopeSelect:t,nonce:i,...s}=r,n=Wo(Lb,t),o=I0(Lb,t),l=st(e,n.onViewportChange),c=b.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),a.jsx(Q_.Slot,{scope:t,children:a.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:De(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&p){const m=Math.abs(c.current-h.scrollTop);if(m>0){const g=window.innerHeight-rs*2,v=parseFloat(p.style.minHeight),x=parseFloat(p.style.height),_=Math.max(v,x);if(_<g){const y=_+m,w=Math.min(g,y),k=y-w;p.style.height=w+"px",p.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,p.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});aT.displayName=Lb;var oT="SelectGroup",[aG,oG]=ch(oT),lG=b.forwardRef((r,e)=>{const{__scopeSelect:t,...i}=r,s=To();return a.jsx(aG,{scope:t,id:s,children:a.jsx(Oe.div,{role:"group","aria-labelledby":s,...i,ref:e})})});lG.displayName=oT;var lT="SelectLabel",cT=b.forwardRef((r,e)=>{const{__scopeSelect:t,...i}=r,s=oG(lT,t);return a.jsx(Oe.div,{id:s.id,...i,ref:e})});cT.displayName=lT;var Hv="SelectItem",[cG,dT]=ch(Hv),uT=b.forwardRef((r,e)=>{const{__scopeSelect:t,value:i,disabled:s=!1,textValue:n,...o}=r,l=Go(Hv,t),c=Wo(Hv,t),d=l.value===i,[h,p]=b.useState(n??""),[f,m]=b.useState(!1),g=st(e,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,i,s)}),v=To(),x=b.useRef("touch"),_=()=>{s||(l.onValueChange(i),l.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(cG,{scope:t,value:i,disabled:s,textId:v,isSelected:d,onItemTextChange:b.useCallback(y=>{p(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(Q_.ItemSlot,{scope:t,value:i,disabled:s,textValue:h,children:a.jsx(Oe.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:De(o.onFocus,()=>m(!0)),onBlur:De(o.onBlur,()=>m(!1)),onClick:De(o.onClick,()=>{x.current!=="mouse"&&_()}),onPointerUp:De(o.onPointerUp,()=>{x.current==="mouse"&&_()}),onPointerDown:De(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:De(o.onPointerMove,y=>{var w;x.current=y.pointerType,s?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:De(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:De(o.onKeyDown,y=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&y.key===" "||(KH.includes(y.key)&&_(),y.key===" "&&y.preventDefault())})})})})});uT.displayName=Hv;var Ph="SelectItemText",hT=b.forwardRef((r,e)=>{const{__scopeSelect:t,className:i,style:s,...n}=r,o=Go(Ph,t),l=Wo(Ph,t),c=dT(Ph,t),d=QH(Ph,t),[h,p]=b.useState(null),f=st(e,_=>p(_),c.onItemTextChange,_=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,_,c.value,c.disabled)}),m=h==null?void 0:h.textContent,g=b.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=d;return Er(()=>(v(g),()=>x(g)),[v,x,g]),a.jsxs(a.Fragment,{children:[a.jsx(Oe.span,{id:c.textId,...n,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?eh.createPortal(n.children,o.valueNode):null]})});hT.displayName=Ph;var pT="SelectItemIndicator",fT=b.forwardRef((r,e)=>{const{__scopeSelect:t,...i}=r;return dT(pT,t).isSelected?a.jsx(Oe.span,{"aria-hidden":!0,...i,ref:e}):null});fT.displayName=pT;var Mb="SelectScrollUpButton",mT=b.forwardRef((r,e)=>{const t=Wo(Mb,r.__scopeSelect),i=I0(Mb,r.__scopeSelect),[s,n]=b.useState(!1),o=st(e,i.onScrollButtonChange);return Er(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=c.scrollTop>0;n(d)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?a.jsx(vT,{...r,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});mT.displayName=Mb;var Ob="SelectScrollDownButton",gT=b.forwardRef((r,e)=>{const t=Wo(Ob,r.__scopeSelect),i=I0(Ob,r.__scopeSelect),[s,n]=b.useState(!1),o=st(e,i.onScrollButtonChange);return Er(()=>{if(t.viewport&&t.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;n(h)};const c=t.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?a.jsx(vT,{...r,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=t;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});gT.displayName=Ob;var vT=b.forwardRef((r,e)=>{const{__scopeSelect:t,onAutoScroll:i,...s}=r,n=Wo("SelectScrollButton",t),o=b.useRef(null),l=Z_(t),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),Er(()=>{var h;const d=l().find(p=>p.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx(Oe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:De(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:De(s.onPointerMove,()=>{var d;(d=n.onItemLeave)==null||d.call(n),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:De(s.onPointerLeave,()=>{c()})})}),dG="SelectSeparator",_T=b.forwardRef((r,e)=>{const{__scopeSelect:t,...i}=r;return a.jsx(Oe.div,{"aria-hidden":!0,...i,ref:e})});_T.displayName=dG;var $b="SelectArrow",uG=b.forwardRef((r,e)=>{const{__scopeSelect:t,...i}=r,s=ey(t),n=Go($b,t),o=Wo($b,t);return n.open&&o.position==="popper"?a.jsx(OH,{...s,...i,ref:e}):null});uG.displayName=$b;var hG="SelectBubbleInput",yT=b.forwardRef(({__scopeSelect:r,value:e,...t},i)=>{const s=b.useRef(null),n=st(i,s),o=WP(e);return b.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const p=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(p)}},[o,e]),a.jsx(Oe.select,{...t,style:{...KP,...t.style},ref:n,defaultValue:e})});yT.displayName=hG;function xT(r){return r===""||r===void 0}function bT(r){const e=Lo(r),t=b.useRef(""),i=b.useRef(0),s=b.useCallback(o=>{const l=t.current+o;e(l),function c(d){t.current=d,window.clearTimeout(i.current),d!==""&&(i.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),n=b.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,s,n]}function wT(r,e,t){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,n=t?r.indexOf(t):-1;let o=pG(r,Math.max(n,0));s.length===1&&(o=o.filter(d=>d!==t));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==t?c:void 0}function pG(r,e){return r.map((t,i)=>r[(e+i)%r.length])}var fG=YP,kT=JP,mG=ZP,gG=eT,vG=tT,jT=rT,_G=aT,ST=cT,ET=uT,yG=hT,xG=fT,AT=mT,NT=gT,CT=_T;const Ss=fG,Es=mG,Hi=b.forwardRef(({className:r,children:e,...t},i)=>a.jsxs(kT,{ref:i,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...t,children:[e,a.jsx(gG,{asChild:!0,children:a.jsx(uC,{className:"h-4 w-4 opacity-50"})})]}));Hi.displayName=kT.displayName;const PT=b.forwardRef(({className:r,...e},t)=>a.jsx(AT,{ref:t,className:xe("flex cursor-default items-center justify-center py-1",r),...e,children:a.jsx(M5,{className:"h-4 w-4"})}));PT.displayName=AT.displayName;const TT=b.forwardRef(({className:r,...e},t)=>a.jsx(NT,{ref:t,className:xe("flex cursor-default items-center justify-center py-1",r),...e,children:a.jsx(uC,{className:"h-4 w-4"})}));TT.displayName=NT.displayName;const Gi=b.forwardRef(({className:r,children:e,position:t="popper",...i},s)=>a.jsx(vG,{children:a.jsxs(jT,{ref:s,className:xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:t,...i,children:[a.jsx(PT,{}),a.jsx(_G,{className:xe("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(TT,{})]})}));Gi.displayName=jT.displayName;const bG=b.forwardRef(({className:r,...e},t)=>a.jsx(ST,{ref:t,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...e}));bG.displayName=ST.displayName;const ke=b.forwardRef(({className:r,children:e,...t},i)=>a.jsxs(ET,{ref:i,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(xG,{children:a.jsx(sp,{className:"h-4 w-4"})})}),a.jsx(yG,{children:e})]}));ke.displayName=ET.displayName;const wG=b.forwardRef(({className:r,...e},t)=>a.jsx(CT,{ref:t,className:xe("-mx-1 my-1 h-px bg-muted",r),...e}));wG.displayName=CT.displayName;const kG=()=>{const{t:r}=Qe(),[e,t]=b.useState(!1),[i,s]=b.useState(!1),[n,o]=b.useState(""),{signIn:l,signInWithGoogle:c,signUp:d,resetPassword:h}=Ci(),p=Ct(),[f,m]=b.useState({email:"",password:""}),[g,v]=b.useState({email:"",password:"",fullName:"",role:"private_user"}),x=async k=>{k.preventDefault(),t(!0);try{await l(f.email,f.password),me({title:r("auth_welcome_back"),description:r("auth_login_success")}),p("/panel")}catch(E){console.error("Login error caught in handleLogin:",E),me({title:r("auth_login_failed"),description:E instanceof Error?E.message:r("auth_error_generic"),variant:"destructive"})}finally{t(!1)}},_=async()=>{t(!0);try{await c()}catch(k){me({title:r("auth_google_failed"),description:k instanceof Error?k.message:r("auth_error_generic"),variant:"destructive"}),t(!1)}},y=async k=>{k.preventDefault(),t(!0);try{await d(g.email,g.password,g.fullName,g.role),me({title:r("auth_account_created"),description:r("auth_account_pending")}),p("/")}catch(E){me({title:r("auth_signup_failed"),description:E instanceof Error?E.message:r("auth_error_generic"),variant:"destructive"})}finally{t(!1)}},w=async k=>{k.preventDefault(),t(!0);try{await h(n),me({title:r("auth_reset_sent"),description:r("auth_reset_instructions")}),s(!1),o("")}catch(E){me({title:r("auth_reset_failed"),description:E instanceof Error?E.message:r("auth_error_generic"),variant:"destructive"})}finally{t(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"text-center mb-8",children:a.jsxs(Fr,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(Sc,{className:"h-8 w-8 text-primary"}),a.jsxs("span",{className:"text-2xl font-bold",children:[a.jsx("span",{className:"text-muted-foreground",children:"Via"}),a.jsx("span",{className:"text-primary",children:"Estate"})]})]})}),a.jsxs(K,{className:"shadow-elegant",children:[a.jsxs(Te,{className:"text-center",children:[a.jsx(Re,{className:"text-2xl",children:r("auth_welcome_title")}),a.jsx(Vt,{children:r("auth_welcome_subtitle")})]}),a.jsx(Q,{children:a.jsxs(W_,{defaultValue:"login",className:"w-full",children:[a.jsxs(Am,{className:"grid w-full grid-cols-2",children:[a.jsx(zt,{value:"login",children:r("auth_sign_in")}),a.jsx(zt,{value:"signup",children:r("auth_sign_up")})]}),a.jsx(Bt,{value:"login",className:"space-y-4",children:a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"email",children:r("auth_email")}),a.jsx(le,{id:"email",type:"email",placeholder:"your@email.com",value:f.email,onChange:k=>m({...f,email:k.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"password",children:r("auth_password")}),a.jsx(le,{id:"password",type:"password",placeholder:"",value:f.password,onChange:k=>m({...f,password:k.target.value}),required:!0})]}),a.jsx($,{type:"submit",className:"w-full",disabled:e,children:r(e?"auth_signing_in":"auth_sign_in")}),a.jsx("div",{className:"text-center",children:a.jsx($,{type:"button",variant:"link",onClick:()=>s(!0),className:"text-sm text-muted-foreground hover:text-primary",children:r("auth_forgot_password")})}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:r("auth_or_continue")})})]}),a.jsxs($,{type:"button",variant:"outline",className:"w-full",onClick:_,disabled:e,children:[a.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),r(e?"auth_signing_in":"auth_google_continue")]})]})}),a.jsx(Bt,{value:"signup",className:"space-y-4",children:a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"fullName",children:r("auth_full_name")}),a.jsx(le,{id:"fullName",type:"text",placeholder:"John Doe",value:g.fullName,onChange:k=>v({...g,fullName:k.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"signup-email",children:r("auth_email")}),a.jsx(le,{id:"signup-email",type:"email",placeholder:"your@email.com",value:g.email,onChange:k=>v({...g,email:k.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"signup-password",children:r("auth_password")}),a.jsx(le,{id:"signup-password",type:"password",placeholder:"",value:g.password,onChange:k=>v({...g,password:k.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{htmlFor:"role",children:r("auth_account_type")}),a.jsxs(Ss,{value:g.role,onValueChange:k=>v({...g,role:k}),children:[a.jsx(Hi,{children:a.jsx(Es,{placeholder:r("auth_select_type")})}),a.jsxs(Gi,{children:[a.jsx(ke,{value:"private_user",children:r("auth_private_seller")}),a.jsx(ke,{value:"broker",children:r("auth_broker")})]})]})]}),a.jsx($,{type:"submit",className:"w-full",disabled:e,children:r(e?"auth_creating":"auth_create_account")})]})})]})})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:a.jsxs(K,{className:"w-full max-w-md",children:[a.jsxs(Te,{children:[a.jsxs(Re,{className:"flex items-center",children:[a.jsx(B5,{className:"h-5 w-5 mr-2"}),r("auth_reset_password")]}),a.jsx(Vt,{children:r("auth_reset_description")})]}),a.jsx(Q,{children:a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"reset-email",children:r("auth_email_address")}),a.jsx(le,{id:"reset-email",type:"email",value:n,onChange:k=>o(k.target.value),required:!0,placeholder:"your@email.com"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($,{type:"submit",className:"flex-1",disabled:e,children:r(e?"auth_sending":"auth_send_reset")}),a.jsx($,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:e,children:r("common_cancel")})]})]})})]})})]})})},jG=()=>{const r=Ct();return b.useEffect(()=>{(async()=>{var t;try{const{data:i,error:s}=await G.auth.getSession();if(s)throw s;if((t=i.session)!=null&&t.user){const{data:n,error:o}=await G.from("profiles").select("*").eq("id",i.session.user.id).single();if(o&&o.code==="PGRST116"){const{error:l}=await G.from("profiles").insert({id:i.session.user.id,email:i.session.user.email,full_name:i.session.user.user_metadata.full_name||i.session.user.email.split("@")[0],role:"private_user",status:"pending"});if(l)throw l;me({title:"Account created!",description:"Your Google account is now registered and pending admin approval."})}else n&&me({title:"Welcome back!",description:"You have successfully signed in with Google."})}r("/")}catch(i){console.error("Auth callback error:",i),me({title:"Authentication failed",description:i.message,variant:"destructive"}),r("/login")}})()},[r]),a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Completing sign in..."})]})})},SG={en:"english",sv:"swedish",fi:"finnish",da:"danish",nb:"norwegian",de:"german",fr:"french",es:"spanish",it:"italian",hr:"croatian"},RT=(r,e,t)=>{if(!r)return"";const s=`${SG[t]||"english"}_${e}`;if(r[s]&&typeof r[s]=="string"&&r[s].trim())return r[s];const n=`english_${e}`;return r[n]&&typeof r[n]=="string"&&r[n].trim()?r[n]:r[e]&&typeof r[e]=="string"&&r[e].trim()?r[e]:""},IT=(r,e)=>RT(r,"title",e),DT=(r,e)=>RT(r,"description",e),FT=({property:r,featured:e=!1,onClick:t,filters:i})=>{const{t:s,lang:n}=Qe(),o=Ct(),l=H=>`${H.toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:0})}`,{id:c,title:d,description:h,price:p,city:f,country:m,bedrooms:g=0,bathrooms:v=0,area:x=0,plot_area:_,distance_to_city:y,distance_to_sea:w,distance_to_lake:k,images:E=[],listing_type:S="sale",property_type_detail:A,seller_type:P,property_type:R,status:I,created_at:M,verified:L=!1,features:W=[]}=r,U=IT(r,n),Y=DT(r,h),[O,V]=b.useState(!1),[D,z]=b.useState(E[0]||"/placeholder.svg"),F=H=>!H||H==="/placeholder.svg"?"/placeholder.svg":H.includes("supabase.co/storage")?H:H.includes("http")&&!H.includes("localhost")&&!H.includes("127.0.0.1")?`https://images.weserv.nl/?url=${encodeURIComponent(H)}&w=400&h=300&fit=cover&q=80`:H,B=`${f||"Unknown"}, ${m||"Unknown"}`,J=S||"sale",te=()=>{t?t():o(`/${n}/properties/${r.id}`)},re=async H=>{H.stopPropagation();const we=`${window.location.origin}/${n}/properties/${r.id}`;if(navigator.share)try{await navigator.share({title:r.title,text:`Check out this property: ${r.title}`,url:we})}catch{}else try{await navigator.clipboard.writeText(we),alert(`Link copied to clipboard: ${we}`)}catch{alert(`Share this link: ${we}`)}},q=()=>{V(!0);const H=E.findIndex(we=>we===D);H<E.length-1?(z(E[H+1]),V(!1)):z("/placeholder.svg")},ie=()=>{V(!1)};return a.jsxs(K,{className:"group cursor-pointer overflow-hidden border-border hover:shadow-elegant transition-smooth bg-card",onClick:te,children:[a.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-white",children:[a.jsx("img",{src:F(D),alt:d,className:"w-full h-full object-cover group-hover:scale-105 transition-smooth",onError:q,onLoad:ie}),a.jsx("div",{className:"absolute top-4 left-4 flex gap-2",children:a.jsx(je,{variant:"secondary",className:"capitalize bg-primary text-primary-foreground border-0",children:J==="sale"?"For Sale":"For Rent"})}),a.jsx("div",{className:"absolute top-4 right-4 flex gap-2",children:a.jsx($,{variant:"secondary",size:"sm",className:"bg-background/90 hover:bg-background/80 text-foreground border-border",onClick:re,children:a.jsx(W5,{className:"h-4 w-4"})})}),a.jsx("div",{className:"absolute bottom-4 left-4",children:a.jsxs(je,{variant:"default",className:"bg-background/95 text-foreground border border-border text-lg font-bold px-3 py-1",children:[l(p),J==="rent"&&a.jsx("span",{className:"text-sm font-normal ml-1",children:s("time_month")})]})}),O&&E.length>0&&a.jsx("div",{className:"absolute bottom-4 right-4",children:a.jsx(je,{variant:"secondary",className:"bg-red-500/90 text-white border-0 text-xs px-2 py-1",children:s("image_unavailable")})})]}),a.jsxs(Q,{className:"p-4 sm:p-6",children:[a.jsx("h3",{className:"font-semibold text-base sm:text-lg mb-2 line-clamp-2 group-hover:text-primary transition-smooth",children:U}),a.jsxs("div",{className:"flex items-center text-muted-foreground",children:[a.jsx(ur,{className:"h-4 w-4 mr-1"}),a.jsx("p",{className:"text-sm line-clamp-1",children:B})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-3",children:Y}),a.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[g>0&&a.jsxs("div",{className:"flex items-center text-muted-foreground",children:[a.jsx("span",{className:"mr-1",children:g}),a.jsx("span",{children:s("property_bedrooms","Bedrooms")})]}),v>0&&a.jsxs("div",{className:"flex items-center text-muted-foreground",children:[a.jsx("span",{className:"mr-1",children:v}),a.jsx("span",{children:s("property_bathrooms","Bathrooms")})]}),x>0&&a.jsxs("div",{className:"flex items-center text-muted-foreground",children:[a.jsx("span",{className:"mr-1",children:x}),a.jsx("span",{children:s("property_area","m")})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:a.jsx($,{variant:"outline",size:"sm",className:"w-full",onClick:H=>{H.stopPropagation(),o(`/${n}/about`)},children:s("property_speak_advisor","Speak to Advisor")})})]})]})},EG=()=>{const{lang:r}=Ji(),{t:e}=Qe(),[t,i]=b.useState([]),[s,n]=b.useState(!0),[o,l]=b.useState([]),[c,d]=b.useState(null),[h,p]=b.useState([]),[f,m]=b.useState({}),[g,v]=b.useState({search:"",country:"",city:"",minPrice:"",maxPrice:"",bedrooms:"",bathrooms:"",propertyType:"",status:"published"}),x=Ct(),[_]=Qk();b.useEffect(()=>{const E={search:_.get("search")||"",country:_.get("country")||"",city:_.get("city")||"",minPrice:_.get("minPrice")||"",maxPrice:_.get("maxPrice")||"",bedrooms:_.get("bedrooms")||"",bathrooms:_.get("bathrooms")||"",propertyType:_.get("propertyType")||"",status:"published"};if(Object.values(E).some(A=>A!==""&&A!=="published"))v(E),E.country&&d(E.country),sessionStorage.removeItem("returningFromDetail");else if(sessionStorage.getItem("returningFromDetail")==="true"){const P=JSON.parse(sessionStorage.getItem("propertyFilters")||"{}"),R=sessionStorage.getItem("selectedCountry")||"";Object.values(P).some(M=>M!==""&&M!=="published")&&(v(P),R&&d(R)),sessionStorage.removeItem("returningFromDetail")}},[_]),b.useEffect(()=>{w()},[]),b.useEffect(()=>{y()},[g]),b.useEffect(()=>{sessionStorage.setItem("propertyFilters",JSON.stringify(g)),sessionStorage.setItem("selectedCountry",c||"")},[g,c]);const y=async()=>{try{let S=G.from("properties").select(`
        id, title, description, 
        english_description, english_title,
        swedish_title, swedish_description, 
        norwegian_title, norwegian_description,
        danish_title, danish_description, 
        finnish_title, finnish_description,
        croatian_title, croatian_description,
        german_title, german_description,
        french_title, french_description,
        spanish_title, spanish_description,
        italian_title, italian_description,
        country, city, price, property_type,
        property_type_detail, bedrooms, bathrooms, area, plot_area,
        distance_to_city, distance_to_sea, distance_to_lake, listing_type,
        images, videos, seller_id, seller_type, status, package_id,
        rejection_reason, created_at, updated_at, region, address,
        lat, lon, features, distance_to_beach_m, views, verified, currency
      `).eq("status","published").order("created_at",{ascending:!1});if(g.country&&g.country.trim()!==""&&(S=S.ilike("country",`%${g.country}%`)),g.city&&g.city.trim()!==""&&(S=S.ilike("city",`%${g.city}%`)),g.search&&g.search.trim()!==""){let R=`title.ilike.%${g.search}%,description.ilike.%${g.search}%,english_description.ilike.%${g.search}%`;switch(r){case"sv":R+=`,swedish_title.ilike.%${g.search}%,swedish_description.ilike.%${g.search}%`;break;case"no":R+=`,norwegian_title.ilike.%${g.search}%,norwegian_description.ilike.%${g.search}%`;break;case"da":R+=`,danish_title.ilike.%${g.search}%,danish_description.ilike.%${g.search}%`;break;case"fi":R+=`,finnish_title.ilike.%${g.search}%,finnish_description.ilike.%${g.search}%`;break;case"de":R+=`,german_title.ilike.%${g.search}%,german_description.ilike.%${g.search}%`;break;case"fr":R+=`,french_title.ilike.%${g.search}%,french_description.ilike.%${g.search}%`;break;case"es":R+=`,spanish_title.ilike.%${g.search}%,spanish_description.ilike.%${g.search}%`;break;case"it":R+=`,italian_title.ilike.%${g.search}%,italian_description.ilike.%${g.search}%`;break;case"hr":R+=`,croatian_title.ilike.%${g.search}%,croatian_description.ilike.%${g.search}%`;break}S=S.or(R)}g.minPrice&&g.minPrice.trim()!==""&&!isNaN(parseInt(g.minPrice))&&(S=S.gte("price",parseInt(g.minPrice))),g.maxPrice&&g.maxPrice.trim()!==""&&!isNaN(parseInt(g.maxPrice))&&(S=S.lte("price",parseInt(g.maxPrice))),g.bedrooms&&g.bedrooms.trim()!==""&&!isNaN(parseInt(g.bedrooms))&&(S=S.gte("bedrooms",parseInt(g.bedrooms))),g.bathrooms&&g.bathrooms.trim()!==""&&!isNaN(parseInt(g.bathrooms))&&(S=S.gte("bathrooms",parseInt(g.bathrooms))),g.propertyType&&g.propertyType.trim()!==""&&(S=S.ilike("property_type",`%${g.propertyType}%`));const{data:A,error:P}=await S;if(P)if(console.error("Error fetching properties:",P),P.message.includes("column")||P.message.includes("does not exist")){const R=G.from("properties").select("id, title, description, english_description, country, city, price, images, seller_type, status, created_at").eq("status","published").order("created_at",{ascending:!1}),{data:I,error:M}=await R;if(M)throw M;i(I||[])}else throw P;else i(A||[])}catch(E){console.error("Error in fetchProperties:",E),me({title:e("common.error","Error"),description:E.message||e("properties.error_loading","Failed to load properties. Please try again."),variant:"destructive"}),i([])}finally{n(!1)}},w=async()=>{try{const{data:E,error:S}=await G.from("properties").select("country").eq("status","published").not("country","is",null);if(S)throw S;const A=[...new Set(E.map(R=>R.country).filter(Boolean))].sort();p(A);const P={};for(const R of A){const{data:I,error:M}=await G.from("properties").select("images").eq("status","published").ilike("country",`%${R}%`).limit(1);!M&&I&&I[0]&&I[0].images&&I[0].images.length>0&&(P[R]=I[0].images[0])}m(P)}catch(E){console.error("Error fetching countries:",E),me({title:e("common.error","Error"),description:E.message||e("properties.error_countries","Failed to load countries."),variant:"destructive"})}},k=!g.search&&!g.country&&!g.city&&!g.minPrice&&!g.maxPrice;return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsx("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:c===null&&!g.country?a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4",children:e("properties.select_country","Select a Country")}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4",children:[h.map(E=>a.jsxs(K,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{d(E),v(S=>({...S,country:E}))},children:[f[E]&&a.jsx("img",{src:f[E],alt:E,className:"w-full h-32 object-cover rounded-t-lg"}),a.jsxs(Q,{className:"p-6 text-center",children:[a.jsx(ur,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),a.jsx("h3",{className:"text-lg font-semibold",children:E})]})]},E)),a.jsxs(K,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{d("all"),v(E=>({...E,country:""}))},children:[a.jsx("img",{src:"https://storage0.dms.mpinteractiv.ro/media/401/341/5528/15974131/5/europa.jpg",alt:"Europe Map",className:"w-full h-32 object-cover rounded-t-lg"}),a.jsxs(Q,{className:"p-6 text-center",children:[a.jsx(Mp,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),a.jsx("h3",{className:"text-lg font-semibold",children:e("properties.show_all","Show All")})]})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs(K,{className:"mb-8",children:[a.jsxs(Te,{children:[a.jsxs(Re,{className:"flex items-center gap-2",children:[a.jsx($5,{className:"h-5 w-5"}),e("properties.search_filter","Search & Filter Properties")]}),a.jsx(Vt,{children:e("properties.search_filter_desc","Find your perfect property with our advanced search tools")})]}),a.jsx(Q,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[a.jsx("div",{className:"xl:col-span-2",children:a.jsx(le,{placeholder:e("properties.search_placeholder","Search properties..."),value:g.search,onChange:E=>v({...g,search:E.target.value}),className:"w-full"})}),a.jsx(le,{placeholder:e("properties.country_placeholder","Country (e.g., Spain, France, Italy)"),value:g.country,onChange:E=>v({...g,country:E.target.value})}),a.jsx(le,{placeholder:e("properties.city_placeholder","City"),value:g.city,onChange:E=>v({...g,city:E.target.value})}),a.jsx(le,{placeholder:e("properties.min_price_placeholder","Min Price ()"),type:"number",value:g.minPrice,onChange:E=>v({...g,minPrice:E.target.value})}),a.jsx(le,{placeholder:e("properties.max_price_placeholder","Max Price ()"),type:"number",value:g.maxPrice,onChange:E=>v({...g,maxPrice:E.target.value})})]})})]}),s?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[...Array(6)].map((E,S)=>a.jsxs(K,{className:"animate-pulse",children:[a.jsx("div",{className:"aspect-video bg-muted rounded-t-lg"}),a.jsxs(Q,{className:"p-4",children:[a.jsx("div",{className:"h-4 bg-muted rounded mb-2"}),a.jsx("div",{className:"h-4 bg-muted rounded w-2/3 mb-4"}),a.jsx("div",{className:"h-6 bg-muted rounded w-1/3"})]})]},S))}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(E=>a.jsx(FT,{property:E,filters:g},E.id))}),!s&&t.length===0&&a.jsx(K,{className:"text-center py-12",children:a.jsxs(Q,{className:"space-y-3",children:[a.jsx(Mp,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),k?a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold",children:e("properties.no_properties","No properties available yet")}),a.jsx("p",{className:"text-muted-foreground",children:e("properties.no_properties_desc","Coming soon. Be the first to list a property or check back shortly.")}),a.jsxs("div",{className:"flex gap-3 justify-center mt-4",children:[a.jsx($,{variant:"outline",onClick:()=>x(`/${r}`),children:e("properties.back_home","Back to Home")}),a.jsx($,{onClick:()=>x(`/${r}/list-property`),children:e("properties.list_your_property","List Your Property")})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold",children:e("properties.no_match","No properties match your filters")}),a.jsx("p",{className:"text-muted-foreground",children:e("properties.no_match_desc","Try clearing filters or adjusting your search.")}),a.jsxs("div",{className:"flex gap-3 justify-center mt-4",children:[a.jsx($,{variant:"outline",onClick:()=>v({search:"",country:"",city:"",minPrice:"",maxPrice:"",bedrooms:"",bathrooms:"",propertyType:"",status:"published"}),children:e("properties.clear_filters","Clear Filters")}),a.jsx($,{onClick:()=>x(`/${r}`),children:e("properties.back_home","Back to Home")})]})]})]})})]})})})},AG=()=>{const{lang:r,id:e}=Ji(),t=Ct(),{t:i}=Qe(),[s,n]=b.useState(null),[o,l]=b.useState(!0),[c,d]=b.useState(0),[h,p]=b.useState([]),[f,m]=b.useState(""),[g,v]=b.useState(!1),[x,_]=b.useState(!1),[y,w]=b.useState("general"),{user:k,profile:E}=Ci(),{toast:S}=Sa();b.useEffect(()=>{(async()=>{if(e)try{const{data:z,error:F}=await G.from("properties").select(`
            id, title, description, 
            english_description, english_title,
            swedish_description, swedish_title, 
            norwegian_description, norwegian_title,
            danish_description, danish_title, 
            finnish_description, finnish_title,
            croatian_description, croatian_title,
            german_description, german_title,
            french_description, french_title,
            spanish_description, spanish_title,
            italian_description, italian_title,
            country, city, price, property_type,
            property_type_detail, bedrooms, bathrooms, area, plot_area,
            distance_to_city, distance_to_sea, distance_to_lake, listing_type,
            images, videos, seller_id, seller_type, status, package_id,
            rejection_reason, created_at, updated_at, region, address,
            lat, lon, features, distance_to_beach_m, views, verified, currency
          `).eq("id",e).eq("status","published").single();if(F)throw F;z?n(z):(S({title:i("properties.not_found","Property not found"),description:i("properties.not_found_desc","The property you're looking for doesn't exist or is no longer available."),variant:"destructive"}),t(`/${r}/properties`))}catch(z){console.error("Error fetching property:",z),S({title:i("common.error","Error"),description:i("properties.error_loading","Failed to load property details."),variant:"destructive"}),t(`/${r}/properties`)}finally{l(!1)}})()},[e,t,S]);const A=s?IT(s,r):"",P=s?DT(s,r):"",R=b.useCallback(async()=>{if(s!=null&&s.id)try{const{data:D,error:z}=await G.from("forum_posts").select(`
          *,
          profiles (
            full_name
          )
        `).eq("property_id",s.id).eq("status","approved").order("created_at",{ascending:!1});if(z)throw z;p(D||[])}catch(D){console.error("Error fetching forum posts:",D)}},[s==null?void 0:s.id]);b.useEffect(()=>{s!=null&&s.id&&R()},[s==null?void 0:s.id,R]);const I=()=>{w("general"),_(!0)},M=()=>{w("inspection"),_(!0)};if(o)return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"animate-pulse space-y-6",children:[a.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),a.jsx("div",{className:"aspect-video bg-muted rounded-lg"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-32 bg-muted rounded"}),a.jsx("div",{className:"h-48 bg-muted rounded"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-24 bg-muted rounded"}),a.jsx("div",{className:"h-32 bg-muted rounded"})]})]})]})})});const L=()=>{var D;((D=s.images)==null?void 0:D.length)>1&&d(z=>(z+1)%s.images.length)},W=()=>{var D;((D=s.images)==null?void 0:D.length)>1&&d(z=>(z-1+s.images.length)%s.images.length)},U=D=>`${D.toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:0})}`,Y=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),O=D=>D.split(". ").map((z,F)=>a.jsxs("span",{children:[z.trim(),z.trim()&&".",F<D.split(". ").length-1&&a.jsx("br",{})]},F)),V=D=>D?D>=1e3?`${(D/1e3).toFixed(1)} km`:`${D} m`:"N/A";return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs($,{variant:"ghost",onClick:()=>{sessionStorage.setItem("returningFromDetail","true");const D=JSON.parse(sessionStorage.getItem("propertyFilters")||"{}"),z=new URLSearchParams(D).toString();t(`/${r}/properties${z?"?"+z:""}`)},className:"mb-6",children:[a.jsx(Ov,{className:"h-4 w-4 mr-2"}),i("properties.back_to_properties","Back to Properties")]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-white",children:s.images&&s.images.length>0?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:s.images[c],alt:`${s.title} - Image ${c+1}`,className:"w-full h-full object-contain"}),s.images.length>1&&a.jsxs(a.Fragment,{children:[a.jsx($,{variant:"secondary",size:"sm",className:"absolute left-2 top-1/2 transform -translate-y-1/2",onClick:W,children:a.jsx(hC,{className:"h-4 w-4"})}),a.jsx($,{variant:"secondary",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2",onClick:L,children:a.jsx(l0,{className:"h-4 w-4"})})]})]}):a.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:i("properties.no_images","No images available")})}),s.images&&s.images.length>1&&a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:s.images.map((D,z)=>a.jsx("button",{className:`flex-shrink-0 w-20 h-20 rounded-md overflow-hidden border-2 transition-colors ${z===c?"border-primary":"border-transparent"}`,onClick:()=>d(z),children:a.jsx("img",{src:D,alt:`Thumbnail ${z+1}`,className:"w-full h-full object-contain"})},z))}),a.jsx(K,{className:"bg-gradient-to-r from-slate-50 to-slate-100 border-0 shadow-sm",children:a.jsxs(Q,{className:"p-6",children:[a.jsxs("h3",{className:"font-bold text-xl mb-6 text-slate-800 flex items-center gap-2",children:[a.jsx(Po,{className:"h-6 w-6 text-primary"}),i("properties.property_details","Property Details")]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(Po,{className:"h-8 w-8 text-primary"})}),a.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:i("properties.bedrooms","Bedrooms")}),a.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.bedrooms||"N/A"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(dC,{className:"h-8 w-8 text-primary"})}),a.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:i("properties.bathrooms","Bathrooms")}),a.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.bathrooms||"N/A"})]})]}),(s.area||s.plot_area)&&a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-4 flex items-center gap-2 justify-center",children:[a.jsx(yC,{className:"h-4 w-4 text-primary"}),i("properties.area_info","Area Information")]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-14 h-14 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(Po,{className:"h-6 w-6 text-primary"})}),a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:i("properties.living_area","Living Area")}),a.jsxs("p",{className:"text-lg font-bold text-slate-800",children:[s.area||"N/A"," ",s.area?"m":""]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-14 h-14 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx($v,{className:"h-6 w-6 text-primary"})}),a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:i("properties.plot_area","Plot Area")}),a.jsxs("p",{className:"text-lg font-bold text-slate-800",children:[s.plot_area||"N/A"," ",s.plot_area?"m":""]})]})]})]}),(s.distance_to_city||s.distance_to_sea||s.distance_to_lake)&&a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-4 flex items-center gap-2 justify-center",children:[a.jsx(ur,{className:"h-4 w-4 text-primary"}),i("properties.distance_info","Distance Information")]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(ur,{className:"h-5 w-5 text-primary"})}),a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:i("properties.city_center","City Center")}),a.jsx("p",{className:"text-sm font-bold text-slate-800",children:s.distance_to_city?V(s.distance_to_city):"N/A"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(wC,{className:"h-5 w-5 text-primary"})}),a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:i("properties.to_sea","To Sea")}),a.jsx("p",{className:"text-sm font-bold text-slate-800",children:s.distance_to_sea?V(s.distance_to_sea):"N/A"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx($v,{className:"h-5 w-5 text-primary"})}),a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:i("properties.to_lake","To Lake")}),a.jsx("p",{className:"text-sm font-bold text-slate-800",children:s.distance_to_lake?V(s.distance_to_lake):"N/A"})]})]})]})]})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:A}),a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-4",children:[a.jsx(ur,{className:"h-4 w-4"}),a.jsxs("span",{className:"text-base",children:[s.city,", ",s.country]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(_c,{className:"h-5 w-5 text-primary"}),a.jsx("span",{className:"text-4xl font-bold",children:U(s.price)}),a.jsx(je,{variant:"secondary",className:"ml-2",children:s.status})]})]}),a.jsx("div",{className:"prose prose-slate max-w-none",children:a.jsx("p",{className:"text-slate-700 leading-relaxed text-lg font-medium",children:O(P||"")})}),a.jsx(K,{children:a.jsxs(Q,{className:"p-6",children:[a.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2 text-lg",children:[a.jsx(va,{className:"h-5 w-5"}),i("properties.agent_info","Agent Information")]}),a.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:i("properties.seller_type","Type:")})," ",s.seller_type]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:i("properties.listed_date","Listed:")})," ",Y(s.created_at)]})]})]})}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs($,{className:"flex-1 py-3 text-lg",onClick:I,children:[a.jsx(bm,{className:"h-5 w-5 mr-2"}),i("properties.send_inquiry","Send Inquiry")]}),a.jsxs($,{variant:"outline",className:"flex-1 py-3 text-lg",onClick:M,children:[a.jsx(c0,{className:"h-5 w-5 mr-2"}),"Book an independent inspector"]})]})]})]}),a.jsx(rP,{isOpen:x,onClose:()=>_(!1),property:s,inquiryType:y})]})})};function NG(r){return r==="private_user"?"private":"broker"}const CG=()=>{const{t:r}=Qe(),{user:e,profile:t}=Ci(),i=Ct(),[s,n]=b.useState(!1),[o,l]=b.useState([]),[c,d]=b.useState([]),[h,p]=b.useState({title:"",description:"",english_title:"",english_description:"",swedish_title:"",swedish_description:"",norwegian_title:"",norwegian_description:"",danish_title:"",danish_description:"",finnish_title:"",finnish_description:"",country:"",city:"",price:"",property_type:"",package_id:"",bedrooms:"",bathrooms:"",area:"",plot_area:"",distance_to_city:"",distance_to_sea:"",distance_to_lake:""}),[f,m]=b.useState(""),[g,v]=b.useState("");if(!e)return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:r("auth.sign_in")}),a.jsx("p",{className:"text-muted-foreground mb-8",children:r("list_property.sign_in_required","You need to be logged in to list a property.")}),a.jsx($,{onClick:()=>i("/login"),children:r("auth.sign_in")})]})});const x=S=>{const A=Array.from(S.target.files||[]);l(P=>[...P,...A].slice(0,10))},_=S=>{const A=Array.from(S.target.files||[]);d(P=>[...P,...A].slice(0,3))},y=S=>{l(A=>A.filter((P,R)=>R!==S))},w=S=>{d(A=>A.filter((P,R)=>R!==S))},k=async(S,A)=>{const P=[];for(const R of S){const I=`${Date.now()}-${Math.random().toString(36).slice(2,8)}-${R.name}`,{data:M,error:L}=await G.storage.from("property-images").upload(`${A}/${I}`,R);if(L)throw L;const{data:W}=G.storage.from("property-images").getPublicUrl(M.path);W!=null&&W.publicUrl&&P.push(W.publicUrl)}return P},E=async S=>{if(S.preventDefault(),!!e){n(!0),m(""),v("");try{const A=h;if(!A.title||!A.description||!A.country||!A.city||!A.price)throw new Error("Please fill in all required fields.");const P=Number(A.price);if(!Number.isFinite(P)||P<=0)throw new Error("Please enter a valid price.");const R=A.bedrooms?Number(A.bedrooms):null,I=A.bathrooms?Number(A.bathrooms):null,M=A.area?Number(A.area):null,L=A.plot_area?Number(A.plot_area):null,W=A.distance_to_city?Number(A.distance_to_city):null,U=A.distance_to_sea?Number(A.distance_to_sea):null,Y=A.distance_to_lake?Number(A.distance_to_lake):null,O=e.id,V=NG(t==null?void 0:t.role),D=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="broker"?"published":"pending",z={title:A.title.trim(),description:A.description.trim(),english_title:A.english_title?A.english_title.trim():null,english_description:A.english_description?A.english_description.trim():null,swedish_title:A.swedish_title?A.swedish_title.trim():null,swedish_description:A.swedish_description?A.swedish_description.trim():null,norwegian_title:A.norwegian_title?A.norwegian_title.trim():null,norwegian_description:A.norwegian_description?A.norwegian_description.trim():null,danish_title:A.danish_title?A.danish_title.trim():null,danish_description:A.danish_description?A.danish_description.trim():null,finnish_title:A.finnish_title?A.finnish_title.trim():null,finnish_description:A.finnish_description?A.finnish_description.trim():null,country:A.country.trim(),city:A.city.trim(),price:P,property_type:A.property_type?A.property_type.trim():null,package_id:A.package_id?A.package_id.trim():null,bedrooms:R,bathrooms:I,area:M,plot_area:L,distance_to_city:W,distance_to_sea:U,distance_to_lake:Y,seller_id:O,seller_type:V,owner_id:e.id,owner_type:V,status:D},F=G.from("properties").insert([z]).select("*").single(),B=new Promise((ie,H)=>setTimeout(()=>H(new Error("Request timeout")),2e4)),{data:J,error:te}=await Promise.race([F,B]);if(te)throw console.error("Insert error details:",te),te;if(!(J!=null&&J.id))throw new Error("Property creation returned no record. Please try again.");let re=[],q=[];try{o.length>0&&(re=await k(o,`images/${O}`)),c.length>0&&(q=await k(c,`videos/${O}`))}catch(ie){console.error("Media upload failed:",ie),me({title:"Property created, but media upload failed",description:(ie==null?void 0:ie.message)||"Please try adding images/videos later from your dashboard.",variant:"destructive"})}if(re&&re.length||q&&q.length){const{error:ie}=await G.from("properties").update({images:re&&re.length?re:null,videos:q&&q.length?q:null}).eq("id",J.id);ie&&console.error("Failed to update media URLs on property:",ie)}v("Property listed successfully!"),me({title:"Property listed successfully!",description:(t==null?void 0:t.role)==="private_user"?"Your property has been submitted. Our team will contact you soon to connect you with a professional broker.":"Your property has been published successfully and is now live."}),i("/dashboard")}catch(A){console.error("Full error details:",A);const P=(A==null?void 0:A.message)||(A==null?void 0:A.hint)||(A==null?void 0:A.details)||(A==null?void 0:A.error_description)||"Failed to list property.";m("Failed to list property: "+P),me({title:"Error listing property",description:P,variant:"destructive"})}finally{n(!1)}}};return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsx("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"mb-6",children:a.jsx(je,{variant:"secondary",className:"text-sm",children:(t==null?void 0:t.role)==="broker"?a.jsxs(a.Fragment,{children:[a.jsx(pn,{className:"h-4 w-4 mr-1"}),"Professional Broker Account"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ku,{className:"h-4 w-4 mr-1"}),"Private Seller Account"]})})}),a.jsxs("form",{onSubmit:E,className:"space-y-8",children:[a.jsxs(K,{children:[a.jsxs(Te,{children:[a.jsx(Re,{children:"Property Information"}),a.jsx(Vt,{children:"Provide the basic details about your property"})]}),a.jsxs(Q,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"title",children:"Property Title *"}),a.jsx(le,{id:"title",placeholder:"e.g., Luxury Villa with Sea View",value:h.title,onChange:S=>p({...h,title:S.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"description",children:"Description *"}),a.jsx(Ts,{id:"description",placeholder:"Describe your property in detail...",rows:4,value:h.description,onChange:S=>p({...h,description:S.target.value}),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"country",children:"Country *"}),a.jsxs(Ss,{value:h.country||"",onValueChange:S=>p({...h,country:S}),children:[a.jsx(Hi,{children:a.jsx(Es,{placeholder:"Select country"})}),a.jsxs(Gi,{children:[a.jsx(ke,{value:"Sweden",children:"Sweden"}),a.jsx(ke,{value:"Norway",children:"Norway"}),a.jsx(ke,{value:"Denmark",children:"Denmark"}),a.jsx(ke,{value:"Germany",children:"Germany"}),a.jsx(ke,{value:"France",children:"France"}),a.jsx(ke,{value:"Spain",children:"Spain"}),a.jsx(ke,{value:"Italy",children:"Italy"}),a.jsx(ke,{value:"Other",children:"Other"})]})]})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"city",children:"City *"}),a.jsx(le,{id:"city",placeholder:"e.g., Stockholm",value:h.city,onChange:S=>p({...h,city:S.target.value}),required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"price",children:"Price (EUR) *"}),a.jsx(le,{id:"price",type:"number",placeholder:"e.g., 850000",value:h.price,onChange:S=>p({...h,price:S.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"property_type",children:"Property Type"}),a.jsxs(Ss,{value:h.property_type||"",onValueChange:S=>p({...h,property_type:S}),children:[a.jsx(Hi,{children:a.jsx(Es,{placeholder:"Select type"})}),a.jsxs(Gi,{children:[a.jsx(ke,{value:"villa",children:"Villa"}),a.jsx(ke,{value:"apartment",children:"Apartment"}),a.jsx(ke,{value:"house",children:"House"}),a.jsx(ke,{value:"penthouse",children:"Penthouse"}),a.jsx(ke,{value:"commercial",children:"Commercial"}),a.jsx(ke,{value:"land",children:"Land"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"bedrooms",children:"Bedrooms"}),a.jsx(le,{id:"bedrooms",type:"number",placeholder:"e.g., 3",value:h.bedrooms,onChange:S=>p({...h,bedrooms:S.target.value}),min:"0"})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"bathrooms",children:"Bathrooms"}),a.jsx(le,{id:"bathrooms",type:"number",placeholder:"e.g., 2",value:h.bathrooms,onChange:S=>p({...h,bathrooms:S.target.value}),min:"0"})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"area",children:"Living Area (m)"}),a.jsx(le,{id:"area",type:"number",placeholder:"e.g., 150",value:h.area,onChange:S=>p({...h,area:S.target.value}),min:"0"})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"plot_area",children:"Plot Area (m)"}),a.jsx(le,{id:"plot_area",type:"number",placeholder:"e.g., 800",value:h.plot_area,onChange:S=>p({...h,plot_area:S.target.value}),min:"0"})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"distance_to_city",children:"Distance to City (m)"}),a.jsx(le,{id:"distance_to_city",type:"number",placeholder:"e.g., 5000",value:h.distance_to_city,onChange:S=>p({...h,distance_to_city:S.target.value}),min:"0"})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"distance_to_sea",children:"Distance to Sea (m)"}),a.jsx(le,{id:"distance_to_sea",type:"number",placeholder:"e.g., 200",value:h.distance_to_sea,onChange:S=>p({...h,distance_to_sea:S.target.value}),min:"0"})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"distance_to_lake",children:"Distance to Lake (m)"}),a.jsx(le,{id:"distance_to_lake",type:"number",placeholder:"e.g., 1000",value:h.distance_to_lake,onChange:S=>p({...h,distance_to_lake:S.target.value}),min:"0"})]})]})]})]}),a.jsxs(K,{children:[a.jsxs(Te,{children:[a.jsx(Re,{children:"Property Media"}),a.jsx(Vt,{children:"Upload high-quality images and videos of your property"})]}),a.jsxs(Q,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(ue,{children:"Images (Max 10)"}),a.jsxs("div",{className:"mt-2",children:[a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:x,className:"hidden",id:"image-upload"}),a.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer block w-full border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary transition-smooth",children:[a.jsx(Nd,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload images or drag and drop"})]})]}),o.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:o.map((S,A)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:URL.createObjectURL(S),alt:`Preview ${A+1}`,className:"w-full h-24 object-cover rounded-lg"}),a.jsx($,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:()=>y(A),children:a.jsx(mn,{className:"h-3 w-3"})})]},A))})]}),a.jsxs("div",{children:[a.jsx(ue,{children:"Videos (Max 3)"}),a.jsxs("div",{className:"mt-2",children:[a.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:_,className:"hidden",id:"video-upload"}),a.jsxs("label",{htmlFor:"video-upload",className:"cursor-pointer block w-full border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary transition-smooth",children:[a.jsx(Nd,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload videos or drag and drop"})]})]}),c.length>0&&a.jsx("div",{className:"space-y-2 mt-4",children:c.map((S,A)=>a.jsxs("div",{className:"flex items-center justify-between bg-muted p-3 rounded-lg",children:[a.jsx("span",{className:"text-sm",children:S.name}),a.jsx($,{type:"button",variant:"destructive",size:"sm",onClick:()=>w(A),children:a.jsx(mn,{className:"h-4 w-4"})})]},A))})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>i("/"),children:"Cancel"}),a.jsx($,{type:"submit",disabled:s,children:s?"Submitting...":"List Property"})]}),f&&a.jsx("div",{className:"text-red-600 mt-2",children:f}),g&&a.jsx("div",{className:"text-green-600 mt-2",children:g})]})]})})})},dg=[{id:"properties",label:"Properties",icon:Sc,path:"/properties",description:"Browse property listings"},{id:"articles",label:"Articles",icon:zi,path:"/articles",description:"Read news and blog posts"},{id:"forum",label:"Forum",icon:vC,path:"/forum",description:"Community discussions"},{id:"packages",label:"Packages",icon:H5,path:"/packages",description:"Service packages"},{id:"contact",label:"Contact",icon:_C,path:"/about",description:"Get in touch"}],Jr=({className:r,showFilters:e=!1,onFilterChange:t})=>{var d;const i=Ct(),s=bn();Qk();const o=(()=>{const h=s.pathname;return h==="/"||h.startsWith("/properties")?"properties":h.startsWith("/articles")?"articles":h.startsWith("/forum")?"forum":h.startsWith("/packages")?"packages":h.startsWith("/about")||h.startsWith("/contact")?"contact":"properties"})(),l=h=>{s.pathname!==h.path&&i(h.path)},c=()=>{};return a.jsx("div",{className:xe("border-b border-border bg-background/50 backdrop-blur-sm",r),children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("div",{className:"flex justify-center items-center py-3",children:a.jsxs(Fr,{to:"/",className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[a.jsx(Sc,{className:"h-8 w-8 text-primary"}),a.jsxs("span",{className:"text-2xl font-bold",children:[a.jsx("span",{className:"text-muted-foreground",children:"Via"}),a.jsx("span",{className:"text-primary",children:"Estate"})]})]})}),a.jsx("div",{className:"hidden md:flex items-center justify-center space-x-1 py-3",children:dg.map(h=>{const p=h.icon,f=o===h.id;return a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>l(h),className:xe("flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200","hover:bg-accent hover:text-accent-foreground",f&&"bg-primary text-primary-foreground shadow-sm border-primary"),role:"tab","aria-selected":f,children:[a.jsx(p,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:h.label}),f&&a.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]},h.id)})}),a.jsx("div",{className:"md:hidden flex justify-center py-3",children:a.jsxs(Fr,{to:"/",className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[a.jsx(Sc,{className:"h-6 w-6 text-primary"}),a.jsxs("span",{className:"text-lg font-bold",children:[a.jsx("span",{className:"text-muted-foreground",children:"Via"}),a.jsx("span",{className:"text-primary",children:"Estate"})]})]})}),a.jsx("div",{className:"md:hidden py-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:dg.map(h=>{const p=h.icon,f=o===h.id;return a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>l(h),className:xe("flex items-center gap-1 px-3 py-1.5 rounded-md text-xs",f&&"bg-primary text-primary-foreground"),role:"tab","aria-selected":f,children:[a.jsx(p,{className:"h-3 w-3"}),a.jsx("span",{children:h.label})]},h.id)})}),e&&a.jsx($,{variant:"outline",size:"sm",onClick:c,className:"ml-2 flex-shrink-0",children:"Filters"})]})}),e&&a.jsx("div",{className:"py-2 border-t border-border/50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:(()=>{const h=dg.find(f=>f.id===o),p=h==null?void 0:h.icon;return a.jsxs(a.Fragment,{children:[p&&a.jsx(p,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:h==null?void 0:h.description})]})})()}),a.jsx(je,{variant:"secondary",className:"text-xs",children:(d=dg.find(h=>h.id===o))==null?void 0:d.label})]})})]})})},PG=()=>{const[r,e]=b.useState({customer_name:"",customer_email:"",customer_phone:"",title:"",description:"",country:"",city:"",estimated_price:"",property_type:""}),[t,i]=b.useState([]),[s,n]=b.useState(!1),o=async c=>{c.preventDefault(),n(!0);try{const{data:d,error:h}=await G.from("property_requests").insert({...r,estimated_price:r.estimated_price?parseFloat(r.estimated_price):null,images:t}).select().single();if(h)throw h;me({title:"Property Request Submitted!",description:"Your property request has been submitted. Agents will be able to claim it and contact you directly."}),e({customer_name:"",customer_email:"",customer_phone:"",title:"",description:"",country:"",city:"",estimated_price:"",property_type:""}),i([])}catch(d){me({title:"Error submitting request",description:d instanceof Error?d.message:"An unexpected error occurred",variant:"destructive"})}finally{n(!1)}},l=(c,d)=>{e(h=>({...h,[c]:d}))};return a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs(K,{children:[a.jsxs(Te,{children:[a.jsxs(Re,{className:"flex items-center",children:[a.jsx(Po,{className:"h-6 w-6 mr-2"}),"Submit Your Property Request"]}),a.jsx("p",{className:"text-muted-foreground",children:"Submit your property details and get connected with professional real estate agents who will handle the listing for you."})]}),a.jsx(Q,{children:a.jsxs("form",{onSubmit:o,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Contact Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"name",children:"Full Name *"}),a.jsx(le,{id:"name",value:r.customer_name,onChange:c=>l("customer_name",c.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"email",children:"Email Address *"}),a.jsx(le,{id:"email",type:"email",value:r.customer_email,onChange:c=>l("customer_email",c.target.value),required:!0})]})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"phone",children:"Phone Number"}),a.jsx(le,{id:"phone",value:r.customer_phone,onChange:c=>l("customer_phone",c.target.value)})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Property Information"}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"title",children:"Property Title *"}),a.jsx(le,{id:"title",placeholder:"e.g., Modern 3-bedroom apartment with sea view",value:r.title,onChange:c=>l("title",c.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"description",children:"Property Description *"}),a.jsx(Ts,{id:"description",placeholder:"Describe your property in detail...",value:r.description,onChange:c=>l("description",c.target.value),rows:4,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"country",children:"Country *"}),a.jsx(le,{id:"country",value:r.country,onChange:c=>l("country",c.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"city",children:"City *"}),a.jsx(le,{id:"city",value:r.city,onChange:c=>l("city",c.target.value),required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"type",children:"Property Type *"}),a.jsxs(Ss,{value:r.property_type,onValueChange:c=>l("property_type",c),children:[a.jsx(Hi,{children:a.jsx(Es,{placeholder:"Select property type"})}),a.jsxs(Gi,{children:[a.jsx(ke,{value:"apartment",children:"Apartment"}),a.jsx(ke,{value:"house",children:"House"}),a.jsx(ke,{value:"villa",children:"Villa"}),a.jsx(ke,{value:"townhouse",children:"Townhouse"}),a.jsx(ke,{value:"penthouse",children:"Penthouse"}),a.jsx(ke,{value:"studio",children:"Studio"}),a.jsx(ke,{value:"commercial",children:"Commercial Property"}),a.jsx(ke,{value:"land",children:"Land"}),a.jsx(ke,{value:"other",children:"Other"})]})]})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"price",children:"Estimated Price (EUR)"}),a.jsx(le,{id:"price",type:"number",placeholder:"0",value:r.estimated_price,onChange:c=>l("estimated_price",c.target.value)})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Property Images"}),a.jsxs("div",{className:"border-2 border-dashed border-muted rounded-lg p-6 text-center",children:[a.jsx(Nd,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground mb-2",children:"Upload property images"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Images will help agents understand your property better"}),a.jsx($,{type:"button",variant:"outline",className:"mt-2",disabled:!0,children:"Upload Images (Coming Soon)"})]})]}),a.jsxs("div",{className:"pt-4",children:[a.jsx($,{type:"submit",size:"lg",className:"w-full",disabled:s,children:s?"Submitting...":a.jsxs(a.Fragment,{children:[a.jsx(bm,{className:"h-4 w-4 mr-2"}),"Submit Property Request"]})}),a.jsx("p",{className:"text-sm text-muted-foreground mt-3 text-center",children:"After submission, qualified agents will be able to claim your property and contact you directly to assist with the listing process."})]})]})})]})})},TG=()=>{const{t:r}=Qe();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Jr,{}),a.jsxs("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:r("submit_property.title","Submit Your Property")}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:r("submit_property.subtitle","List your property with professional assistance from our certified real estate agents")})]}),a.jsx(PG,{})]})]})};var RG=Symbol("radix.slottable");function IG(r){const e=({children:t})=>a.jsx(a.Fragment,{children:t});return e.displayName=`${r}.Slottable`,e.__radixId=RG,e}var LT="AlertDialog",[DG]=Ho(LT,[LC]),Ea=LC(),MT=r=>{const{__scopeAlertDialog:e,...t}=r,i=Ea(e);return a.jsx(_0,{...i,...t,modal:!0})};MT.displayName=LT;var FG="AlertDialogTrigger",OT=b.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...i}=r,s=Ea(t);return a.jsx(y0,{...s,...i,ref:e})});OT.displayName=FG;var LG="AlertDialogPortal",$T=r=>{const{__scopeAlertDialog:e,...t}=r,i=Ea(e);return a.jsx(x0,{...i,...t})};$T.displayName=LG;var MG="AlertDialogOverlay",VT=b.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...i}=r,s=Ea(t);return a.jsx(wm,{...s,...i,ref:e})});VT.displayName=MG;var Td="AlertDialogContent",[OG,$G]=DG(Td),VG=IG("AlertDialogContent"),zT=b.forwardRef((r,e)=>{const{__scopeAlertDialog:t,children:i,...s}=r,n=Ea(t),o=b.useRef(null),l=st(e,o),c=b.useRef(null);return a.jsx(Cq,{contentName:Td,titleName:BT,docsSlug:"alert-dialog",children:a.jsx(OG,{scope:t,cancelRef:c,children:a.jsxs(km,{role:"alertdialog",...n,...s,ref:l,onOpenAutoFocus:De(s.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[a.jsx(VG,{children:i}),a.jsx(BG,{contentRef:o})]})})})});zT.displayName=Td;var BT="AlertDialogTitle",UT=b.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...i}=r,s=Ea(t);return a.jsx(jm,{...s,...i,ref:e})});UT.displayName=BT;var qT="AlertDialogDescription",HT=b.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...i}=r,s=Ea(t);return a.jsx(Sm,{...s,...i,ref:e})});HT.displayName=qT;var zG="AlertDialogAction",GT=b.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...i}=r,s=Ea(t);return a.jsx(H_,{...s,...i,ref:e})});GT.displayName=zG;var WT="AlertDialogCancel",KT=b.forwardRef((r,e)=>{const{__scopeAlertDialog:t,...i}=r,{cancelRef:s}=$G(WT,t),n=Ea(t),o=st(e,s);return a.jsx(H_,{...n,...i,ref:o})});KT.displayName=WT;var BG=({contentRef:r})=>{const e=`\`${Td}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Td}\` by passing a \`${qT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Td}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var i;document.getElementById((i=r.current)==null?void 0:i.getAttribute("aria-describedby"))||console.warn(e)},[e,r]),null},UG=MT,qG=OT,HG=$T,YT=VT,XT=zT,JT=GT,QT=KT,ZT=UT,e2=HT;const t2=UG,GG=qG,WG=HG,r2=b.forwardRef(({className:r,...e},t)=>a.jsx(YT,{className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...e,ref:t}));r2.displayName=YT.displayName;const D0=b.forwardRef(({className:r,...e},t)=>a.jsxs(WG,{children:[a.jsx(r2,{}),a.jsx(XT,{ref:t,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...e})]}));D0.displayName=XT.displayName;const F0=({className:r,...e})=>a.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",r),...e});F0.displayName="AlertDialogHeader";const L0=({className:r,...e})=>a.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...e});L0.displayName="AlertDialogFooter";const M0=b.forwardRef(({className:r,...e},t)=>a.jsx(ZT,{ref:t,className:xe("text-lg font-semibold",r),...e}));M0.displayName=ZT.displayName;const O0=b.forwardRef(({className:r,...e},t)=>a.jsx(e2,{ref:t,className:xe("text-sm text-muted-foreground",r),...e}));O0.displayName=e2.displayName;const $0=b.forwardRef(({className:r,...e},t)=>a.jsx(JT,{ref:t,className:xe(o0(),r),...e}));$0.displayName=JT.displayName;const V0=b.forwardRef(({className:r,...e},t)=>a.jsx(QT,{ref:t,className:xe(o0({variant:"outline"}),"mt-2 sm:mt-0",r),...e}));V0.displayName=QT.displayName;const KG=()=>{const{user:r,profile:e}=Ci(),{t}=Qe(),i=Ct(),[s,n]=b.useState([]),[o,l]=b.useState([]),[c,d]=b.useState(!0),[h,p]=b.useState(null),[f,m]=b.useState(null);b.useEffect(()=>{r&&g()},[r]);const g=async()=>{if(r)try{const S=`
        id, title, description, country, city, price, property_type,
        images, seller_id, seller_type, status, created_at, updated_at
      `,{data:A,error:P}=await G.from("properties").select(S).eq("seller_id",r.id).order("created_at",{ascending:!1});if(P)if(console.error("Error fetching properties:",P),P.message.includes("column")||P.message.includes("does not exist")){const I=G.from("properties").select("id, title, description, country, city, price, images, seller_type, status, created_at").eq("seller_id",r.id).order("created_at",{ascending:!1}),{data:M,error:L}=await I;if(L)throw L;n(M||[])}else throw P;else n(A||[]);const R=(A==null?void 0:A.map(I=>I.id))||[];if(R.length>0){const{data:I,error:M}=await G.from("leads").select("*").in("property_id",R).order("created_at",{ascending:!1});if(M)throw M;l(I||[])}}catch(S){me({title:t("dashboard.error_loading","Error loading dashboard"),description:S.message,variant:"destructive"})}finally{d(!1)}},v=async()=>{if(h)try{const{error:S}=await G.from("properties").delete().eq("id",h.id);if(S)throw S;n(s.filter(A=>A.id!==h.id)),me({title:t("dashboard.property_deleted","Property Deleted"),description:t("dashboard.property_deleted_desc",`"${h==null?void 0:h.title}" has been successfully deleted.`)})}catch(S){me({title:"Error deleting property",description:S.message,variant:"destructive"})}finally{p(null)}},x=S=>{switch(S){case"published":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},_=S=>`${S.toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:0})}`;if(!r)return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Jr,{}),a.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:t("dashboard.please_sign_in","Please Sign In")}),a.jsx("p",{className:"text-muted-foreground mb-8",children:t("dashboard.sign_in_required","You need to be logged in to access the dashboard.")}),a.jsx($,{onClick:()=>i("/login"),children:t("dashboard.sign_in","Sign In")})]})]});if(c)return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Jr,{}),a.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[a.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:t("dashboard.loading","Loading dashboard...")})]})]});const y=s.filter(S=>S.status==="published"),w=s.filter(S=>S.status==="pending"),k=o.length,E=o.slice(0,5);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Jr,{}),a.jsxs("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Sc,{className:"h-10 w-10 text-primary"}),a.jsxs("span",{className:"text-3xl font-bold",children:[a.jsx("span",{className:"text-muted-foreground",children:"Via"}),a.jsx("span",{className:"text-primary",children:"Estate"})]})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold mb-2",children:t("dashboard.dashboard","Dashboard")}),a.jsxs("p",{className:"text-xl text-muted-foreground",children:[t("dashboard.welcome_back","Welcome back,")," ",e==null?void 0:e.full_name]}),a.jsx(je,{variant:"secondary",className:"mt-2",children:(e==null?void 0:e.role)==="broker"?t("dashboard.professional_broker","Professional Broker"):t("dashboard.private_seller","Private Seller")})]})]}),a.jsxs($,{onClick:()=>i("/list-property"),children:[a.jsx(ga,{className:"h-4 w-4 mr-2"}),t("dashboard.list_new_property","List New Property")]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(K,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pn,{className:"h-8 w-8 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:t("dashboard.total_properties","Total Properties")}),a.jsx("p",{className:"text-2xl font-bold",children:s.length})]})]})})}),a.jsx(K,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(vn,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:t("dashboard.published","Published")}),a.jsx("p",{className:"text-2xl font-bold",children:y.length})]})]})})}),a.jsx(K,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fn,{className:"h-8 w-8 text-yellow-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:t("dashboard.pending_approval","Pending Approval")}),a.jsx("p",{className:"text-2xl font-bold",children:w.length})]})]})})}),a.jsx(K,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ku,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:t("dashboard.total_leads","Total Leads")}),a.jsx("p",{className:"text-2xl font-bold",children:k})]})]})})})]}),a.jsxs(W_,{defaultValue:"properties",className:"space-y-6",children:[a.jsxs(Am,{children:[a.jsx(zt,{value:"properties",children:t("dashboard.my_properties","My Properties")}),a.jsx(zt,{value:"ongoing",children:t("dashboard.ongoing","Ongoing")}),a.jsx(zt,{value:"leads",children:t("dashboard.leads","Leads")}),a.jsx(zt,{value:"analytics",children:t("dashboard.analytics","Analytics")})]}),a.jsx(Bt,{value:"properties",className:"space-y-6",children:a.jsxs(K,{children:[a.jsxs(Te,{children:[a.jsx(Re,{children:t("dashboard.property_management","Property Management")}),a.jsx(Vt,{children:t("dashboard.manage_listings","Manage your property listings and track their status")})]}),a.jsx(Q,{children:s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(pn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No properties yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Get started by listing your first property"}),a.jsxs($,{onClick:()=>i("/list-property"),children:[a.jsx(ga,{className:"h-4 w-4 mr-2"}),"List Your First Property"]})]}):a.jsx("div",{className:"space-y-4",children:s.map(S=>a.jsx(K,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("div",{className:"w-24 h-16 bg-muted rounded-lg flex-shrink-0",children:S.images&&S.images.length>0?a.jsx("img",{src:S.images[0],alt:S.title,className:"w-full h-full object-cover rounded-lg"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(pn,{className:"h-6 w-6 text-muted-foreground"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:S.title}),a.jsxs("p",{className:"text-muted-foreground",children:[S.city,", ",S.country]}),a.jsx("p",{className:"text-lg font-bold text-primary",children:_(S.price)}),a.jsxs("div",{className:"flex flex-col items-start space-y-1",children:[a.jsx(je,{className:x(S.status),children:S.status}),S.status==="rejected"&&S.rejection_reason&&a.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Reason: ",S.rejection_reason]})]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx($,{variant:"outline",size:"sm",onClick:()=>m(S),children:a.jsx(vn,{className:"h-4 w-4"})}),a.jsx($,{variant:"outline",size:"sm",onClick:()=>i(`/edit-property/${S.id}`),children:a.jsx(np,{className:"h-4 w-4"})}),a.jsx($,{variant:"outline",size:"sm",className:"text-destructive",onClick:()=>p(S),children:a.jsx(ap,{className:"h-4 w-4"})})]})]})})},S.id))})})]})}),a.jsx(Bt,{value:"ongoing",className:"space-y-6",children:a.jsxs(K,{children:[a.jsxs(Te,{children:[a.jsx(Re,{children:"Ongoing Matters"}),a.jsx(Vt,{children:"Pending approvals and newest leads"})]}),a.jsx(Q,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(fn,{className:"h-4 w-4"})," Pending Properties"]}),w.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No pending properties."}):a.jsx("div",{className:"space-y-3",children:w.map(S=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded border",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:S.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[S.city,", ",S.country]})]}),a.jsx(je,{className:x(S.status),children:S.status})]},S.id))})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Wu,{className:"h-4 w-4"})," Newest Leads"]}),E.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No leads yet."}):a.jsx("div",{className:"space-y-3",children:E.slice(0,5).map(S=>a.jsxs("div",{className:"p-3 rounded border",children:[a.jsx("p",{className:"font-medium",children:S.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:S.email}),a.jsx("p",{className:"text-sm mt-1 line-clamp-2",children:S.message})]},S.id))})]})]})})]})}),a.jsx(Bt,{value:"leads",className:"space-y-6",children:a.jsxs(K,{children:[a.jsxs(Te,{children:[a.jsx(Re,{children:"Recent Leads"}),a.jsx(Vt,{children:"People interested in your properties"})]}),a.jsx(Q,{children:E.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Wu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No leads yet"}),a.jsx("p",{className:"text-muted-foreground",children:"Leads will appear here when people contact you about your properties"})]}):a.jsx("div",{className:"space-y-4",children:E.map(S=>a.jsx(K,{children:a.jsx(Q,{className:"p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:S.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:S.email}),S.phone&&a.jsx("p",{className:"text-sm text-muted-foreground",children:S.phone}),a.jsx("p",{className:"text-sm mt-2",children:S.message})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(S.created_at).toLocaleDateString()}),a.jsx($,{size:"sm",className:"mt-2",onClick:()=>window.open(`mailto:${S.email}?subject=Regarding your property inquiry&body=Hi ${S.name},%0A%0AThank you for your interest in my property. I'd be happy to discuss the details with you.%0A%0ABest regards,%0A${(e==null?void 0:e.full_name)||"Property Owner"}`,"_blank"),children:"Contact Lead"})]})]})})},S.id))})})]})}),a.jsx(Bt,{value:"analytics",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(K,{children:[a.jsx(Te,{children:a.jsxs(Re,{className:"flex items-center space-x-2",children:[a.jsx(Nb,{className:"h-5 w-5"}),a.jsx("span",{children:"Performance Overview"})]})}),a.jsx(Q,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total Property Views"}),a.jsx("span",{className:"font-semibold",children:"2,341"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Leads This Month"}),a.jsx("span",{className:"font-semibold",children:k})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Average Response Time"}),a.jsx("span",{className:"font-semibold",children:"2.3 hours"})]})]})})]}),a.jsxs(K,{children:[a.jsx(Te,{children:a.jsxs(Re,{className:"flex items-center space-x-2",children:[a.jsx(_c,{className:"h-5 w-5"}),a.jsx("span",{children:"Financial Overview"})]})}),a.jsx(Q,{children:a.jsx("p",{className:"text-muted-foreground",children:"Coming soon..."})})]})]})})]})]}),a.jsx(t2,{open:!!h,onOpenChange:S=>!S&&p(null),children:a.jsxs(D0,{children:[a.jsxs(F0,{children:[a.jsx(M0,{children:"Are you sure you want to delete this property?"}),a.jsxs(O0,{children:['This action cannot be undone. This will permanently delete the property "',h==null?void 0:h.title,'" and all associated data.']})]}),a.jsxs(L0,{children:[a.jsx(V0,{children:"Cancel"}),a.jsx($0,{onClick:v,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),a.jsx(iP,{property:f,isOpen:!!f,onClose:()=>m(null)})]})},YG=()=>{const{user:r,profile:e}=Ci(),{t}=Qe(),i=Ct(),{id:s}=Ji(),[n,o]=b.useState(null),[l,c]=b.useState(!0),[d,h]=b.useState(!1),[p,f]=b.useState([]),[m,g]=b.useState({title:"",description:"",english_title:"",english_description:"",swedish_title:"",swedish_description:"",norwegian_title:"",norwegian_description:"",danish_title:"",danish_description:"",finnish_title:"",finnish_description:"",country:"",city:"",price:"",property_type:"",property_type_detail:"",bedrooms:"",bathrooms:"",area:"",plot_area:"",distance_to_city:"",distance_to_sea:"",distance_to_lake:"",listing_type:"sale",status:"draft",owner_id:""});b.useEffect(()=>{if(!r){i("/login");return}},[r,i]),b.useEffect(()=>{r&&s&&(v(),(e==null?void 0:e.role)==="admin"&&x())},[r,s,e==null?void 0:e.role]);const v=async()=>{if(s)try{c(!0);const k=`
         id, title, description, english_description,
         swedish_title, swedish_description, norwegian_title, norwegian_description,
         danish_title, danish_description, finnish_title, finnish_description,
         country, city, price, property_type,
         property_type_detail, bedrooms, bathrooms, area, plot_area,
         distance_to_city, distance_to_sea, distance_to_lake, listing_type,
         images, seller_id, seller_type, owner_id, owner_type, status, created_at, updated_at
       `,{data:E,error:S}=await G.from("properties").select(k).eq("id",s).single();if(S)if(S.message.includes("column")||S.message.includes("does not exist")){const{data:A,error:P}=await G.from("properties").select("id, title, description, country, city, price, images, owner_type, status, created_at").eq("id",s).single();if(P)throw P;o(A)}else throw S;else o(E)}catch(k){console.error("Error fetching property:",k),me({title:"Error",description:"Failed to load property details.",variant:"destructive"}),i("/dashboard")}finally{c(!1)}},x=async()=>{try{const{data:k,error:E}=await G.from("profiles").select("id, email, full_name, role").order("full_name");if(E)throw E;f(k||[])}catch(k){console.error("Error fetching users:",k)}};b.useEffect(()=>{var k,E,S,A,P,R,I,M;n&&g({title:n.title||"",description:n.description||"",english_title:n.english_title||"",english_description:n.english_description||"",swedish_title:n.swedish_title||"",swedish_description:n.swedish_description||"",norwegian_title:n.norwegian_title||"",norwegian_description:n.norwegian_description||"",danish_title:n.danish_title||"",danish_description:n.danish_description||"",finnish_title:n.finnish_title||"",finnish_description:n.finnish_description||"",country:n.country||"",city:n.city||"",price:((k=n.price)==null?void 0:k.toString())||"",property_type:n.property_type||"",property_type_detail:n.property_type_detail||"",bedrooms:((E=n.bedrooms)==null?void 0:E.toString())||"",bathrooms:((S=n.bathrooms)==null?void 0:S.toString())||"",area:((A=n.area)==null?void 0:A.toString())||"",plot_area:((P=n.plot_area)==null?void 0:P.toString())||"",distance_to_city:((R=n.distance_to_city)==null?void 0:R.toString())||"",distance_to_sea:((I=n.distance_to_sea)==null?void 0:I.toString())||"",distance_to_lake:((M=n.distance_to_lake)==null?void 0:M.toString())||"",listing_type:n.listing_type||"sale",status:n.status||"draft",owner_id:n.owner_id||""})},[n]);const _=async k=>{if(k.preventDefault(),!(!n||!r)){if(!m.title||!m.description||!m.country||!m.city||!m.price){me({title:"Missing fields",description:"Please fill in all required fields.",variant:"destructive"});return}try{h(!0);const E={title:m.title,description:m.description,english_title:m.english_title||null,english_description:m.english_description||null,swedish_title:m.swedish_title||null,swedish_description:m.swedish_description||null,norwegian_title:m.norwegian_title||null,norwegian_description:m.norwegian_description||null,danish_title:m.danish_title||null,danish_description:m.danish_description||null,finnish_title:m.finnish_title||null,finnish_description:m.finnish_description||null,country:m.country,city:m.city,price:parseFloat(m.price),property_type:m.property_type||null,property_type_detail:m.property_type_detail||null,bedrooms:m.bedrooms?parseInt(m.bedrooms):null,bathrooms:m.bathrooms?parseInt(m.bathrooms):null,area:m.area?parseInt(m.area):null,plot_area:m.plot_area?parseInt(m.plot_area):null,distance_to_city:m.distance_to_city?parseInt(m.distance_to_city):null,distance_to_sea:m.distance_to_sea?parseInt(m.distance_to_sea):null,distance_to_lake:m.distance_to_lake?parseInt(m.distance_to_lake):null,listing_type:m.listing_type,status:m.status,updated_at:new Date().toISOString()};(e==null?void 0:e.role)==="admin"&&m.owner_id&&(E.owner_id=m.owner_id);const{error:S}=await G.from("properties").update(E).eq("id",n.id);if(S)throw S;me({title:"Property Updated",description:"Your property has been successfully updated."}),i("/dashboard")}catch(E){console.error("Error updating property:",E),me({title:"Error",description:E.message||"Failed to update property.",variant:"destructive"})}finally{h(!1)}}},y=(k,E)=>{g(S=>({...S,[k]:E}))};return r?l?a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Jr,{}),a.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[a.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading property..."})]})]}):n?(e==null?void 0:e.role)==="admin"||n.owner_id===r.id||n.seller_id===r.id?a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Jr,{}),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs($,{variant:"ghost",onClick:()=>i("/dashboard"),className:"mb-4",children:[a.jsx(Ov,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),a.jsx("h1",{className:"text-3xl font-bold mb-2",children:t("edit_property.title","Edit Property")}),a.jsx("p",{className:"text-muted-foreground",children:t("edit_property.subtitle","Update your property information")})]}),a.jsxs(K,{className:"max-w-4xl mx-auto",children:[a.jsx(Te,{children:a.jsx(Re,{children:t("edit_property.details","Property Details")})}),a.jsx(Q,{children:a.jsxs("form",{onSubmit:_,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"text-sm font-medium mb-2 block",children:[t("edit_property.title_label","Property Title")," *"]}),a.jsx(le,{value:m.title,onChange:k=>y("title",k.target.value),placeholder:t("edit_property.title_placeholder","Enter property title"),required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"text-sm font-medium mb-2 block",children:[t("edit_property.description_label","Description")," *"]}),a.jsx(Ts,{value:m.description,onChange:k=>y("description",k.target.value),placeholder:t("edit_property.description_placeholder","Enter property description"),rows:4,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium mb-2 block",children:[t("edit_property.country_label","Country")," *"]}),a.jsx(le,{value:m.country,onChange:k=>y("country",k.target.value),placeholder:t("edit_property.country_placeholder","Enter country"),required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium mb-2 block",children:[t("edit_property.city_label","City")," *"]}),a.jsx(le,{value:m.city,onChange:k=>y("city",k.target.value),placeholder:t("edit_property.city_placeholder","Enter city"),required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium mb-2 block",children:[t("edit_property.price_label","Price")," *"]}),a.jsx(le,{type:"number",value:m.price,onChange:k=>y("price",k.target.value),placeholder:t("edit_property.price_placeholder","Enter price"),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:t("edit_property.type_label","Property Type")}),a.jsx(le,{value:m.property_type,onChange:k=>y("property_type",k.target.value),placeholder:t("edit_property.type_placeholder","e.g., Apartment, House, Villa")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Property Type Detail"}),a.jsx(le,{value:m.property_type_detail,onChange:k=>y("property_type_detail",k.target.value),placeholder:"e.g., Luxury Villa, Studio Apartment"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Bedrooms"}),a.jsx(le,{type:"number",value:m.bedrooms,onChange:k=>y("bedrooms",k.target.value),placeholder:"Number of bedrooms"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Bathrooms"}),a.jsx(le,{type:"number",value:m.bathrooms,onChange:k=>y("bathrooms",k.target.value),placeholder:"Number of bathrooms"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Living Area (m)"}),a.jsx(le,{type:"number",value:m.area,onChange:k=>y("area",k.target.value),placeholder:"Living area in square meters"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Plot Area (m)"}),a.jsx(le,{type:"number",value:m.plot_area,onChange:k=>y("plot_area",k.target.value),placeholder:"Plot area in square meters"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Distance to City (m)"}),a.jsx(le,{type:"number",value:m.distance_to_city,onChange:k=>y("distance_to_city",k.target.value),placeholder:"Distance to city center in meters"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Distance to Sea (m)"}),a.jsx(le,{type:"number",value:m.distance_to_sea,onChange:k=>y("distance_to_sea",k.target.value),placeholder:"Distance to sea in meters"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Distance to Lake (m)"}),a.jsx(le,{type:"number",value:m.distance_to_lake,onChange:k=>y("distance_to_lake",k.target.value),placeholder:"Distance to lake in meters"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Listing Type"}),a.jsxs(Ss,{value:m.listing_type,onValueChange:k=>y("listing_type",k),children:[a.jsx(Hi,{children:a.jsx(Es,{})}),a.jsxs(Gi,{children:[a.jsx(ke,{value:"sale",children:"For Sale"}),a.jsx(ke,{value:"rent",children:"For Rent"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),a.jsxs(Ss,{value:m.status,onValueChange:k=>y("status",k),children:[a.jsx(Hi,{children:a.jsx(Es,{})}),a.jsxs(Gi,{children:[a.jsx(ke,{value:"draft",children:"Draft"}),a.jsx(ke,{value:"pending",children:"Pending"}),a.jsx(ke,{value:"published",children:"Published"}),a.jsx(ke,{value:"rejected",children:"Rejected"})]})]})]}),(e==null?void 0:e.role)==="admin"&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Property Owner"}),a.jsxs(Ss,{value:m.owner_id,onValueChange:k=>y("owner_id",k),children:[a.jsx(Hi,{children:a.jsx(Es,{placeholder:"Select property owner"})}),a.jsx(Gi,{children:p.map(k=>a.jsxs(ke,{value:k.id,children:[k.full_name||k.email," (",k.role,")"]},k.id))})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsxs($,{type:"button",variant:"outline",onClick:()=>i("/dashboard"),disabled:d,children:[a.jsx(mn,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs($,{type:"submit",disabled:d,children:[a.jsx(xC,{className:"h-4 w-4 mr-2"}),d?"Saving...":"Save Changes"]})]})]})})]})]})]}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Jr,{}),a.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"You don't have permission to edit this property."}),a.jsx($,{onClick:()=>i("/dashboard"),children:"Back to Dashboard"})]})]}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Jr,{}),a.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Property Not Found"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"The property you're trying to edit doesn't exist or you don't have permission to edit it."}),a.jsx($,{onClick:()=>i("/dashboard"),children:"Back to Dashboard"})]})]}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Jr,{}),a.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Please Sign In"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"You need to be logged in to edit properties."}),a.jsx($,{onClick:()=>i("/login"),children:"Sign In"})]})]})};var ty="Checkbox",[XG]=Ho(ty),[JG,z0]=XG(ty);function QG(r){const{__scopeCheckbox:e,checked:t,children:i,defaultChecked:s,disabled:n,form:o,name:l,onCheckedChange:c,required:d,value:h="on",internal_do_not_use_render:p}=r,[f,m]=Yu({prop:t,defaultProp:s??!1,onChange:c,caller:ty}),[g,v]=b.useState(null),[x,_]=b.useState(null),y=b.useRef(!1),w=g?!!o||!!g.closest("form"):!0,k={checked:f,disabled:n,setChecked:m,control:g,setControl:v,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:y,required:d,defaultChecked:Ro(s)?!1:s,isFormControl:w,bubbleInput:x,setBubbleInput:_};return a.jsx(JG,{scope:e,...k,children:ZG(p)?p(k):i})}var i2="CheckboxTrigger",s2=b.forwardRef(({__scopeCheckbox:r,onKeyDown:e,onClick:t,...i},s)=>{const{control:n,value:o,disabled:l,checked:c,required:d,setControl:h,setChecked:p,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:g}=z0(i2,r),v=st(s,h),x=b.useRef(c);return b.useEffect(()=>{const _=n==null?void 0:n.form;if(_){const y=()=>p(x.current);return _.addEventListener("reset",y),()=>_.removeEventListener("reset",y)}},[n,p]),a.jsx(Oe.button,{type:"button",role:"checkbox","aria-checked":Ro(c)?"mixed":c,"aria-required":d,"data-state":c2(c),"data-disabled":l?"":void 0,disabled:l,value:o,...i,ref:v,onKeyDown:De(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:De(t,_=>{p(y=>Ro(y)?!0:!y),g&&m&&(f.current=_.isPropagationStopped(),f.current||_.stopPropagation())})})});s2.displayName=i2;var B0=b.forwardRef((r,e)=>{const{__scopeCheckbox:t,name:i,checked:s,defaultChecked:n,required:o,disabled:l,value:c,onCheckedChange:d,form:h,...p}=r;return a.jsx(QG,{__scopeCheckbox:t,checked:s,defaultChecked:n,disabled:l,required:o,onCheckedChange:d,name:i,form:h,value:c,internal_do_not_use_render:({isFormControl:f})=>a.jsxs(a.Fragment,{children:[a.jsx(s2,{...p,ref:e,__scopeCheckbox:t}),f&&a.jsx(l2,{__scopeCheckbox:t})]})})});B0.displayName=ty;var n2="CheckboxIndicator",a2=b.forwardRef((r,e)=>{const{__scopeCheckbox:t,forceMount:i,...s}=r,n=z0(n2,t);return a.jsx(ah,{present:i||Ro(n.checked)||n.checked===!0,children:a.jsx(Oe.span,{"data-state":c2(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...r.style}})})});a2.displayName=n2;var o2="CheckboxBubbleInput",l2=b.forwardRef(({__scopeCheckbox:r,...e},t)=>{const{control:i,hasConsumerStoppedPropagationRef:s,checked:n,defaultChecked:o,required:l,disabled:c,name:d,value:h,form:p,bubbleInput:f,setBubbleInput:m}=z0(o2,r),g=st(t,m),v=WP(n),x=LP(i);b.useEffect(()=>{const y=f;if(!y)return;const w=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(w,"checked").set,S=!s.current;if(v!==n&&E){const A=new Event("click",{bubbles:S});y.indeterminate=Ro(n),E.call(y,Ro(n)?!1:n),y.dispatchEvent(A)}},[f,v,n,s]);const _=b.useRef(Ro(n)?!1:n);return a.jsx(Oe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:l,disabled:c,name:d,value:h,form:p,...e,tabIndex:-1,ref:g,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});l2.displayName=o2;function ZG(r){return typeof r=="function"}function Ro(r){return r==="indeterminate"}function c2(r){return Ro(r)?"indeterminate":r?"checked":"unchecked"}const U0=b.forwardRef(({className:r,...e},t)=>a.jsx(B0,{ref:t,className:xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...e,children:a.jsx(a2,{className:xe("flex items-center justify-center text-current"),children:a.jsx(sp,{className:"h-4 w-4"})})}));U0.displayName=B0.displayName;var eW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tW=eW.reduce((r,e)=>{const t=n0(`Primitive.${e}`),i=b.forwardRef((s,n)=>{const{asChild:o,...l}=s,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:n})});return i.displayName=`Primitive.${e}`,{...r,[e]:i}},{}),rW="Separator",OE="horizontal",iW=["horizontal","vertical"],d2=b.forwardRef((r,e)=>{const{decorative:t,orientation:i=OE,...s}=r,n=sW(i)?i:OE,l=t?{role:"none"}:{"aria-orientation":n==="vertical"?n:void 0,role:"separator"};return a.jsx(tW.div,{"data-orientation":n,...l,...s,ref:e})});d2.displayName=rW;function sW(r){return iW.includes(r)}var u2=d2;const Vb=b.forwardRef(({className:r,orientation:e="horizontal",decorative:t=!0,...i},s)=>a.jsx(u2,{ref:s,decorative:t,orientation:e,className:xe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r),...i}));Vb.displayName=u2.displayName;const nW=({lead:r,isOpen:e,onClose:t})=>{var d;const[i,s]=b.useState(null),[n,o]=b.useState(!1);b.useEffect(()=>{r!=null&&r.property_id&&e?l():s(null)},[r==null?void 0:r.property_id,e]);const l=async()=>{if(r!=null&&r.property_id){o(!0);try{const{data:h,error:p}=await G.from("properties").select("*").eq("id",r.property_id).single();if(p)throw p;s(h)}catch(h){console.error("Error fetching property details:",h)}finally{o(!1)}}};if(!r)return null;const c=h=>{switch(h){case"new":return"bg-blue-100 text-blue-800";case"contacted":return"bg-yellow-100 text-yellow-800";case"converted":return"bg-green-100 text-green-800";case"lost":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a.jsx(cn,{open:e,onOpenChange:t,children:a.jsxs(ws,{className:"sm:max-w-2xl",children:[a.jsx(ks,{children:a.jsxs(js,{className:"flex items-center gap-2",children:[a.jsx(vn,{className:"h-5 w-5"}),"Lead Details"]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Lead Information"}),a.jsx(je,{className:c(r.status),children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(va,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:r.name})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yc,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("a",{href:`mailto:${r.email}`,className:"text-blue-600 hover:underline",children:r.email})]}),r.phone&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_C,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("a",{href:`tel:${r.phone}`,className:"text-blue-600 hover:underline",children:r.phone})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fn,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Submitted: ",new Date(r.created_at).toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Lead ID: ",r.id.slice(0,8),"..."]})})]})]}),a.jsx(Vb,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wu,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:"Message"})]}),a.jsx("div",{className:"bg-muted p-3 rounded-lg",children:a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:r.message})})]}),r.property_id&&a.jsxs(a.Fragment,{children:[a.jsx(Vb,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pn,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:"Related Property"})]}),n?a.jsx("div",{className:"bg-muted p-3 rounded-lg",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading property details..."})}):i?a.jsxs("div",{className:"bg-muted p-3 rounded-lg space-y-2",children:[a.jsx("h4",{className:"font-medium text-sm",children:i.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.city,", ",i.country,"  ",(d=i.price)==null?void 0:d.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Property ID: ",i.id.slice(0,8),"...  Status: ",i.status]})]}):a.jsx("div",{className:"bg-muted p-3 rounded-lg",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Property details not available (ID: ",r.property_id.slice(0,8),"...)"]})})]})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx($,{onClick:t,children:"Close"})})]})})},aW=()=>{const{t:r}=Qe(),[e,t]=b.useState({totalProperties:0,countriesCount:0,avgPrice:null,loading:!0});b.useEffect(()=>{(async()=>{try{const[n,o,l]=await Promise.all([G.from("properties").select("id",{count:"exact",head:!0}).eq("status","published"),G.from("properties").select("country").eq("status","published"),G.from("properties").select("price").eq("status","published")]),c=n.count??0,d=o.data||[],h=new Set(d.filter(m=>!!m.country).map(m=>m.country.trim())),p=l.data||[],f=p.length?Math.round(p.reduce((m,g)=>m+(g.price||0),0)/p.length):null;t({totalProperties:c,countriesCount:h.size,avgPrice:f,loading:!1})}catch(n){console.error("Error loading KPIs",n),t(o=>({...o,loading:!1}))}})()},[]);const i=s=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(s);return a.jsx("section",{className:"py-8 bg-background",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(K,{children:a.jsxs(Q,{className:"p-6 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:a.jsx(pn,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:r("kpis.properties")}),a.jsx("p",{className:"text-2xl font-bold",children:e.loading?"":e.totalProperties})]})]})}),a.jsx(K,{children:a.jsxs(Q,{className:"p-6 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:a.jsx(pC,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:r("kpis.countries")}),a.jsx("p",{className:"text-2xl font-bold",children:e.loading?"":e.countriesCount})]})]})}),a.jsx(K,{children:a.jsxs(Q,{className:"p-6 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:a.jsx(_c,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:r("common.average_price","Average Price")}),a.jsx("p",{className:"text-2xl font-bold",children:e.loading?"":e.avgPrice!==null?i(e.avgPrice):""})]})]})})]})})})},$E=()=>{var hj;const{user:r,profile:e}=Ci(),t=Ct(),[i,s]=b.useState([]),[n,o]=b.useState([]),[l,c]=b.useState([]),[d,h]=b.useState([]),[p,f]=b.useState(!0),[m,g]=b.useState(null),[v,x]=b.useState(""),[_,y]=b.useState(!1),[w,k]=b.useState(!1),[E,S]=b.useState(null),[A,P]=b.useState(!1),[R,I]=b.useState(null),[M,L]=b.useState(!1),[W,U]=b.useState(null),[Y,O]=b.useState(!1),[V,D]=b.useState(""),[z,F]=b.useState(null),[B,J]=b.useState(!1),[te,re]=b.useState(null),[q,ie]=b.useState({title:"",description:"",country:"",city:"",price:"",property_type:"",property_type_detail:"",bedrooms:"",bathrooms:"",area:"",plot_area:"",distance_to_city:"",distance_to_sea:"",distance_to_lake:"",listing_type:"sale",status:"draft",owner_id:""}),[H,we]=b.useState(!1),[qe,Le]=b.useState(null),[$e,He]=b.useState(!1),[Ve,Ar]=b.useState([]),[Pi,Yo]=b.useState(null),[kn,Rm]=b.useState(!1),[Mc,Im]=b.useState(!1),[jn,dy]=b.useState(null),[hI,Dm]=b.useState(!1),[uy,aj]=b.useState(!1),[Fm,Lm]=b.useState([]),[pI,oj]=b.useState(!1);b.useEffect(()=>{r&&(e==null?void 0:e.role)==="admin"&&Qi()},[r,e]);const Qi=async()=>{try{const{data:T,error:Z}=await G.from("properties").select(`
          id, title, description, english_description, country, city, price, status, created_at, images, bedrooms, bathrooms, area, property_type,
          profiles!inner (
            full_name,
            email,
            role
          ),
          packages (
            name,
            price_monthly
          )
        `).order("created_at",{ascending:!1});if(Z)throw Z;console.log("Fetched properties:",T==null?void 0:T.length,"properties");const ce=(T==null?void 0:T.filter(SI=>SI.english_description))||[];console.log("Properties with english_description:",ce.length),s(T||[]);const{data:pt,error:Br}=await G.from("forum_posts").select("*").eq("status","pending").order("created_at",{ascending:!1});if(Br)throw Br;o(pt||[]);const{data:Gt,error:Sn}=await G.from("leads").select("*").order("created_at",{ascending:!1});if(Sn)throw Sn;c(Gt||[]);const{data:Zi,error:Aa}=await G.from("profiles").select("*").order("created_at",{ascending:!1});if(Aa)throw Aa;console.log("Fetched users:",Zi==null?void 0:Zi.length,"users"),h(Zi||[]),fI()}catch(T){me({title:"Error loading admin data",description:T.message,variant:"destructive"})}finally{f(!1)}},fI=async()=>{oj(!0);try{const{data:T,error:Z}=await G.from("country_clicks").select("country, click_type").order("created_at",{ascending:!1}).limit(500);if(Z){console.log("Country clicks table not available yet:",Z.message),Lm([]);return}if(!T||T.length===0){Lm([]);return}const ce={};T.forEach(Br=>{const Gt=Br.country||"Unknown",Sn=Br.click_type||"view";ce[Gt]||(ce[Gt]={view:0,inquiry:0}),Sn==="view"?ce[Gt].view++:ce[Gt].inquiry++});const pt=Object.entries(ce).map(([Br,Gt])=>({country:Br,click_type:"all",count:Gt.view+Gt.inquiry,viewCount:Gt.view,inquiryCount:Gt.inquiry}));pt.sort((Br,Gt)=>Gt.count-Br.count),Lm(pt)}catch(T){console.log("Error fetching country clicks:",T),Lm([])}finally{oj(!1)}},lj=async(T,Z)=>{try{const{error:ce}=await G.from("profiles").update({status:Z==="approve"?"approved":"rejected"}).eq("id",T);if(ce)throw ce;me({title:`User ${Z==="approve"?"approved":"rejected"}`,description:`The user account has been ${Z==="approve"?"approved":"rejected"}.`}),Qi()}catch(ce){me({title:"Error updating user",description:ce.message,variant:"destructive"})}},mI=async(T,Z)=>{try{const{error:ce}=await G.from("profiles").update({role:Z}).eq("id",T);if(ce)throw ce;me({title:"Role updated",description:`User role has been updated to ${Z==="admin"?"Admin":Z==="broker"?"Real Estate Broker":"Private Seller"}.`}),Qi()}catch(ce){me({title:"Error updating role",description:ce.message,variant:"destructive"})}},cj=async(T,Z)=>{try{const ce={status:Z};Z==="rejected"&&v.trim()&&(ce.rejection_reason=v);const{error:pt}=await G.from("properties").update(ce).eq("id",T);if(pt)throw pt;me({title:`Property ${Z==="published"?"approved":"rejected"}`,description:`The property has been ${Z==="published"?"published":"rejected"}.`}),g(null),x(""),Qi()}catch(ce){me({title:"Error updating property",description:ce.message,variant:"destructive"})}},dj=async(T,Z)=>{try{const{error:ce}=await G.from("forum_posts").update({status:Z}).eq("id",T);if(ce)throw ce;me({title:`Post ${Z}`,description:`The forum post has been ${Z}.`}),Qi()}catch(ce){me({title:"Error updating post",description:ce.message,variant:"destructive"})}},gI=T=>{var Z,ce,pt,Br,Gt,Sn,Zi,Aa;re(T),ie({title:T.title||"",description:T.description||"",country:T.country||"",city:T.city||"",price:((Z=T.price)==null?void 0:Z.toString())||"",property_type:T.property_type||"",property_type_detail:T.property_type_detail||"",bedrooms:((ce=T.bedrooms)==null?void 0:ce.toString())||"",bathrooms:((pt=T.bathrooms)==null?void 0:pt.toString())||"",area:((Br=T.area)==null?void 0:Br.toString())||"",plot_area:((Gt=T.plot_area)==null?void 0:Gt.toString())||"",distance_to_city:((Sn=T.distance_to_city)==null?void 0:Sn.toString())||"",distance_to_sea:((Zi=T.distance_to_sea)==null?void 0:Zi.toString())||"",distance_to_lake:((Aa=T.distance_to_lake)==null?void 0:Aa.toString())||"",listing_type:T.listing_type||"sale",status:T.status||"draft",owner_id:T.owner_id||""})},vI=async()=>{if(te){if(!q.title||!q.description||!q.country||!q.city||!q.price){me({title:"Missing fields",description:"Please fill in all required fields.",variant:"destructive"});return}try{we(!0);const T={title:q.title,description:q.description,country:q.country,city:q.city,price:parseFloat(q.price),property_type:q.property_type||null,property_type_detail:q.property_type_detail||null,bedrooms:q.bedrooms?parseInt(q.bedrooms):null,bathrooms:q.bathrooms?parseInt(q.bathrooms):null,area:q.area?parseInt(q.area):null,plot_area:q.plot_area?parseInt(q.plot_area):null,distance_to_city:q.distance_to_city?parseInt(q.distance_to_city):null,distance_to_sea:q.distance_to_sea?parseInt(q.distance_to_sea):null,distance_to_lake:q.distance_to_lake?parseInt(q.distance_to_lake):null,listing_type:q.listing_type,status:q.status,updated_at:new Date().toISOString()};(e==null?void 0:e.role)==="admin"&&q.owner_id&&(T.owner_id=q.owner_id);const{error:Z}=await G.from("properties").update(T).eq("id",te.id);if(Z)throw Z;me({title:"Property Updated",description:"Your property has been successfully updated."}),re(null),Qi()}catch(T){console.error("Error updating property:",T),me({title:"Error",description:T.message||"Failed to update property.",variant:"destructive"})}finally{we(!1)}}},uj=()=>{re(null)},_I=T=>{S(T),P(!0)},yI=async()=>{if(R){O(!0);try{const{error:T}=await G.from("leads").delete().eq("id",R.id);if(T)throw T;me({title:"Lead deleted",description:`Lead from ${R.name} has been successfully deleted.`}),Qi(),L(!1),I(null)}catch(T){me({title:"Error deleting lead",description:T.message,variant:"destructive"})}finally{O(!1)}}},xI=async()=>{if(jn){aj(!0);try{const{error:T}=await G.from("properties").delete().eq("id",jn.id);if(T)throw T;me({title:"Property deleted",description:`Property "${jn.title}" has been successfully deleted.`}),Qi(),Dm(!1),dy(null)}catch(T){me({title:"Error deleting property",description:T.message,variant:"destructive"})}finally{aj(!1)}}},bI=async()=>{if(Ve.length!==0){Rm(!0);try{const{error:T}=await G.from("properties").delete().in("id",Ve);if(T)throw T;me({title:"Properties deleted",description:`${Ve.length} propert${Ve.length===1?"y has":"ies have"} been successfully deleted.`}),Qi(),Ar([]),Im(!1)}catch(T){me({title:"Error deleting properties",description:T.message,variant:"destructive"})}finally{Rm(!1)}}},wI=(T,Z,ce)=>{if(ce.preventDefault(),ce.shiftKey&&Pi!==null){const pt=Math.min(Pi,Z),Br=Math.max(Pi,Z),Gt=i.slice(pt,Br+1),Sn=Ve.includes(T),Zi=new Set(Ve);Gt.forEach(Aa=>{Sn?Zi.delete(Aa.id):Zi.add(Aa.id)}),Ar(Array.from(Zi))}else Ve.includes(T)?Ar(Ve.filter(pt=>pt!==T)):Ar([...Ve,T]);Yo(Z)},kI=async()=>{var T,Z;if(!V.trim()){me({title:"Missing URL",description:"Please provide a valid XML URL.",variant:"destructive"});return}J(!0),F(null);try{const{data:ce,error:pt}=await G.rpc("process_xml_properties",{xml_url:V.trim(),owner_id:r==null?void 0:r.id});if(pt){if((T=pt.message)!=null&&T.includes("function")||(Z=pt.message)!=null&&Z.includes("does not exist")){F({success:!1,error:"XML import function not available. Please run the database migration first."}),me({title:"XML Import Not Available",description:"The XML import function needs to be deployed to the database first.",variant:"destructive"});return}throw pt}F(ce),ce.success?(me({title:"XML Import Completed",description:`Successfully imported ${ce.created} out of ${ce.processed} properties.`}),Qi()):me({title:"XML Import Failed",description:ce.error||"Unknown error occurred.",variant:"destructive"})}catch(ce){console.error("Error importing XML:",ce),me({title:"Import Error",description:(ce==null?void 0:ce.message)||"Failed to import XML properties.",variant:"destructive"}),F({success:!1,error:ce==null?void 0:ce.message})}finally{J(!1)}},jI=async()=>{He(!0),Le(null);try{const{data:T,error:Z}=await G.functions.invoke("swift-api");if(Z)throw Z;if(Le(T),T.success){const ce=T.wasLimited?`Translated ${T.processed} properties (limited batch). Run again for more.`:`Successfully translated ${T.processed} properties.`;me({title:"Translation Completed",description:ce}),console.log("Translation successful, refreshing data in 2 seconds..."),setTimeout(()=>{console.log("Refreshing admin data..."),Qi()},2e3)}else me({title:"Translation Failed",description:T.error||"Unknown error occurred.",variant:"destructive"})}catch(T){console.error("Error translating properties:",T),me({title:"Translation Error",description:(T==null?void 0:T.message)||"Failed to translate properties.",variant:"destructive"}),Le({success:!1,error:T==null?void 0:T.message})}finally{He(!1)}};return!r||(e==null?void 0:e.role)!=="admin"?a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[a.jsx(d0,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"You don't have permission to access the admin panel."}),a.jsx($,{onClick:()=>t("/"),children:"Go Home"})]})}):p?a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[a.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading admin panel..."})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(aW,{}),a.jsxs("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(K,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ku,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Users"}),a.jsx("p",{className:"text-2xl font-bold",children:d.filter(T=>T.status==="pending").length})]})]})})}),a.jsx(K,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pn,{className:"h-8 w-8 text-yellow-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Properties"}),a.jsx("p",{className:"text-2xl font-bold",children:i.filter(T=>T.status==="pending").length})]})]})})}),a.jsx(K,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wu,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Posts"}),a.jsx("p",{className:"text-2xl font-bold",children:n.length})]})]})})}),a.jsx(K,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nb,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold",children:d.length})]})]})})})]}),a.jsxs(W_,{defaultValue:"properties",className:"space-y-6",children:[a.jsxs(Am,{className:"grid w-full grid-cols-9",children:[a.jsx(zt,{value:"properties",children:"Properties"}),a.jsx(zt,{value:"manage-properties",children:"Manage Properties"}),a.jsx(zt,{value:"xml-import",children:"XML Import"}),a.jsx(zt,{value:"translations",children:"Translations"}),a.jsx(zt,{value:"articles",children:"Articles"}),a.jsx(zt,{value:"leads",children:"Ongoing Leads"}),a.jsx(zt,{value:"analytics",children:"Analytics"}),a.jsx(zt,{value:"users",children:"Users"}),a.jsx(zt,{value:"forum",children:"Forum"})]}),a.jsx(Bt,{value:"properties",className:"space-y-6",children:a.jsxs(K,{children:[a.jsxs(Te,{children:[a.jsx(Re,{children:"Property Management"}),a.jsx(Vt,{children:"Review, approve, or reject property listings"})]}),a.jsx(Q,{children:a.jsx("div",{className:"space-y-4",children:i.length>0?a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-4",children:"All Properties"}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:i.map(T=>{var Z,ce;return a.jsxs(K,{className:"flex flex-col",children:[a.jsx(FT,{property:T,onClick:()=>{}}),a.jsxs(Q,{className:"p-4 flex-grow flex flex-col",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[a.jsx("span",{className:"font-semibold",children:"Owner:"}),a.jsx("span",{children:T.profiles.full_name})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[a.jsx("span",{className:"font-semibold",children:"Status:"}),a.jsx(je,{variant:T.status==="published"?"default":T.status==="pending"?"secondary":"destructive",children:((Z=T.status)==null?void 0:Z.charAt(0).toUpperCase())+((ce=T.status)==null?void 0:ce.slice(1))})]})]}),T.status==="pending"&&a.jsxs("div",{className:"flex space-x-2 mt-4",children:[a.jsxs($,{size:"sm",onClick:()=>cj(T.id,"published"),className:"w-full bg-green-600 hover:bg-green-700",children:[a.jsx(sp,{className:"h-4 w-4 mr-1"}),"Approve"]}),a.jsxs($,{size:"sm",variant:"destructive",onClick:()=>{g(T),k(!0),y(!0)},className:"w-full",children:[a.jsx(mn,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})]},T.id)})})]}):a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No properties found."})})})]})}),a.jsx(Bt,{value:"manage-properties",className:"space-y-6",children:a.jsxs(K,{children:[a.jsxs(Te,{children:[a.jsx(Re,{children:"Property Management"}),a.jsx(Vt,{children:"Create new properties or edit existing ones"})]}),a.jsx(Q,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsxs($,{onClick:()=>t("/list-property"),className:"flex items-center gap-2",children:[a.jsx(ga,{className:"h-4 w-4"}),"Create New Property"]}),a.jsxs($,{variant:"outline",onClick:()=>t("/admin"),className:"flex items-center gap-2",children:[a.jsx(np,{className:"h-4 w-4"}),"Edit Existing Properties"]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"font-semibold mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(K,{className:"p-4",children:[a.jsx("h5",{className:"font-medium mb-2",children:"Property Creation"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Add new properties to the platform with full details, images, and pricing."}),a.jsx($,{size:"sm",onClick:()=>t("/list-property"),className:"w-full",children:"Start Creating"})]}),a.jsxs(K,{className:"p-4",children:[a.jsx("h5",{className:"font-medium mb-2",children:"Bulk Property Import"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Import multiple properties at once using XML files from external sources."}),a.jsx($,{size:"sm",variant:"outline",onClick:()=>{const T=document.querySelector('[role="tablist"]'),Z=T==null?void 0:T.querySelector('[value="xml-import"]');Z==null||Z.click()},className:"w-full",children:"Go to XML Import"})]})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"font-semibold mb-4",children:"Property Editor"}),te?a.jsxs(K,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h5",{className:"text-lg font-semibold",children:["Editing: ",te.title]}),a.jsx($,{variant:"outline",onClick:uj,children:"Cancel"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(ue,{htmlFor:"edit-title",children:"Title *"}),a.jsx(le,{id:"edit-title",value:q.title,onChange:T=>ie(Z=>({...Z,title:T.target.value})),placeholder:"Property title"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(ue,{htmlFor:"edit-description",children:"Description *"}),a.jsx(Ts,{id:"edit-description",value:q.description,onChange:T=>ie(Z=>({...Z,description:T.target.value})),placeholder:"Property description",rows:3})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"edit-country",children:"Country *"}),a.jsx(le,{id:"edit-country",value:q.country,onChange:T=>ie(Z=>({...Z,country:T.target.value})),placeholder:"Country"})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"edit-city",children:"City *"}),a.jsx(le,{id:"edit-city",value:q.city,onChange:T=>ie(Z=>({...Z,city:T.target.value})),placeholder:"City"})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"edit-price",children:"Price *"}),a.jsx(le,{id:"edit-price",type:"number",value:q.price,onChange:T=>ie(Z=>({...Z,price:T.target.value})),placeholder:"Price"})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"edit-property-type",children:"Property Type"}),a.jsx(le,{id:"edit-property-type",value:q.property_type,onChange:T=>ie(Z=>({...Z,property_type:T.target.value})),placeholder:"e.g., Apartment, House, Villa"})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"edit-bedrooms",children:"Bedrooms"}),a.jsx(le,{id:"edit-bedrooms",type:"number",value:q.bedrooms,onChange:T=>ie(Z=>({...Z,bedrooms:T.target.value})),placeholder:"Number of bedrooms"})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"edit-bathrooms",children:"Bathrooms"}),a.jsx(le,{id:"edit-bathrooms",type:"number",value:q.bathrooms,onChange:T=>ie(Z=>({...Z,bathrooms:T.target.value})),placeholder:"Number of bathrooms"})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"edit-area",children:"Living Area (m)"}),a.jsx(le,{id:"edit-area",type:"number",value:q.area,onChange:T=>ie(Z=>({...Z,area:T.target.value})),placeholder:"Living area in square meters"})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"edit-status",children:"Status"}),a.jsxs(Ss,{value:q.status,onValueChange:T=>ie(Z=>({...Z,status:T})),children:[a.jsx(Hi,{children:a.jsx(Es,{})}),a.jsxs(Gi,{children:[a.jsx(ke,{value:"draft",children:"Draft"}),a.jsx(ke,{value:"pending",children:"Pending"}),a.jsx(ke,{value:"published",children:"Published"}),a.jsx(ke,{value:"rejected",children:"Rejected"})]})]})]}),(e==null?void 0:e.role)==="admin"&&a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"edit-owner",children:"Property Owner"}),a.jsxs(Ss,{value:q.owner_id,onValueChange:T=>ie(Z=>({...Z,owner_id:T})),children:[a.jsx(Hi,{children:a.jsx(Es,{placeholder:"Select property owner"})}),a.jsx(Gi,{children:d.map(T=>a.jsxs(ke,{value:T.id,children:[T.full_name||T.email," (",T.role,")"]},T.id))})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[a.jsx($,{variant:"outline",onClick:uj,disabled:H,children:"Cancel"}),a.jsx($,{onClick:vI,disabled:H,children:H?"Saving...":"Save Changes"})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a property below to edit it directly in the admin panel."}),Ve.length>0&&a.jsxs($,{size:"sm",variant:"destructive",onClick:()=>Im(!0),children:[a.jsx(ap,{className:"h-4 w-4 mr-1"}),"Delete Selected (",Ve.length,")"]})]}),i.map((T,Z)=>{var ce;return a.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg transition-colors cursor-pointer ${Pi!==null&&Z>=Math.min(Pi,Z)&&Z<=Math.max(Pi,Z)&&Ve.length>1?"bg-muted/50":""}`,onClick:pt=>wI(T.id,Z,pt),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(U0,{checked:Ve.includes(T.id),readOnly:!0}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium",children:T.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.city,", ",T.country,"  ",(ce=T.price)==null?void 0:ce.toLocaleString()]})]})]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsxs($,{size:"sm",variant:"outline",onClick:()=>gI(T),children:[a.jsx(np,{className:"h-4 w-4 mr-1"}),"Edit Here"]}),a.jsx(je,{variant:T.status==="published"?"default":"secondary",children:T.status}),a.jsxs($,{size:"sm",variant:"destructive",onClick:()=>{dy(T),Dm(!0)},children:[a.jsx(ap,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},T.id)})]})]})]})})]})}),a.jsx(Bt,{value:"xml-import",className:"space-y-6",children:a.jsxs(K,{children:[a.jsxs(Te,{children:[a.jsx(Re,{children:"XML Property Import"}),a.jsxs(Vt,{children:["Import multiple properties from an XML file hosted at a URL. Supports both standard format and extended real estate format (xml2u.com compatible)."," ",a.jsx("a",{href:"/xml-property-schema.md",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View XML schema documentation"})]})]}),a.jsxs(Q,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"xml-url",children:"XML File URL"}),a.jsx(le,{id:"xml-url",type:"url",placeholder:"https://example.com/properties.xml",value:V,onChange:T=>D(T.target.value)}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Enter the full URL to an XML file containing property data"})]}),a.jsx($,{onClick:kI,disabled:B||!V.trim(),className:"w-full",children:B?"Importing...":"Import Properties from XML"})]}),z&&a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Import Results"}),z.success?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Lp,{className:"h-5 w-5"}),a.jsx("span",{children:"Import completed successfully"})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("p",{children:["Properties processed: ",z.processed]}),a.jsxs("p",{children:["Properties created: ",z.created]}),z.property_ids&&z.property_ids.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"font-medium",children:"Created property IDs:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:z.property_ids.map((T,Z)=>a.jsxs(je,{variant:"outline",className:"text-xs",children:[T.slice(0,8),"..."]},Z))})]})]})]}):a.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[a.jsx(cE,{className:"h-5 w-5"}),a.jsxs("span",{children:["Import failed: ",z.error]})]})]}),a.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Sample XML Format"}),a.jsx("pre",{className:"text-xs bg-background p-3 rounded border overflow-x-auto",children:`<properties>
 <property>
   <title>Luxury Villa with Sea View</title>
   <description>A beautiful luxury villa...</description>
   <country>Spain</country>
   <city>Barcelona</city>
   <price>850000</price>
   <property_type>villa</property_type>
   <images>
     <image>https://example.com/image1.jpg</image>
   </images>
 </property>
</properties>`})]})]})]})}),a.jsx(Bt,{value:"translations",className:"space-y-6",children:a.jsxs(K,{children:[a.jsxs(Te,{children:[a.jsx(Re,{children:"Property Translations"}),a.jsx(Vt,{children:"Translate property descriptions to English for better user experience. This will automatically detect non-English descriptions and create English translations."})]}),a.jsxs(Q,{className:"space-y-6",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[a.jsxs("h4",{className:"font-semibold text-green-800 mb-2 flex items-center gap-2",children:[a.jsx(Jy,{className:"h-5 w-5"}),"Free AI Translation"]}),a.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Uses smart language detection and client-side translation (Browser API + Google Translate) to automatically translate property descriptions to English. Detects Spanish, French, German, Swedish, Italian and other languages. Translations happen in real-time on property cards."})]}),a.jsx("div",{className:"space-y-4",children:a.jsx($,{onClick:jI,disabled:$e,className:"w-full",size:"lg",children:$e?a.jsxs(a.Fragment,{children:[a.jsx(Jy,{className:"h-5 w-5 mr-2 animate-spin"}),"Translating Properties..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Jy,{className:"h-5 w-5 mr-2"}),"Translate All Properties"]})})}),qe&&a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Translation Results"}),qe.success?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Lp,{className:"h-5 w-5"}),a.jsx("span",{children:"Translation completed successfully"})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("p",{children:["Total properties: ",qe.total]}),a.jsxs("p",{children:["Properties translated: ",qe.processed]}),a.jsxs("p",{children:["Errors: ",qe.errors]}),qe.wasLimited&&a.jsx("p",{className:"text-orange-600 font-medium mt-1",children:" Limited to 10 properties per run. Click again for more."})]})]}):a.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[a.jsx(cE,{className:"h-5 w-5"}),a.jsxs("span",{children:["Translation failed: ",qe.error]})]})]}),a.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Manual Database Setup"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"If you need to set up the translation feature manually in Supabase:"}),a.jsxs("ol",{className:"text-sm text-muted-foreground list-decimal list-inside space-y-1",children:[a.jsx("li",{children:"Go to your Supabase project dashboard"}),a.jsx("li",{children:"Open the SQL Editor"}),a.jsxs("li",{children:["Run the SQL from ",a.jsx("code",{className:"bg-background px-1 py-0.5 rounded text-xs",children:"supabase-manual-migration.sql"})]}),a.jsxs("li",{children:["Deploy the Edge Function from ",a.jsx("code",{className:"bg-background px-1 py-0.5 rounded text-xs",children:"supabase/functions/translate-properties/"})]}),a.jsx("li",{children:"No API keys needed - uses free LibreTranslate service"})]})]})]})]})}),a.jsx(Bt,{value:"articles",className:"space-y-6",children:a.jsxs(K,{children:[a.jsxs(Te,{children:[a.jsx(Re,{children:"Article Management"}),a.jsx(Vt,{children:"Create, edit, and manage blog articles and content"})]}),a.jsx(Q,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsxs($,{onClick:()=>t("/admin/articles/new"),className:"flex items-center gap-2",children:[a.jsx(ga,{className:"h-4 w-4"}),"Create New Article"]}),a.jsxs($,{variant:"outline",onClick:()=>t("/admin/articles"),className:"flex items-center gap-2",children:[a.jsx(zi,{className:"h-4 w-4"}),"Manage Articles"]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"font-semibold mb-4",children:"Article Types"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(K,{className:"p-4",children:[a.jsx("h5",{className:"font-medium mb-2",children:"Blog Articles"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Create rich blog posts with images, formatting, and SEO optimization."}),a.jsx($,{size:"sm",onClick:()=>t("/admin/articles/new"),className:"w-full",children:"Create Blog Post"})]}),a.jsxs(K,{className:"p-4",children:[a.jsx("h5",{className:"font-medium mb-2",children:"PDF Articles"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Upload PDF documents that will be automatically processed and made searchable."}),a.jsx($,{size:"sm",variant:"outline",onClick:()=>t("/admin/articles/new"),className:"w-full",children:"Upload PDF"})]}),a.jsxs(K,{className:"p-4",children:[a.jsx("h5",{className:"font-medium mb-2",children:"Combined Content"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Create articles with both written content and PDF attachments."}),a.jsx($,{size:"sm",variant:"secondary",onClick:()=>t("/admin/articles/new"),className:"w-full",children:"Create Combined"})]})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"font-semibold mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs($,{variant:"outline",onClick:()=>t("/admin/articles"),className:"flex items-center gap-2",children:[a.jsx(np,{className:"h-4 w-4"}),"Edit Existing Articles"]}),a.jsxs($,{variant:"outline",onClick:()=>t("/articles"),className:"flex items-center gap-2",children:[a.jsx(vn,{className:"h-4 w-4"}),"View Public Articles"]})]})]})]})})]})}),a.jsx(Bt,{value:"analytics",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(K,{children:[a.jsx(Te,{children:a.jsxs(Re,{className:"flex items-center gap-2",children:[a.jsx(Nb,{className:"h-5 w-5 text-green-600"}),"Total Properties"]})}),a.jsxs(Q,{children:[a.jsx("div",{className:"text-3xl font-bold",children:i.length}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.filter(T=>T.status==="published").length," published"]})]})]}),a.jsxs(K,{children:[a.jsx(Te,{children:a.jsxs(Re,{className:"flex items-center gap-2",children:[a.jsx(Ku,{className:"h-5 w-5 text-blue-600"}),"Total Users"]})}),a.jsxs(Q,{children:[a.jsx("div",{className:"text-3xl font-bold",children:d.length}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.filter(T=>T.status==="approved").length," approved"]})]})]}),a.jsxs(K,{children:[a.jsx(Te,{children:a.jsxs(Re,{className:"flex items-center gap-2",children:[a.jsx(Wu,{className:"h-5 w-5 text-purple-600"}),"Forum Activity"]})}),a.jsxs(Q,{children:[a.jsx("div",{className:"text-3xl font-bold",children:n.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending posts"})]})]}),a.jsxs(K,{children:[a.jsx(Te,{children:a.jsxs(Re,{className:"flex items-center gap-2",children:[a.jsx(pn,{className:"h-5 w-5 text-yellow-600"}),"Leads Generated"]})}),a.jsxs(Q,{children:[a.jsx("div",{className:"text-3xl font-bold",children:l.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total inquiries"})]})]}),a.jsxs(K,{children:[a.jsx(Te,{children:a.jsx(Re,{children:"Growth Metrics"})}),a.jsx(Q,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Properties this month"}),a.jsx("span",{className:"font-semibold",children:i.filter(T=>new Date(T.created_at)>new Date(Date.now()-30*24*60*60*1e3)).length})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Users this month"}),a.jsx("span",{className:"font-semibold",children:d.filter(T=>new Date(T.created_at)>new Date(Date.now()-30*24*60*60*1e3)).length})]})]})})]}),a.jsxs(K,{children:[a.jsx(Te,{children:a.jsx(Re,{children:"System Status"})}),a.jsx(Q,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm",children:"Database: Online"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm",children:"API: Operational"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm",children:"Storage: Active"})]})]})})]}),a.jsxs(K,{className:"md:col-span-2 lg:col-span-3",children:[a.jsxs(Te,{children:[a.jsxs(Re,{className:"flex items-center gap-2",children:[a.jsx(ur,{className:"h-5 w-5 text-amber-600"}),"Europe Map Country Clicks"]}),a.jsx(Vt,{children:"Statistics on which countries users click on the interactive Europe map"})]}),a.jsx(Q,{children:pI?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):Fm.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(ur,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No country clicks recorded yet."}),a.jsx("p",{className:"text-sm",children:"Clicks will appear here when users interact with the Europe map."})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4 font-semibold text-sm border-b pb-2",children:[a.jsx("div",{children:"Country"}),a.jsx("div",{className:"text-center",children:"Total Clicks"}),a.jsx("div",{className:"text-center",children:"Property Views"}),a.jsx("div",{className:"text-center",children:"Inquiry Requests"})]}),Fm.slice(0,15).map((T,Z)=>a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm items-center",children:[a.jsxs("div",{className:"font-medium flex items-center gap-2",children:[a.jsx(ur,{className:"h-4 w-4 text-amber-600"}),T.country]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"font-bold text-lg",children:T.count})}),a.jsx("div",{className:"text-center",children:a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-blue-100 text-blue-800 text-xs",children:[T.viewCount||0," views"]})}),a.jsx("div",{className:"text-center",children:a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-amber-100 text-amber-800 text-xs",children:[T.inquiryCount||0," inquiries"]})})]},Z)),Fm.length>15&&a.jsxs("p",{className:"text-sm text-muted-foreground text-center pt-2",children:["Showing top 15 of ",Fm.length," countries"]})]})})]})]})}),a.jsx(Bt,{value:"users",className:"space-y-6",children:a.jsxs(K,{children:[a.jsxs(Te,{children:[a.jsx(Re,{children:"User Management"}),a.jsx(Vt,{children:"Approve, reject, or manage user accounts and permissions"})]}),a.jsx(Q,{children:a.jsxs("div",{className:"space-y-4",children:[d.filter(T=>T.status==="pending").length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-4 text-yellow-600",children:"Pending Approvals"}),a.jsx("div",{className:"grid gap-4",children:d.filter(T=>T.status==="pending").map(T=>a.jsx(K,{className:"border-yellow-200",children:a.jsx(Q,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold",children:T.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:T.email}),a.jsx(je,{variant:"secondary",className:"mt-1",children:T.role==="broker"?"Real Estate Broker":"Private Seller"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Registered: ",new Date(T.created_at).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs($,{size:"sm",onClick:()=>lj(T.id,"approve"),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(sp,{className:"h-4 w-4 mr-1"}),"Approve"]}),a.jsxs($,{size:"sm",variant:"destructive",onClick:()=>lj(T.id,"reject"),children:[a.jsx(mn,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})})},T.id))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-4",children:"Admin Users"}),a.jsx("div",{className:"grid gap-4",children:d.filter(T=>T.role==="admin").map(T=>{var Z,ce;return a.jsx(K,{children:a.jsx(Q,{className:"p-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold",children:T.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:T.email}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsx(je,{variant:"secondary",children:"Admin"}),a.jsx(je,{variant:T.status==="approved"?"default":T.status==="pending"?"secondary":"destructive",children:((Z=T.status)==null?void 0:Z.charAt(0).toUpperCase())+((ce=T.status)==null?void 0:ce.slice(1))})]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Registered: ",new Date(T.created_at).toLocaleDateString()]})]})})})},T.id)})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-4",children:"All Users"}),a.jsx("div",{className:"grid gap-4",children:d.map(T=>{var Z,ce;return a.jsx(K,{children:a.jsx(Q,{className:"p-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold",children:T.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:T.email}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsxs(Ss,{value:T.role,onValueChange:pt=>mI(T.id,pt),children:[a.jsx(Hi,{className:"w-[180px] h-6 text-xs",children:a.jsx(Es,{})}),a.jsxs(Gi,{children:[a.jsx(ke,{value:"admin",children:"Admin"}),a.jsx(ke,{value:"broker",children:"Real Estate Broker"}),a.jsx(ke,{value:"private_user",children:"Private Seller"})]})]}),a.jsx(je,{variant:T.status==="approved"?"default":T.status==="pending"?"secondary":"destructive",children:((Z=T.status)==null?void 0:Z.charAt(0).toUpperCase())+((ce=T.status)==null?void 0:ce.slice(1))})]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Registered: ",new Date(T.created_at).toLocaleDateString()]})]})})})},T.id)})})]})]})})]})}),a.jsx(Bt,{value:"forum",className:"space-y-6",children:a.jsxs(K,{children:[a.jsxs(Te,{children:[a.jsx(Re,{children:"Forum Posts"}),a.jsx(Vt,{children:"Review and manage pending forum posts"})]}),a.jsx(Q,{children:a.jsx("div",{className:"space-y-4",children:n.length>0?a.jsx("div",{className:"grid gap-4",children:n.map(T=>a.jsx(K,{children:a.jsx(Q,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-semibold",children:T.title}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[T.content.substring(0,100),"..."]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Author: ",T.user_id?"User":"Anonymous"," | Submitted: ",new Date(T.created_at).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsxs($,{size:"sm",onClick:()=>dj(T.id,"approved"),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(sp,{className:"h-4 w-4 mr-1"}),"Approve"]}),a.jsxs($,{size:"sm",variant:"destructive",onClick:()=>dj(T.id,"rejected"),children:[a.jsx(mn,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})})},T.id))}):a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No pending forum posts."})})})]})}),a.jsx(Bt,{value:"leads",className:"space-y-6",children:a.jsxs(K,{children:[a.jsxs(Te,{children:[a.jsx(Re,{children:"Leads Management"}),a.jsx(Vt,{children:"View and manage property leads"})]}),a.jsxs(Q,{children:[a.jsx("div",{className:"flex gap-4 mb-4",children:a.jsxs(Ss,{value:W||"all",onValueChange:T=>U(T==="all"?null:T),children:[a.jsx(Hi,{className:"w-[200px]",children:a.jsx(Es,{placeholder:"Filter by type"})}),a.jsxs(Gi,{children:[a.jsx(ke,{value:"all",children:"All Types"}),a.jsx(ke,{value:"general",children:"General Inquiry"}),a.jsx(ke,{value:"inspection",children:"Inspection Request"})]})]})}),a.jsx("div",{className:"space-y-4",children:l.length>0?a.jsx("div",{className:"grid gap-4",children:l.filter(T=>!W||T.inquiry_type===W).map(T=>a.jsx(K,{children:a.jsx(Q,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h5",{className:"font-semibold",children:T.name}),T.inquiry_type==="inspection"&&a.jsx(je,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"Inspection"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:T.email}),a.jsx("p",{className:"text-sm text-muted-foreground",children:T.phone}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[T.message.substring(0,100),"..."]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Property ID: ",T.property_id||"N/A"," | Submitted: ",new Date(T.created_at).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsxs($,{size:"sm",variant:"outline",onClick:()=>_I(T),children:[a.jsx(vn,{className:"h-4 w-4 mr-1"}),"View"]}),a.jsxs($,{size:"sm",variant:"destructive",onClick:()=>{I(T),L(!0)},children:[a.jsx(ap,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})})},T.id))}):a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No leads found."})})]})]})})]}),a.jsx(cn,{open:_,onOpenChange:y,children:a.jsxs(ws,{children:[a.jsxs(ks,{children:[a.jsx(js,{children:"Reject Property"}),a.jsx(vd,{children:"Please provide a reason for rejecting this property listing."})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"rejection-reason",children:"Rejection Reason"}),a.jsx(Ts,{id:"rejection-reason",placeholder:"Enter the reason for rejection...",value:v,onChange:T=>x(T.target.value)})]})}),a.jsxs(Ch,{children:[a.jsx($,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),a.jsx($,{variant:"destructive",onClick:async()=>{m&&(k(!0),await cj(m.id,"rejected"),k(!1),y(!1))},disabled:w||!v.trim(),children:w?"Rejecting...":"Reject Property"})]})]})}),a.jsx(cn,{open:M,onOpenChange:L,children:a.jsxs(ws,{children:[a.jsxs(ks,{children:[a.jsx(js,{children:"Delete Lead"}),a.jsx(vd,{children:"Are you sure you want to delete this lead? This action cannot be undone."})]}),R&&a.jsx("div",{className:"bg-muted p-4 rounded-lg",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"font-medium",children:R.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:R.email}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Submitted: ",new Date(R.created_at).toLocaleDateString("sv-SE")]})]})}),a.jsxs(Ch,{children:[a.jsx($,{variant:"outline",onClick:()=>{L(!1),I(null)},disabled:Y,children:"Cancel"}),a.jsx($,{variant:"destructive",onClick:yI,disabled:Y,children:Y?"Deleting...":"Delete Lead"})]})]})}),a.jsx(cn,{open:hI,onOpenChange:Dm,children:a.jsxs(ws,{children:[a.jsxs(ks,{children:[a.jsx(js,{children:"Delete Property"}),a.jsx(vd,{children:"Are you sure you want to delete this property? This action cannot be undone."})]}),jn&&a.jsx("div",{className:"bg-muted p-4 rounded-lg",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"font-medium",children:jn.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[jn.city,", ",jn.country,"  ",(hj=jn.price)==null?void 0:hj.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",jn.status]})]})}),a.jsxs(Ch,{children:[a.jsx($,{variant:"outline",onClick:()=>{Dm(!1),dy(null)},disabled:uy,children:"Cancel"}),a.jsx($,{variant:"destructive",onClick:xI,disabled:uy,children:uy?"Deleting...":"Delete Property"})]})]})}),a.jsx(cn,{open:Mc,onOpenChange:Im,children:a.jsxs(ws,{children:[a.jsxs(ks,{children:[a.jsx(js,{children:"Delete Multiple Properties"}),a.jsxs(vd,{children:["Are you sure you want to delete ",Ve.length," propert",Ve.length===1?"y":"ies","? This action cannot be undone."]})]}),a.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[a.jsxs("p",{className:"font-medium",children:[Ve.length," propert",Ve.length===1?"y":"ies"," selected for deletion"]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This will permanently remove all selected properties from the database."})]}),a.jsxs(Ch,{children:[a.jsx($,{variant:"outline",onClick:()=>{Im(!1)},disabled:kn,children:"Cancel"}),a.jsx($,{variant:"destructive",onClick:bI,disabled:kn,children:kn?"Deleting...":`Delete ${Ve.length} Propert${Ve.length===1?"y":"ies"}`})]})]})}),a.jsx(nW,{lead:E,isOpen:A,onClose:()=>{P(!1),S(null)}})]})]})};function oW(){const[r,e]=b.useState([]),[t,i]=b.useState(!0),{toast:s}=Sa(),{lang:n}=Qe();b.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:h,error:p}=await G.from("articles").select(`
          *,
          author_profile:profiles!articles_author_fkey(full_name)
        `).order("created_at",{ascending:!1});if(p)throw p;e(h||[])}catch(h){console.error("Error fetching articles:",h),s({title:"Error",description:"Failed to load articles",variant:"destructive"})}finally{i(!1)}},l=async(h,p)=>{var f;try{const m=p==="published"?"draft":"published",g={status:m};m==="published"&&!((f=r.find(x=>x.id===h))!=null&&f.published_at)?g.published_at=new Date().toISOString():m==="draft"&&(g.published_at=null);const{error:v}=await G.from("articles").update(g).eq("id",h);if(v)throw v;await G.rpc("log_article_action",{p_article_id:h,p_action:m==="published"?"publish":"unpublish"}),s({title:"Success",description:`Article ${m==="published"?"published":"unpublished"} successfully`}),o()}catch(m){console.error("Error updating article:",m),s({title:"Error",description:"Failed to update article status",variant:"destructive"})}},c=async h=>{try{const{error:p}=await G.from("articles").delete().eq("id",h);if(p)throw p;await G.rpc("log_article_action",{p_article_id:h,p_action:"delete"}),s({title:"Success",description:"Article deleted successfully"}),o()}catch(p){console.error("Error deleting article:",p),s({title:"Error",description:"Failed to delete article",variant:"destructive"})}},d=h=>{switch(h){case"published":return a.jsx(je,{className:"bg-green-500",children:"Published"});case"draft":return a.jsx(je,{variant:"secondary",children:"Draft"});case"archived":return a.jsx(je,{variant:"outline",children:"Archived"});default:return a.jsx(je,{variant:"secondary",children:h})}};return t?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Sc,{className:"h-8 w-8 text-primary"}),a.jsxs("span",{className:"text-2xl font-bold",children:[a.jsx("span",{className:"text-muted-foreground",children:"Via"}),a.jsx("span",{className:"text-primary",children:"Estate"})]})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Articles Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your blog articles"})]})]}),a.jsx($,{asChild:!0,children:a.jsxs(Fr,{to:"/admin/articles/new",children:[a.jsx(ga,{className:"w-4 h-4 mr-2"}),"New Article"]})})]}),r.length===0?a.jsx(K,{children:a.jsx(Q,{className:"flex flex-col items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No articles yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first article to get started"}),a.jsx($,{asChild:!0,children:a.jsxs(Fr,{to:"/admin/articles/new",children:[a.jsx(ga,{className:"w-4 h-4 mr-2"}),"Create Article"]})})]})})}):a.jsx("div",{className:"grid gap-4",children:r.map(h=>{var p;return a.jsx(K,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-xl font-semibold",children:h.title}),d(h.status),h.is_featured&&a.jsx(je,{variant:"default",children:"Featured"})]}),a.jsx("p",{className:"text-muted-foreground mb-3 line-clamp-2",children:h.excerpt}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(va,{className:"w-4 h-4"}),((p=h.author_profile)==null?void 0:p.full_name)||"Unknown"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(fn,{className:"w-4 h-4"}),h.published_at?new Date(h.published_at).toLocaleDateString():"Not published"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[a.jsx($,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(Fr,{to:`/${n}/articles/${h.slug}`,children:a.jsx(vn,{className:"w-4 h-4"})})}),a.jsx($,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(Fr,{to:`/admin/articles/${h.id}/edit`,children:a.jsx(np,{className:"w-4 h-4"})})}),a.jsx($,{variant:h.status==="published"?"secondary":"default",size:"sm",onClick:()=>l(h.id,h.status),children:h.status==="published"?"Unpublish":"Publish"}),a.jsxs(t2,{children:[a.jsx(GG,{asChild:!0,children:a.jsx($,{variant:"destructive",size:"sm",children:a.jsx(ap,{className:"w-4 h-4"})})}),a.jsxs(D0,{children:[a.jsxs(F0,{children:[a.jsx(M0,{children:"Delete Article"}),a.jsxs(O0,{children:['Are you sure you want to delete "',h.title,'"? This action cannot be undone.']})]}),a.jsxs(L0,{children:[a.jsx(V0,{children:"Cancel"}),a.jsx($0,{onClick:()=>c(h.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]})})},h.id)})})]})}var lp={};lp.d=(r,e)=>{for(var t in e)lp.o(e,t)&&!lp.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})};lp.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var be=globalThis.pdfjsLib={};lp.d(be,{AbortException:()=>$o,AnnotationEditorLayer:()=>Yw,AnnotationEditorParamsType:()=>Me,AnnotationEditorType:()=>Ae,AnnotationEditorUIManager:()=>Tc,AnnotationLayer:()=>r7,AnnotationMode:()=>Va,ColorPicker:()=>Jv,DOMSVGFactory:()=>Q0,DrawLayer:()=>Qw,FeatureTest:()=>Mr,GlobalWorkerOptions:()=>aa,ImageKind:()=>Rg,InvalidPDFException:()=>Bb,MissingPDFException:()=>Vp,OPS:()=>as,OutputScale:()=>qb,PDFDataRangeTransport:()=>pR,PDFDateString:()=>K0,PDFWorker:()=>Id,PasswordResponses:()=>uW,PermissionFlag:()=>dW,PixelsPerInch:()=>Vo,RenderingCancelledException:()=>G0,TextLayer:()=>zp,TouchManager:()=>Yv,UnexpectedResponseException:()=>Gv,Util:()=>fe,VerbosityLevel:()=>ry,XfaLayer:()=>mR,build:()=>LK,createValidAbsoluteUrl:()=>mW,fetchData:()=>ay,getDocument:()=>AK,getFilenameFromUrl:()=>jW,getPdfFilenameFromUrl:()=>SW,getXfaPageViewport:()=>EW,isDataScheme:()=>oy,isPdfFile:()=>W0,noContextMenu:()=>Ds,normalizeUnicode:()=>bW,setLayerDimensions:()=>Pc,shadow:()=>Ie,stopEvent:()=>bi,version:()=>FK});const jr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),h2=[1,0,0,1,0,0],zb=[.001,0,0,.001,0,0],lW=1e7,dx=1.35,mi={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Va={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},cW="pdfjs_internal_editor_",Ae={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Me={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},dW={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},mr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Rg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ft={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},xh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ry={ERRORS:0,WARNINGS:1,INFOS:5},as={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},uW={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let iy=ry.WARNINGS;function hW(r){Number.isInteger(r)&&(iy=r)}function pW(){return iy}function sy(r){iy>=ry.INFOS&&console.log(`Info: ${r}`)}function Ne(r){iy>=ry.WARNINGS&&console.log(`Warning: ${r}`)}function Ze(r){throw new Error(r)}function It(r,e){r||Ze(e)}function fW(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function mW(r,e=null,t=null){if(!r)return null;try{if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const s=r.match(/\./g);(s==null?void 0:s.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=xW(r)}catch{}}const i=e?new URL(r,e):new URL(r);if(fW(i))return i}catch{}return null}function Ie(r,e,t,i=!1){return Object.defineProperty(r,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Ko=function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class VE extends Ko{constructor(e,t){super(e,"PasswordException"),this.code=t}}class ux extends Ko{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Bb extends Ko{constructor(e){super(e,"InvalidPDFException")}}class Vp extends Ko{constructor(e){super(e,"MissingPDFException")}}class Gv extends Ko{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class gW extends Ko{constructor(e){super(e,"FormatError")}}class $o extends Ko{constructor(e){super(e,"AbortException")}}function p2(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&Ze("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const i=[];for(let s=0;s<e;s+=t){const n=Math.min(s+t,e),o=r.subarray(s,n);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function ny(r){typeof r!="string"&&Ze("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=r.charCodeAt(i)&255;return t}function vW(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function q0(r){const e=Object.create(null);for(const[t,i]of r)e[t]=i;return e}function _W(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function yW(){try{return new Function(""),!0}catch{return!1}}class Mr{static get isLittleEndian(){return Ie(this,"isLittleEndian",_W())}static get isEvalSupported(){return Ie(this,"isEvalSupported",yW())}static get isOffscreenCanvasSupported(){return Ie(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ie(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ie(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ie(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Ie(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const hx=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var da,Ig,Ub;class fe{static makeHexColor(e,t,i){return`#${hx[e]}${hx[t]}${hx[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const i=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[i,s]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,n=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[s,n]}static getAxialAlignedBoundingBox(e,t){const i=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),n=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],s[0],n[0],o[0]),Math.min(i[1],s[1],n[1],o[1]),Math.max(i[0],s[0],n[0],o[0]),Math.max(i[1],s[1],n[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],n=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],l=(i+o)/2,c=Math.sqrt((i+o)**2-4*(i*o-n*s))/2,d=l+c||1,h=l-c||1;return[Math.sqrt(d),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>s)return null;const n=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return n>o?null:[i,n,s,o]}static bezierBoundingBox(e,t,i,s,n,o,l,c,d){return d?(d[0]=Math.min(d[0],e,l),d[1]=Math.min(d[1],t,c),d[2]=Math.max(d[2],e,l),d[3]=Math.max(d[3],t,c)):d=[Math.min(e,l),Math.min(t,c),Math.max(e,l),Math.max(t,c)],C(this,da,Ub).call(this,e,i,n,l,t,s,o,c,3*(-e+3*(i-n)+l),6*(e-2*i+n),3*(i-e),d),C(this,da,Ub).call(this,e,i,n,l,t,s,o,c,3*(-t+3*(s-o)+c),6*(t-2*s+o),3*(s-t),d),d}}da=new WeakSet,Ig=function(e,t,i,s,n,o,l,c,d,h){if(d<=0||d>=1)return;const p=1-d,f=d*d,m=f*d,g=p*(p*(p*e+3*d*t)+3*f*i)+m*s,v=p*(p*(p*n+3*d*o)+3*f*l)+m*c;h[0]=Math.min(h[0],g),h[1]=Math.min(h[1],v),h[2]=Math.max(h[2],g),h[3]=Math.max(h[3],v)},Ub=function(e,t,i,s,n,o,l,c,d,h,p,f){if(Math.abs(d)<1e-12){Math.abs(h)>=1e-12&&C(this,da,Ig).call(this,e,t,i,s,n,o,l,c,-p/h,f);return}const m=h**2-4*p*d;if(m<0)return;const g=Math.sqrt(m),v=2*d;C(this,da,Ig).call(this,e,t,i,s,n,o,l,c,(-h+g)/v,f),C(this,da,Ig).call(this,e,t,i,s,n,o,l,c,(-h-g)/v,f)},N(fe,da);function xW(r){return decodeURIComponent(escape(r))}let px=null,zE=null;function bW(r){return px||(px=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,zE=new Map([["","t"]])),r.replaceAll(px,(e,t,i)=>t?t.normalize("NFKC"):zE.get(i))}function wW(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),p2(r)}const H0="pdfjs_internal_id_";function kW(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(p2(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});const An="http://www.w3.org/2000/svg",al=class al{};ge(al,"CSS",96),ge(al,"PDF",72),ge(al,"PDF_TO_CSS_UNITS",al.CSS/al.PDF);let Vo=al;async function ay(r,e="text"){if(Th(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const s=new XMLHttpRequest;s.open("GET",r,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class Cm{constructor({viewBox:e,userUnit:t,scale:i,rotation:s,offsetX:n=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=s,this.offsetX=n,this.offsetY=o,i*=t;const c=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let h,p,f,m;switch(s%=360,s<0&&(s+=360),s){case 180:h=-1,p=0,f=0,m=1;break;case 90:h=0,p=1,f=1,m=0;break;case 270:h=0,p=-1,f=-1,m=0;break;case 0:h=1,p=0,f=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(f=-f,m=-m);let g,v,x,_;h===0?(g=Math.abs(d-e[1])*i+n,v=Math.abs(c-e[0])*i+o,x=(e[3]-e[1])*i,_=(e[2]-e[0])*i):(g=Math.abs(c-e[0])*i+n,v=Math.abs(d-e[1])*i+o,x=(e[2]-e[0])*i,_=(e[3]-e[1])*i),this.transform=[h*i,p*i,f*i,m*i,g-h*i*c-f*i*d,v-p*i*c-m*i*d],this.width=x,this.height=_}get rawDims(){const{userUnit:e,viewBox:t}=this,i=t.map(s=>s*e);return Ie(this,"rawDims",{pageWidth:i[2]-i[0],pageHeight:i[3]-i[1],pageX:i[0],pageY:i[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:n=!1}={}){return new Cm({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:n})}convertToViewportPoint(e,t){return fe.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=fe.applyTransform([e[0],e[1]],this.transform),i=fe.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return fe.applyInverseTransform([e,t],this.transform)}}class G0 extends Ko{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function oy(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function W0(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function jW(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function SW(r,e="document.pdf"){if(typeof r!="string")return e;if(oy(r))return Ne('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(r);let n=i.exec(s[1])||i.exec(s[2])||i.exec(s[3]);if(n&&(n=n[0],n.includes("%")))try{n=i.exec(decodeURIComponent(n))[0]}catch{}return n||e}class BE{constructor(){ge(this,"started",Object.create(null));ge(this,"times",[])}time(e){e in this.started&&Ne(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ne(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:s,end:n}of this.times)e.push(`${i.padEnd(t)} ${n-s}ms
`);return e.join("")}}function Th(r,e){try{const{protocol:t}=e?new URL(r,e):new URL(r);return t==="http:"||t==="https:"}catch{return!1}}function Ds(r){r.preventDefault()}function bi(r){r.preventDefault(),r.stopPropagation()}var Up;class K0{static toDateObject(e){if(!e||typeof e!="string")return null;u(this,Up)||j(this,Up,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=u(this,Up).exec(e);if(!t)return null;const i=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let n=parseInt(t[3],10);n=n>=1&&n<=31?n:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const d=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,d==="-"?(o+=h,l+=p):d==="+"&&(o-=h,l-=p),new Date(Date.UTC(i,s,n,o,l,c))}}Up=new WeakMap,N(K0,Up);function EW(r,{scale:e=1,rotation:t=0}){const{width:i,height:s}=r.attributes.style,n=[0,0,parseInt(i),parseInt(s)];return new Cm({viewBox:n,userUnit:1,scale:e,rotation:t})}function Y0(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ne(`Not a valid color format: "${r}"`),[0,0,0])}function AW(r){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of r.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;r.set(t,Y0(i))}e.remove()}function dt(r){const{a:e,b:t,c:i,d:s,e:n,f:o}=r.getTransform();return[e,t,i,s,n,o]}function $s(r){const{a:e,b:t,c:i,d:s,e:n,f:o}=r.getTransform().invertSelf();return[e,t,i,s,n,o]}function Pc(r,e,t=!1,i=!0){if(e instanceof Cm){const{pageWidth:s,pageHeight:n}=e.rawDims,{style:o}=r,l=Mr.isCSSRoundSupported,c=`var(--scale-factor) * ${s}px`,d=`var(--scale-factor) * ${n}px`,h=l?`round(down, ${c}, var(--scale-round-x, 1px))`:`calc(${c})`,p=l?`round(down, ${d}, var(--scale-round-y, 1px))`:`calc(${d})`;!t||e.rotation%180===0?(o.width=h,o.height=p):(o.width=p,o.height=h)}i&&r.setAttribute("data-main-rotation",e.rotation)}class qb{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var za,hl,os,pl,qp,Hp,e_,f2,Or,m2,g2,Dg,v2,Gb;const Rn=class Rn{constructor(e){N(this,Or);N(this,za,null);N(this,hl,null);N(this,os);N(this,pl,null);N(this,qp,null);j(this,os,e),u(Rn,Hp)||j(Rn,Hp,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=j(this,za,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=u(this,os)._uiManager._signal;e.addEventListener("contextmenu",Ds,{signal:t}),e.addEventListener("pointerdown",C(Rn,e_,f2),{signal:t});const i=j(this,pl,document.createElement("div"));i.className="buttons",e.append(i);const s=u(this,os).toolbarPosition;if(s){const{style:n}=e,o=u(this,os)._uiManager.direction==="ltr"?1-s[0]:s[0];n.insetInlineEnd=`${100*o}%`,n.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return C(this,Or,v2).call(this),e}get div(){return u(this,za)}hide(){var e;u(this,za).classList.add("hidden"),(e=u(this,hl))==null||e.hideDropdown()}show(){var e;u(this,za).classList.remove("hidden"),(e=u(this,qp))==null||e.shown()}async addAltText(e){const t=await e.render();C(this,Or,Dg).call(this,t),u(this,pl).prepend(t,u(this,Or,Gb)),j(this,qp,e)}addColorPicker(e){j(this,hl,e);const t=e.renderButton();C(this,Or,Dg).call(this,t),u(this,pl).prepend(t,u(this,Or,Gb))}remove(){var e;u(this,za).remove(),(e=u(this,hl))==null||e.destroy(),j(this,hl,null)}};za=new WeakMap,hl=new WeakMap,os=new WeakMap,pl=new WeakMap,qp=new WeakMap,Hp=new WeakMap,e_=new WeakSet,f2=function(e){e.stopPropagation()},Or=new WeakSet,m2=function(e){u(this,os)._focusEventsAllowed=!1,bi(e)},g2=function(e){u(this,os)._focusEventsAllowed=!0,bi(e)},Dg=function(e){const t=u(this,os)._uiManager._signal;e.addEventListener("focusin",C(this,Or,m2).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",C(this,Or,g2).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ds,{signal:t})},v2=function(){const{editorType:e,_uiManager:t}=u(this,os),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",u(Rn,Hp)[e]),C(this,Or,Dg).call(this,i),i.addEventListener("click",s=>{t.delete()},{signal:t._signal}),u(this,pl).append(i)},Gb=function(){const e=document.createElement("div");return e.className="divider",e},N(Rn,e_),N(Rn,Hp,null);let Hb=Rn;var Gp,fl,ml,zo,_2,y2,x2;class NW{constructor(e){N(this,zo);N(this,Gp,null);N(this,fl,null);N(this,ml);j(this,ml,e)}show(e,t,i){const[s,n]=C(this,zo,y2).call(this,t,i),{style:o}=u(this,fl)||j(this,fl,C(this,zo,_2).call(this));e.append(u(this,fl)),o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*n}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,fl).remove()}}Gp=new WeakMap,fl=new WeakMap,ml=new WeakMap,zo=new WeakSet,_2=function(){const e=j(this,fl,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ds,{signal:u(this,ml)._signal});const t=j(this,Gp,document.createElement("div"));return t.className="buttons",e.append(t),C(this,zo,x2).call(this),e},y2=function(e,t){let i=0,s=0;for(const n of e){const o=n.y+n.height;if(o<i)continue;const l=n.x+(t?n.width:0);if(o>i){s=l,i=o;continue}t?l>s&&(s=l):l<s&&(s=l)}return[t?1-s:s,i]},x2=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=u(this,ml)._signal;e.addEventListener("contextmenu",Ds,{signal:i}),e.addEventListener("click",()=>{u(this,ml).highlightSelection("floating_button")},{signal:i}),u(this,Gp).append(e)};function Wv(r,e,t){for(const i of t)e.addEventListener(i,r[i].bind(r))}var t_;class CW{constructor(){N(this,t_,0)}get id(){return`${cW}${Nr(this,t_)._++}`}}t_=new WeakMap;var Dd,Wp,_r,Fd,Fg;const ej=class ej{constructor(){N(this,Fd);N(this,Dd,wW());N(this,Wp,0);N(this,_r,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const n=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ie(this,"_isSVGFittingCanvas",n)}async getFromFile(e){const{lastModified:t,name:i,size:s,type:n}=e;return C(this,Fd,Fg).call(this,`${t}_${i}_${s}_${n}`,e)}async getFromUrl(e){return C(this,Fd,Fg).call(this,e,e)}async getFromBlob(e,t){const i=await t;return C(this,Fd,Fg).call(this,e,i)}async getFromId(e){u(this,_r)||j(this,_r,new Map);const t=u(this,_r).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){u(this,_r)||j(this,_r,new Map);let i=u(this,_r).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),i={bitmap:s.transferToImageBitmap(),id:`image_${u(this,Dd)}_${Nr(this,Wp)._++}`,refCounter:1,isSvg:!1},u(this,_r).set(e,i),u(this,_r).set(i.id,i),i}getSvgUrl(e){const t=u(this,_r).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;u(this,_r)||j(this,_r,new Map);const t=u(this,_r).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const n=new OffscreenCanvas(i.width,i.height);n.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=n.convertToBlob()}(s=i.close)==null||s.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${u(this,Dd)}_`)}};Dd=new WeakMap,Wp=new WeakMap,_r=new WeakMap,Fd=new WeakSet,Fg=async function(e,t){u(this,_r)||j(this,_r,new Map);let i=u(this,_r).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${u(this,Dd)}_${Nr(this,Wp)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(i.url=t,s=await ay(t,"blob")):t instanceof File?s=i.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const n=ej._isSVGFittingCanvas,o=new FileReader,l=new Image,c=new Promise((d,h)=>{l.onload=()=>{i.bitmap=l,i.isSvg=!0,d()},o.onload=async()=>{const p=i.svgUrl=o.result;l.src=await n?`${p}#svgView(preserveAspectRatio(none))`:p},l.onerror=o.onerror=h});o.readAsDataURL(s),await c}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){Ne(s),i=null}return u(this,_r).set(e,i),i&&u(this,_r).set(i.id,i),i};let Wb=ej;var St,Ba,Kp,ft;class PW{constructor(e=128){N(this,St,[]);N(this,Ba,!1);N(this,Kp);N(this,ft,-1);j(this,Kp,e)}add({cmd:e,undo:t,post:i,mustExec:s,type:n=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(s&&e(),u(this,Ba))return;const c={cmd:e,undo:t,post:i,type:n};if(u(this,ft)===-1){u(this,St).length>0&&(u(this,St).length=0),j(this,ft,0),u(this,St).push(c);return}if(o&&u(this,St)[u(this,ft)].type===n){l&&(c.undo=u(this,St)[u(this,ft)].undo),u(this,St)[u(this,ft)]=c;return}const d=u(this,ft)+1;d===u(this,Kp)?u(this,St).splice(0,1):(j(this,ft,d),d<u(this,St).length&&u(this,St).splice(d)),u(this,St).push(c)}undo(){if(u(this,ft)===-1)return;j(this,Ba,!0);const{undo:e,post:t}=u(this,St)[u(this,ft)];e(),t==null||t(),j(this,Ba,!1),j(this,ft,u(this,ft)-1)}redo(){if(u(this,ft)<u(this,St).length-1){j(this,ft,u(this,ft)+1),j(this,Ba,!0);const{cmd:e,post:t}=u(this,St)[u(this,ft)];e(),t==null||t(),j(this,Ba,!1)}}hasSomethingToUndo(){return u(this,ft)!==-1}hasSomethingToRedo(){return u(this,ft)<u(this,St).length-1}cleanType(e){if(u(this,ft)!==-1){for(let t=u(this,ft);t>=0;t--)if(u(this,St)[t].type!==e){u(this,St).splice(t+1,u(this,ft)-t),j(this,ft,t);return}u(this,St).length=0,j(this,ft,-1)}}destroy(){j(this,St,null)}}St=new WeakMap,Ba=new WeakMap,Kp=new WeakMap,ft=new WeakMap;var r_,b2;class Pm{constructor(e){N(this,r_);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Mr.platform;for(const[i,s,n={}]of e)for(const o of i){const l=o.startsWith("mac+");t&&l?(this.callbacks.set(o.slice(4),{callback:s,options:n}),this.allKeys.add(o.split("+").at(-1))):!t&&!l&&(this.callbacks.set(o,{callback:s,options:n}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(C(this,r_,b2).call(this,t));if(!i)return;const{callback:s,options:{bubbles:n=!1,args:o=[],checker:l=null}}=i;l&&!l(e,t)||(s.bind(e,...o,t)(),n||bi(t))}}r_=new WeakSet,b2=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const i_=class i_{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return AW(e),Ie(this,"_colors",e)}convert(e){const t=Y0(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,s]of this._colors)if(s.every((n,o)=>n===t[o]))return i_._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?fe.makeHexColor(...t):e}};ge(i_,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Kb=i_;var Ld,ii,Ot,ir,Md,Fn,Od,Ri,Ua,gl,$d,vl,Us,ls,_l,Yp,Xp,Vd,Jp,qs,qa,zd,Ha,Hs,s_,Ga,Qp,Wa,yl,Zp,ef,Wt,We,Ln,xl,tf,rf,Ka,Gs,Mn,sf,Ii,ee,Lg,Yb,w2,k2,Mg,j2,S2,E2,Xb,A2,Jb,Qb,N2,Cr,Nn,C2,P2,Zb,T2,Rh,ew;const _d=class _d{constructor(e,t,i,s,n,o,l,c,d,h,p,f,m){N(this,ee);N(this,Ld,new AbortController);N(this,ii,null);N(this,Ot,new Map);N(this,ir,new Map);N(this,Md,null);N(this,Fn,null);N(this,Od,null);N(this,Ri,new PW);N(this,Ua,null);N(this,gl,null);N(this,$d,0);N(this,vl,new Set);N(this,Us,null);N(this,ls,null);N(this,_l,new Set);ge(this,"_editorUndoBar",null);N(this,Yp,!1);N(this,Xp,!1);N(this,Vd,!1);N(this,Jp,null);N(this,qs,null);N(this,qa,null);N(this,zd,null);N(this,Ha,!1);N(this,Hs,null);N(this,s_,new CW);N(this,Ga,!1);N(this,Qp,!1);N(this,Wa,null);N(this,yl,null);N(this,Zp,null);N(this,ef,null);N(this,Wt,Ae.NONE);N(this,We,new Set);N(this,Ln,null);N(this,xl,null);N(this,tf,null);N(this,rf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});N(this,Ka,[0,0]);N(this,Gs,null);N(this,Mn,null);N(this,sf,null);N(this,Ii,null);const g=this._signal=u(this,Ld).signal;j(this,Mn,e),j(this,sf,t),j(this,Md,i),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:g}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:g}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:g}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:g}),s._on("setpreference",this.onSetPreference.bind(this),{signal:g}),s._on("switchannotationeditorparams",v=>this.updateParams(v.type,v.value),{signal:g}),C(this,ee,j2).call(this),C(this,ee,N2).call(this),C(this,ee,Xb).call(this),j(this,Fn,n.annotationStorage),j(this,Jp,n.filterFactory),j(this,xl,o),j(this,zd,l||null),j(this,Yp,c),j(this,Xp,d),j(this,Vd,h),j(this,ef,p||null),this.viewParameters={realScale:Vo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=f||null,this._supportsPinchToZoom=m!==!1}static get _keyboardManager(){const e=_d.prototype,t=o=>u(o,Mn).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},s=this.TRANSLATE_SMALL,n=this.TRANSLATE_BIG;return Ie(this,"_keyboardManager",new Pm([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&u(o,Mn).contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&u(o,Mn).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-n,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[n,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-n],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,n],checker:t}]]))}destroy(){var e,t,i,s,n;(e=u(this,Ii))==null||e.resolve(),j(this,Ii,null),(t=u(this,Ld))==null||t.abort(),j(this,Ld,null),this._signal=null;for(const o of u(this,ir).values())o.destroy();u(this,ir).clear(),u(this,Ot).clear(),u(this,_l).clear(),j(this,ii,null),u(this,We).clear(),u(this,Ri).destroy(),(i=u(this,Md))==null||i.destroy(),(s=u(this,Hs))==null||s.hide(),j(this,Hs,null),u(this,qs)&&(clearTimeout(u(this,qs)),j(this,qs,null)),u(this,Gs)&&(clearTimeout(u(this,Gs)),j(this,Gs,null)),(n=this._editorUndoBar)==null||n.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return u(this,ef)}get useNewAltTextFlow(){return u(this,Xp)}get useNewAltTextWhenAddingImage(){return u(this,Vd)}get hcmFilter(){return Ie(this,"hcmFilter",u(this,xl)?u(this,Jp).addHCMFilter(u(this,xl).foreground,u(this,xl).background):"none")}get direction(){return Ie(this,"direction",getComputedStyle(u(this,Mn)).direction)}get highlightColors(){return Ie(this,"highlightColors",u(this,zd)?new Map(u(this,zd).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Ie(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),j(this,gl,e)}setMainHighlightColorPicker(e){j(this,Zp,e)}editAltText(e,t=!1){var i;(i=u(this,Md))==null||i.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":j(this,Vd,t);break}}onPageChanging({pageNumber:e}){j(this,$d,e-1)}focusMainContainer(){u(this,Mn).focus()}findParent(e,t){for(const i of u(this,ir).values()){const{x:s,y:n,width:o,height:l}=i.div.getBoundingClientRect();if(e>=s&&e<=s+o&&t>=n&&t<=n+l)return i}return null}disableUserSelect(e=!1){u(this,sf).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,_l).add(e)}removeShouldRescale(e){u(this,_l).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Vo.PDF_TO_CSS_UNITS;for(const i of u(this,_l))i.onScaleChanging();(t=u(this,gl))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:n,focusOffset:o}=t,l=t.toString(),d=C(this,ee,Lg).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;t.empty();const p=C(this,ee,Yb).call(this,d),f=u(this,Wt)===Ae.NONE,m=()=>{p==null||p.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:s,focusNode:n,focusOffset:o,text:l}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(Ae.HIGHLIGHT,m);return}m()}addToAnnotationStorage(e){!e.isEmpty()&&u(this,Fn)&&!u(this,Fn).has(e.id)&&u(this,Fn).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,u(this,Ha)&&(j(this,Ha,!1),C(this,ee,Mg).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of u(this,We))if(t.div.contains(e)){j(this,yl,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!u(this,yl))return;const[e,t]=u(this,yl);j(this,yl,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){C(this,ee,Xb).call(this),C(this,ee,Jb).call(this)}removeEditListeners(){C(this,ee,A2).call(this),C(this,ee,Qb).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of u(this,ls))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of u(this,ls))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=u(this,ii))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of u(this,We)){const n=s.serialize(!0);n&&t.push(n)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const n of t.items)for(const o of u(this,ls))if(o.isHandlingMimeForPasting(n.type)){o.paste(n,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(n){Ne(`paste: "${n.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const n=[];for(const c of i){const d=await s.deserialize(c);if(!d)return;n.push(d)}const o=()=>{for(const c of n)C(this,ee,Zb).call(this,c);C(this,ee,ew).call(this,n)},l=()=>{for(const c of n)c.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(n){Ne(`paste: "${n.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,Wt)!==Ae.NONE&&!this.isEditorHandlingKeyboard&&_d._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,Ha)&&(j(this,Ha,!1),C(this,ee,Mg).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(C(this,ee,S2).call(this),C(this,ee,Jb).call(this),C(this,ee,Cr).call(this,{isEditing:u(this,Wt)!==Ae.NONE,isEmpty:C(this,ee,Rh).call(this),hasSomethingToUndo:u(this,Ri).hasSomethingToUndo(),hasSomethingToRedo:u(this,Ri).hasSomethingToRedo(),hasSelectedEditor:!1})):(C(this,ee,E2).call(this),C(this,ee,Qb).call(this),C(this,ee,Cr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,ls)){j(this,ls,e);for(const t of u(this,ls))C(this,ee,Nn).call(this,t.defaultPropertiesToUpdate)}}getId(){return u(this,s_).id}get currentLayer(){return u(this,ir).get(u(this,$d))}getLayer(e){return u(this,ir).get(e)}get currentPageIndex(){return u(this,$d)}addLayer(e){u(this,ir).set(e.pageIndex,e),u(this,Ga)?e.enable():e.disable()}removeLayer(e){u(this,ir).delete(e.pageIndex)}async updateMode(e,t=null,i=!1){var s;if(u(this,Wt)!==e&&!(u(this,Ii)&&(await u(this,Ii).promise,!u(this,Ii)))){if(j(this,Ii,Promise.withResolvers()),j(this,Wt,e),e===Ae.NONE){this.setEditingState(!1),C(this,ee,P2).call(this),(s=this._editorUndoBar)==null||s.hide(),u(this,Ii).resolve();return}this.setEditingState(!0),await C(this,ee,C2).call(this),this.unselectAll();for(const n of u(this,ir).values())n.updateMode(e);if(!t){i&&this.addNewEditorFromKeyboard(),u(this,Ii).resolve();return}for(const n of u(this,Ot).values())n.annotationElementId===t?(this.setSelected(n),n.enterInEditMode()):n.unselect();u(this,Ii).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==u(this,Wt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var i;if(u(this,ls)){switch(e){case Me.CREATE:this.currentLayer.addNewEditor();return;case Me.HIGHLIGHT_DEFAULT_COLOR:(i=u(this,Zp))==null||i.updateColor(t);break;case Me.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,tf)||j(this,tf,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of u(this,We))s.updateParams(e,t);for(const s of u(this,ls))s.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var n;for(const o of u(this,Ot).values())o.editorType===e&&o.show(t);(((n=u(this,tf))==null?void 0:n.get(Me.HIGHLIGHT_SHOW_ALL))??!0)!==t&&C(this,ee,Nn).call(this,[[Me.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(u(this,Qp)!==e){j(this,Qp,e);for(const t of u(this,ir).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const i of u(this,Ot).values())i.pageIndex===e&&t.push(i);return t}getEditor(e){return u(this,Ot).get(e)}addEditor(e){u(this,Ot).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(u(this,qs)&&clearTimeout(u(this,qs)),j(this,qs,setTimeout(()=>{this.focusMainContainer(),j(this,qs,null)},0))),u(this,Ot).delete(e.id),this.unselect(e),(!e.annotationElementId||!u(this,vl).has(e.annotationElementId))&&((t=u(this,Fn))==null||t.remove(e.id))}addDeletedAnnotationElement(e){u(this,vl).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,vl).has(e)}removeDeletedAnnotationElement(e){u(this,vl).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,ii)!==e&&(j(this,ii,e),e&&C(this,ee,Nn).call(this,e.propertiesToUpdate))}updateUI(e){u(this,ee,T2)===e&&C(this,ee,Nn).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){C(this,ee,Nn).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(u(this,We).has(e)){u(this,We).delete(e),e.unselect(),C(this,ee,Cr).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,We).add(e),e.select(),C(this,ee,Nn).call(this,e.propertiesToUpdate),C(this,ee,Cr).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;(t=u(this,gl))==null||t.commitOrRemove();for(const i of u(this,We))i!==e&&i.unselect();u(this,We).clear(),u(this,We).add(e),e.select(),C(this,ee,Nn).call(this,e.propertiesToUpdate),C(this,ee,Cr).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,We).has(e)}get firstSelectedEditor(){return u(this,We).values().next().value}unselect(e){e.unselect(),u(this,We).delete(e),C(this,ee,Cr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,We).size!==0}get isEnterHandled(){return u(this,We).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;u(this,Ri).undo(),C(this,ee,Cr).call(this,{hasSomethingToUndo:u(this,Ri).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:C(this,ee,Rh).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){u(this,Ri).redo(),C(this,ee,Cr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,Ri).hasSomethingToRedo(),isEmpty:C(this,ee,Rh).call(this)})}addCommands(e){u(this,Ri).add(e),C(this,ee,Cr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:C(this,ee,Rh).call(this)})}cleanUndoStack(e){u(this,Ri).cleanType(e)}delete(){var n;this.commitOrRemove();const e=(n=this.currentLayer)==null?void 0:n.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...u(this,We)],i=()=>{var o;(o=this._editorUndoBar)==null||o.show(s,t.length===1?t[0].editorType:t.length);for(const l of t)l.remove()},s=()=>{for(const o of t)C(this,ee,Zb).call(this,o)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=u(this,ii))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,ii)||this.hasSelection}selectAll(){for(const e of u(this,We))e.commit();C(this,ee,ew).call(this,u(this,Ot).values())}unselectAll(){var e;if(!(u(this,ii)&&(u(this,ii).commitOrRemove(),u(this,Wt)!==Ae.NONE))&&!((e=u(this,gl))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of u(this,We))t.unselect();u(this,We).clear(),C(this,ee,Cr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;u(this,Ka)[0]+=e,u(this,Ka)[1]+=t;const[s,n]=u(this,Ka),o=[...u(this,We)],l=1e3;u(this,Gs)&&clearTimeout(u(this,Gs)),j(this,Gs,setTimeout(()=>{j(this,Gs,null),u(this,Ka)[0]=u(this,Ka)[1]=0,this.addCommands({cmd:()=>{for(const c of o)u(this,Ot).has(c.id)&&c.translateInPage(s,n)},undo:()=>{for(const c of o)u(this,Ot).has(c.id)&&c.translateInPage(-s,-n)},mustExec:!1})},l));for(const c of o)c.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),j(this,Us,new Map);for(const e of u(this,We))u(this,Us).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,Us))return!1;this.disableUserSelect(!1);const e=u(this,Us);j(this,Us,null);let t=!1;for(const[{x:s,y:n,pageIndex:o},l]of e)l.newX=s,l.newY=n,l.newPageIndex=o,t||(t=s!==l.savedX||n!==l.savedY||o!==l.savedPageIndex);if(!t)return!1;const i=(s,n,o,l)=>{if(u(this,Ot).has(s.id)){const c=u(this,ir).get(l);c?s._setParentAndPosition(c,n,o):(s.pageIndex=l,s.x=n,s.y=o)}};return this.addCommands({cmd:()=>{for(const[s,{newX:n,newY:o,newPageIndex:l}]of e)i(s,n,o,l)},undo:()=>{for(const[s,{savedX:n,savedY:o,savedPageIndex:l}]of e)i(s,n,o,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(u(this,Us))for(const i of u(this,Us).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,We).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,ii)===e}getActive(){return u(this,ii)}getMode(){return u(this,Wt)}get imageManager(){return Ie(this,"imageManager",new Wb)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,h=t.rangeCount;d<h;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:i,y:s,width:n,height:o}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(d,h,p,f)=>({x:(h-s)/o,y:1-(d+p-i)/n,width:f/o,height:p/n});break;case"180":l=(d,h,p,f)=>({x:1-(d+p-i)/n,y:1-(h+f-s)/o,width:p/n,height:f/o});break;case"270":l=(d,h,p,f)=>({x:1-(h+f-s)/o,y:(d-i)/n,width:f/o,height:p/n});break;default:l=(d,h,p,f)=>({x:(d-i)/n,y:(h-s)/o,width:p/n,height:f/o});break}const c=[];for(let d=0,h=t.rangeCount;d<h;d++){const p=t.getRangeAt(d);if(!p.collapsed)for(const{x:f,y:m,width:g,height:v}of p.getClientRects())g===0||v===0||c.push(l(f,m,g,v))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(u(this,Od)||j(this,Od,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=u(this,Od))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=u(this,Od))==null?void 0:s.get(e.data.id);if(!t)return;const i=u(this,Fn).getRawValue(t);i&&(u(this,Wt)===Ae.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}};Ld=new WeakMap,ii=new WeakMap,Ot=new WeakMap,ir=new WeakMap,Md=new WeakMap,Fn=new WeakMap,Od=new WeakMap,Ri=new WeakMap,Ua=new WeakMap,gl=new WeakMap,$d=new WeakMap,vl=new WeakMap,Us=new WeakMap,ls=new WeakMap,_l=new WeakMap,Yp=new WeakMap,Xp=new WeakMap,Vd=new WeakMap,Jp=new WeakMap,qs=new WeakMap,qa=new WeakMap,zd=new WeakMap,Ha=new WeakMap,Hs=new WeakMap,s_=new WeakMap,Ga=new WeakMap,Qp=new WeakMap,Wa=new WeakMap,yl=new WeakMap,Zp=new WeakMap,ef=new WeakMap,Wt=new WeakMap,We=new WeakMap,Ln=new WeakMap,xl=new WeakMap,tf=new WeakMap,rf=new WeakMap,Ka=new WeakMap,Gs=new WeakMap,Mn=new WeakMap,sf=new WeakMap,Ii=new WeakMap,ee=new WeakSet,Lg=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Yb=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of u(this,ir).values())if(i.hasTextLayer(e))return i;return null},w2=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=C(this,ee,Lg).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(u(this,Hs)||j(this,Hs,new NW(this)),u(this,Hs).show(i,s,this.direction==="ltr"))},k2=function(){var n,o,l;const e=document.getSelection();if(!e||e.isCollapsed){u(this,Ln)&&((n=u(this,Hs))==null||n.hide(),j(this,Ln,null),C(this,ee,Cr).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===u(this,Ln))return;const s=C(this,ee,Lg).call(this,e).closest(".textLayer");if(!s){u(this,Ln)&&((o=u(this,Hs))==null||o.hide(),j(this,Ln,null),C(this,ee,Cr).call(this,{hasSelectedText:!1}));return}if((l=u(this,Hs))==null||l.hide(),j(this,Ln,t),C(this,ee,Cr).call(this,{hasSelectedText:!0}),!(u(this,Wt)!==Ae.HIGHLIGHT&&u(this,Wt)!==Ae.NONE)&&(u(this,Wt)===Ae.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),j(this,Ha,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=u(this,Wt)===Ae.HIGHLIGHT?C(this,ee,Yb).call(this,s):null;c==null||c.toggleDrawing();const d=new AbortController,h=this.combinedSignal(d),p=f=>{f.type==="pointerup"&&f.button!==0||(d.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&C(this,ee,Mg).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("blur",p,{signal:h})}},Mg=function(e=""){u(this,Wt)===Ae.HIGHLIGHT?this.highlightSelection(e):u(this,Yp)&&C(this,ee,w2).call(this)},j2=function(){document.addEventListener("selectionchange",C(this,ee,k2).bind(this),{signal:this._signal})},S2=function(){if(u(this,qa))return;j(this,qa,new AbortController);const e=this.combinedSignal(u(this,qa));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},E2=function(){var e;(e=u(this,qa))==null||e.abort(),j(this,qa,null)},Xb=function(){if(u(this,Wa))return;j(this,Wa,new AbortController);const e=this.combinedSignal(u(this,Wa));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},A2=function(){var e;(e=u(this,Wa))==null||e.abort(),j(this,Wa,null)},Jb=function(){if(u(this,Ua))return;j(this,Ua,new AbortController);const e=this.combinedSignal(u(this,Ua));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Qb=function(){var e;(e=u(this,Ua))==null||e.abort(),j(this,Ua,null)},N2=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Cr=function(e){Object.entries(e).some(([i,s])=>u(this,rf)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,rf),e)}),u(this,Wt)===Ae.HIGHLIGHT&&e.hasSelectedEditor===!1&&C(this,ee,Nn).call(this,[[Me.HIGHLIGHT_FREE,!0]]))},Nn=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},C2=async function(){if(!u(this,Ga)){j(this,Ga,!0);const e=[];for(const t of u(this,ir).values())e.push(t.enable());await Promise.all(e);for(const t of u(this,Ot).values())t.enable()}},P2=function(){if(this.unselectAll(),u(this,Ga)){j(this,Ga,!1);for(const e of u(this,ir).values())e.disable();for(const e of u(this,Ot).values())e.disable()}},Zb=function(e){const t=u(this,ir).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},T2=function(){let e=null;for(e of u(this,We));return e},Rh=function(){if(u(this,Ot).size===0)return!0;if(u(this,Ot).size===1)for(const e of u(this,Ot).values())return e.isEmpty();return!1},ew=function(e){for(const t of u(this,We))t.unselect();u(this,We).clear();for(const t of e)t.isEmpty()||(u(this,We).add(t),t.select());C(this,ee,Cr).call(this,{hasSelectedEditor:this.hasSelection})},ge(_d,"TRANSLATE_SMALL",1),ge(_d,"TRANSLATE_BIG",10);let Tc=_d;var Kt,Ws,cs,Bd,Ks,si,Ud,Ys,Gr,On,bl,Xs,Ya,As,Ih,Og;const Pr=class Pr{constructor(e){N(this,As);N(this,Kt,null);N(this,Ws,!1);N(this,cs,null);N(this,Bd,null);N(this,Ks,null);N(this,si,null);N(this,Ud,!1);N(this,Ys,null);N(this,Gr,null);N(this,On,null);N(this,bl,null);N(this,Xs,!1);j(this,Gr,e),j(this,Xs,e._uiManager.useNewAltTextFlow),u(Pr,Ya)||j(Pr,Ya,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Pr._l10n??(Pr._l10n=e)}async render(){const e=j(this,cs,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=j(this,Bd,document.createElement("span"));e.append(t),u(this,Xs)?(e.classList.add("new"),e.setAttribute("data-l10n-id",u(Pr,Ya).missing),t.setAttribute("data-l10n-id",u(Pr,Ya)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=u(this,Gr)._uiManager._signal;e.addEventListener("contextmenu",Ds,{signal:i}),e.addEventListener("pointerdown",n=>n.stopPropagation(),{signal:i});const s=n=>{n.preventDefault(),u(this,Gr)._uiManager.editAltText(u(this,Gr)),u(this,Xs)&&u(this,Gr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,As,Ih)}})};return e.addEventListener("click",s,{capture:!0,signal:i}),e.addEventListener("keydown",n=>{n.target===e&&n.key==="Enter"&&(j(this,Ud,!0),s(n))},{signal:i}),await C(this,As,Og).call(this),e}finish(){u(this,cs)&&(u(this,cs).focus({focusVisible:u(this,Ud)}),j(this,Ud,!1))}isEmpty(){return u(this,Xs)?u(this,Kt)===null:!u(this,Kt)&&!u(this,Ws)}hasData(){return u(this,Xs)?u(this,Kt)!==null||!!u(this,On):this.isEmpty()}get guessedText(){return u(this,On)}async setGuessedText(e){u(this,Kt)===null&&(j(this,On,e),j(this,bl,await Pr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),C(this,As,Og).call(this))}toggleAltTextBadge(e=!1){var t;if(!u(this,Xs)||u(this,Kt)){(t=u(this,Ys))==null||t.remove(),j(this,Ys,null);return}if(!u(this,Ys)){const i=j(this,Ys,document.createElement("div"));i.className="noAltTextBadge",u(this,Gr).div.append(i)}u(this,Ys).classList.toggle("hidden",!e)}serialize(e){let t=u(this,Kt);return!e&&u(this,On)===t&&(t=u(this,bl)),{altText:t,decorative:u(this,Ws),guessedText:u(this,On),textWithDisclaimer:u(this,bl)}}get data(){return{altText:u(this,Kt),decorative:u(this,Ws)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:s,cancel:n=!1}){i&&(j(this,On,i),j(this,bl,s)),!(u(this,Kt)===e&&u(this,Ws)===t)&&(n||(j(this,Kt,e),j(this,Ws,t)),C(this,As,Og).call(this))}toggle(e=!1){u(this,cs)&&(!e&&u(this,si)&&(clearTimeout(u(this,si)),j(this,si,null)),u(this,cs).disabled=!e)}shown(){u(this,Gr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,As,Ih)}})}destroy(){var e,t;(e=u(this,cs))==null||e.remove(),j(this,cs,null),j(this,Bd,null),j(this,Ks,null),(t=u(this,Ys))==null||t.remove(),j(this,Ys,null)}};Kt=new WeakMap,Ws=new WeakMap,cs=new WeakMap,Bd=new WeakMap,Ks=new WeakMap,si=new WeakMap,Ud=new WeakMap,Ys=new WeakMap,Gr=new WeakMap,On=new WeakMap,bl=new WeakMap,Xs=new WeakMap,Ya=new WeakMap,As=new WeakSet,Ih=function(){return u(this,Kt)&&"added"||u(this,Kt)===null&&this.guessedText&&"review"||"missing"},Og=async function(){var s,n,o;const e=u(this,cs);if(!e)return;if(u(this,Xs)){if(e.classList.toggle("done",!!u(this,Kt)),e.setAttribute("data-l10n-id",u(Pr,Ya)[u(this,As,Ih)]),(s=u(this,Bd))==null||s.setAttribute("data-l10n-id",u(Pr,Ya)[`${u(this,As,Ih)}-label`]),!u(this,Kt)){(n=u(this,Ks))==null||n.remove();return}}else{if(!u(this,Kt)&&!u(this,Ws)){e.classList.remove("done"),(o=u(this,Ks))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=u(this,Ks);if(!t){j(this,Ks,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${u(this,Gr).id}`;const l=100,c=u(this,Gr)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(u(this,si)),j(this,si,null)},{once:!0}),e.addEventListener("mouseenter",()=>{j(this,si,setTimeout(()=>{j(this,si,null),u(this,Ks).classList.add("show"),u(this,Gr)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:c}),e.addEventListener("mouseleave",()=>{var d;u(this,si)&&(clearTimeout(u(this,si)),j(this,si,null)),(d=u(this,Ks))==null||d.classList.remove("show")},{signal:c})}u(this,Ws)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=u(this,Kt)),t.parentNode||e.append(t);const i=u(this,Gr).getImageForAltText();i==null||i.setAttribute("aria-describedby",t.id)},N(Pr,Ya,null),ge(Pr,"_l10n",null);let Kv=Pr;var nf,wl,af,of,lf,cf,df,qd,$n,kl,Xa,xa,R2,I2,tw;const tj=class tj{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:s=null,onPinching:n=null,onPinchEnd:o=null,signal:l}){N(this,xa);N(this,nf);N(this,wl,!1);N(this,af,null);N(this,of);N(this,lf);N(this,cf);N(this,df);N(this,qd);N(this,$n,null);N(this,kl);N(this,Xa,null);j(this,nf,e),j(this,af,i),j(this,of,t),j(this,lf,s),j(this,cf,n),j(this,df,o),j(this,kl,new AbortController),j(this,qd,AbortSignal.any([l,u(this,kl).signal])),e.addEventListener("touchstart",C(this,xa,R2).bind(this),{passive:!1,signal:u(this,qd)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return Ie(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var e;(e=u(this,kl))==null||e.abort(),j(this,kl,null)}};nf=new WeakMap,wl=new WeakMap,af=new WeakMap,of=new WeakMap,lf=new WeakMap,cf=new WeakMap,df=new WeakMap,qd=new WeakMap,$n=new WeakMap,kl=new WeakMap,Xa=new WeakMap,xa=new WeakSet,R2=function(e){var s,n,o;if((s=u(this,of))!=null&&s.call(this)||e.touches.length<2)return;if(!u(this,Xa)){j(this,Xa,new AbortController);const l=AbortSignal.any([u(this,qd),u(this,Xa).signal]),c=u(this,nf),d={signal:l,passive:!1};c.addEventListener("touchmove",C(this,xa,I2).bind(this),d),c.addEventListener("touchend",C(this,xa,tw).bind(this),d),c.addEventListener("touchcancel",C(this,xa,tw).bind(this),d),(n=u(this,lf))==null||n.call(this)}if(bi(e),e.touches.length!==2||(o=u(this,af))!=null&&o.call(this)){j(this,$n,null);return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),j(this,$n,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY})},I2=function(e){var k;if(!u(this,$n)||e.touches.length!==2)return;let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:s,screenY:n}=t,{screenX:o,screenY:l}=i,c=u(this,$n),{touch0X:d,touch0Y:h,touch1X:p,touch1Y:f}=c,m=p-d,g=f-h,v=o-s,x=l-n,_=Math.hypot(v,x)||1,y=Math.hypot(m,g)||1;if(!u(this,wl)&&Math.abs(y-_)<=tj.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=s,c.touch0Y=n,c.touch1X=o,c.touch1Y=l,e.preventDefault(),!u(this,wl)){j(this,wl,!0);return}const w=[(s+o)/2,(n+l)/2];(k=u(this,cf))==null||k.call(this,w,y,_)},tw=function(e){var t;u(this,Xa).abort(),j(this,Xa,null),(t=u(this,df))==null||t.call(this),u(this,$n)&&(e.preventDefault(),j(this,$n,null),j(this,wl,!1))};let Yv=tj;var jl,ds,ot,Hd,Ja,uf,Sl,sr,El,Vn,Qa,hf,Al,ni,pf,Nl,zn,Js,Gd,Wd,Di,Cl,ff,n_,ve,rw,mf,iw,$g,D2,F2,sw,Vg,nw,L2,M2,O2,aw,$2,ow,V2,z2,B2,lw,Dh;const Ce=class Ce{constructor(e){N(this,ve);N(this,jl,null);N(this,ds,null);N(this,ot,null);N(this,Hd,!1);N(this,Ja,null);N(this,uf,"");N(this,Sl,!1);N(this,sr,null);N(this,El,null);N(this,Vn,null);N(this,Qa,null);N(this,hf,"");N(this,Al,!1);N(this,ni,null);N(this,pf,!1);N(this,Nl,!1);N(this,zn,!1);N(this,Js,null);N(this,Gd,0);N(this,Wd,0);N(this,Di,null);N(this,Cl,null);ge(this,"_editToolbar",null);ge(this,"_initialOptions",Object.create(null));ge(this,"_initialData",null);ge(this,"_isVisible",!0);ge(this,"_uiManager",null);ge(this,"_focusEventsAllowed",!0);N(this,ff,!1);N(this,n_,Ce._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:s,pageX:n,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[n,o];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ce.prototype._resizeWithKeyboard,t=Tc.TRANSLATE_SMALL,i=Tc.TRANSLATE_BIG;return Ie(this,"_resizerKeyboardManager",new Pm([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Ce.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Ie(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new TW({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ce._l10n??(Ce._l10n=e),Ce._l10nResizer||(Ce._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ce._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Ce._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ze("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,ff)}set _isDraggable(e){var t;j(this,ff,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,n_)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):C(this,ve,Dh).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,Al)?j(this,Al,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,s){const[n,o]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(e+i)/n,this.y=(t+s)/o,this.fixAndSetPosition()}translate(e,t){C(this,ve,rw).call(this,this.parentDimensions,e,t)}translateInPage(e,t){u(this,ni)||j(this,ni,[this.x,this.y,this.width,this.height]),C(this,ve,rw).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){u(this,ni)||j(this,ni,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[s,n]}=this;if(this.x+=e/s,this.y+=t/n,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[c,d]=this.getBaseTranslation();o+=c,l+=d;const{style:h}=i;h.left=`${(100*o).toFixed(2)}%`,h.top=`${(100*l).toFixed(2)}%`,this._onTranslating(o,l),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!u(this,ni)&&(u(this,ni)[0]!==this.x||u(this,ni)[1]!==this.y)}get _hasBeenResized(){return!!u(this,ni)&&(u(this,ni)[2]!==this.width||u(this,ni)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=Ce,s=i/e,n=i/t;switch(this.rotation){case 90:return[-s,n];case 180:return[s,n];case 270:return[s,-n];default:return[-s,-n]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,s]}=this;let{x:n,y:o,width:l,height:c}=this;if(l*=i,c*=s,n*=i,o*=s,this._mustFixPosition)switch(e){case 0:n=Math.max(0,Math.min(i-l,n)),o=Math.max(0,Math.min(s-c,o));break;case 90:n=Math.max(0,Math.min(i-c,n)),o=Math.min(s,Math.max(l,o));break;case 180:n=Math.min(i,Math.max(l,n)),o=Math.min(s,Math.max(c,o));break;case 270:n=Math.min(i,Math.max(c,n)),o=Math.max(0,Math.min(s-l,o));break}this.x=n/=i,this.y=o/=s;const[d,h]=this.getBaseTranslation();n+=d,o+=h,t.left=`${(100*n).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return C(i=Ce,mf,iw).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return C(i=Ce,mf,iw).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(e,t){const[i,s]=this.parentDimensions,{style:n}=this.div;n.width=`${(100*e/i).toFixed(2)}%`,u(this,Sl)||(n.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,s=i.endsWith("%"),n=!u(this,Sl)&&t.endsWith("%");if(s&&n)return;const[o,l]=this.parentDimensions;s||(e.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!u(this,Sl)&&!n&&(e.height=`${(100*parseFloat(t)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=u(this,ot))==null||e.finish()}async addEditToolbar(){return this._editToolbar||u(this,Nl)?this._editToolbar:(this._editToolbar=new Hb(this),this.div.append(this._editToolbar.render()),u(this,ot)&&await this._editToolbar.addAltText(u(this,ot)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=u(this,ot))==null||e.destroy())}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,ot)||(Kv.initialize(Ce._l10n),j(this,ot,new Kv(this)),u(this,jl)&&(u(this,ot).data=u(this,jl),j(this,jl,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=u(this,ot))==null?void 0:e.data}set altTextData(e){u(this,ot)&&(u(this,ot).data=e)}get guessedAltText(){var e;return(e=u(this,ot))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=u(this,ot))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=u(this,ot))==null?void 0:t.serialize(e)}hasAltText(){return!!u(this,ot)&&!u(this,ot).isEmpty()}hasAltTextData(){var e;return((e=u(this,ot))==null?void 0:e.hasData())??!1}render(){var n;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=u(this,Hd)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),C(this,ve,ow).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),Wv(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(u(this,Cl)||j(this,Cl,new Yv({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:C(this,ve,L2).bind(this),onPinching:C(this,ve,M2).bind(this),onPinchEnd:C(this,ve,O2).bind(this),signal:this._uiManager._signal}))),(n=this._uiManager._editorUndoBar)==null||n.hide(),this.div}pointerdown(e){const{isMac:t}=Mr.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(j(this,Al,!0),this._isDraggable){C(this,ve,$2).call(this,e);return}C(this,ve,aw).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){u(this,Js)&&clearTimeout(u(this,Js)),j(this,Js,setTimeout(()=>{var e;j(this,Js,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const s=this.parentScale,[n,o]=this.pageDimensions,[l,c]=this.pageTranslation,d=e/s,h=t/s,p=this.x*n,f=this.y*o,m=this.width*n,g=this.height*o;switch(i){case 0:return[p+d+l,o-f-h-g+c,p+d+m+l,o-f-h+c];case 90:return[p+h+l,o-f+d+c,p+h+g+l,o-f+d+m+c];case 180:return[p-d-m+l,o-f+h+c,p-d+l,o-f+h+g+c];case 270:return[p-h-g+l,o-f-d-m+c,p-h+l,o-f-d+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,s,n,o]=e,l=n-i,c=o-s;switch(this.rotation){case 0:return[i,t-o,l,c];case 90:return[i,t-s,c,l];case 180:return[n,t-s,l,c];case 270:return[n,t-o,c,l];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){j(this,Nl,!0)}disableEditMode(){j(this,Nl,!1)}isInEditMode(){return u(this,Nl)}shouldGetKeyboardEvents(){return u(this,zn)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:s}=this.getClientDimensions(),{innerHeight:n,innerWidth:o}=window;return t<o&&s>0&&e<n&&i>0}rebuild(){C(this,ve,ow).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Ze("An editor must be serializable")}static async deserialize(e,t,i){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});s.rotation=e.rotation,j(s,jl,e.accessibilityData);const[n,o]=s.pageDimensions,[l,c,d,h]=s.getRectInCurrentCoords(e.rect,o);return s.x=l/n,s.y=c/o,s.width=d/n,s.height=h/o,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=u(this,Qa))==null||e.abort(),j(this,Qa,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,Js)&&(clearTimeout(u(this,Js)),j(this,Js,null)),C(this,ve,Dh).call(this),this.removeEditToolbar(),u(this,Di)){for(const i of u(this,Di).values())clearTimeout(i);j(this,Di,null)}this.parent=null,(t=u(this,Cl))==null||t.destroy(),j(this,Cl,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(C(this,ve,D2).call(this),u(this,sr).classList.remove("hidden"),Wv(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),j(this,Vn,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=u(this,sr).children;if(!u(this,ds)){j(this,ds,Array.from(t));const o=C(this,ve,V2).bind(this),l=C(this,ve,z2).bind(this),c=this._uiManager._signal;for(const d of u(this,ds)){const h=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",o,{signal:c}),d.addEventListener("blur",l,{signal:c}),d.addEventListener("focus",C(this,ve,B2).bind(this,h),{signal:c}),d.setAttribute("data-l10n-id",Ce._l10nResizer[h])}}const i=u(this,ds)[0];let s=0;for(const o of t){if(o===i)break;s++}const n=(360-this.rotation+this.parentRotation)%360/90*(u(this,ds).length/4);if(n!==s){if(n<s)for(let l=0;l<s-n;l++)u(this,sr).append(u(this,sr).firstChild);else if(n>s)for(let l=0;l<n-s;l++)u(this,sr).firstChild.before(u(this,sr).lastChild);let o=0;for(const l of t){const d=u(this,ds)[o++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",Ce._l10nResizer[d])}}C(this,ve,lw).call(this,0),j(this,zn,!0),u(this,sr).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){u(this,zn)&&C(this,ve,nw).call(this,u(this,hf),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){C(this,ve,Dh).call(this),this.div.focus()}select(){var e,t,i;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,n;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((n=this._editToolbar)==null||n.show())});return}(t=this._editToolbar)==null||t.show(),(i=u(this,ot))==null||i.toggleAltTextBadge(!1)}unselect(){var e,t,i,s,n;(e=u(this,sr))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(n=u(this,ot))==null||n.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return u(this,pf)}set isEditing(e){j(this,pf,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){j(this,Sl,!0);const i=e/t,{style:s}=this.div;s.aspectRatio=i,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){u(this,Di)||j(this,Di,new Map);const{action:i}=e;let s=u(this,Di).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),u(this,Di).delete(i),u(this,Di).size===0&&j(this,Di,null)},Ce._telemetryTimeout),u(this,Di).set(i,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),j(this,Hd,!1)}disable(){this.div&&(this.div.tabIndex=-1),j(this,Hd,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};jl=new WeakMap,ds=new WeakMap,ot=new WeakMap,Hd=new WeakMap,Ja=new WeakMap,uf=new WeakMap,Sl=new WeakMap,sr=new WeakMap,El=new WeakMap,Vn=new WeakMap,Qa=new WeakMap,hf=new WeakMap,Al=new WeakMap,ni=new WeakMap,pf=new WeakMap,Nl=new WeakMap,zn=new WeakMap,Js=new WeakMap,Gd=new WeakMap,Wd=new WeakMap,Di=new WeakMap,Cl=new WeakMap,ff=new WeakMap,n_=new WeakMap,ve=new WeakSet,rw=function([e,t],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/e,this.y+=s/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},mf=new WeakSet,iw=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},$g=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},D2=function(){if(u(this,sr))return;j(this,sr,document.createElement("div")),u(this,sr).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const s=document.createElement("div");u(this,sr).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",C(this,ve,F2).bind(this,i),{signal:t}),s.addEventListener("contextmenu",Ds,{signal:t}),s.tabIndex=-1}this.div.prepend(u(this,sr))},F2=function(e,t){var h;t.preventDefault();const{isMac:i}=Mr.platform;if(t.button!==0||t.ctrlKey&&i)return;(h=u(this,ot))==null||h.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,j(this,El,[t.screenX,t.screenY]);const n=new AbortController,o=this._uiManager.combinedSignal(n);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",C(this,ve,nw).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",bi,{passive:!1,signal:o}),window.addEventListener("contextmenu",Ds,{signal:o}),j(this,Vn,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const d=()=>{var p;n.abort(),this.parent.togglePointerEvents(!0),(p=u(this,ot))==null||p.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=l,this.div.style.cursor=c,C(this,ve,Vg).call(this)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})},sw=function(e,t,i,s){this.width=i,this.height=s,this.x=e,this.y=t;const[n,o]=this.parentDimensions;this.setDims(n*i,o*s),this.fixAndSetPosition(),this._onResized()},Vg=function(){if(!u(this,Vn))return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:s}=u(this,Vn);j(this,Vn,null);const n=this.x,o=this.y,l=this.width,c=this.height;n===e&&o===t&&l===i&&c===s||this.addCommands({cmd:C(this,ve,sw).bind(this,n,o,l,c),undo:C(this,ve,sw).bind(this,e,t,i,s),mustExec:!0})},nw=function(e,t){const[i,s]=this.parentDimensions,n=this.x,o=this.y,l=this.width,c=this.height,d=Ce.MIN_SIZE/i,h=Ce.MIN_SIZE/s,p=C(this,ve,$g).call(this,this.rotation),f=(O,V)=>[p[0]*O+p[2]*V,p[1]*O+p[3]*V],m=C(this,ve,$g).call(this,360-this.rotation),g=(O,V)=>[m[0]*O+m[2]*V,m[1]*O+m[3]*V];let v,x,_=!1,y=!1;switch(e){case"topLeft":_=!0,v=(O,V)=>[0,0],x=(O,V)=>[O,V];break;case"topMiddle":v=(O,V)=>[O/2,0],x=(O,V)=>[O/2,V];break;case"topRight":_=!0,v=(O,V)=>[O,0],x=(O,V)=>[0,V];break;case"middleRight":y=!0,v=(O,V)=>[O,V/2],x=(O,V)=>[0,V/2];break;case"bottomRight":_=!0,v=(O,V)=>[O,V],x=(O,V)=>[0,0];break;case"bottomMiddle":v=(O,V)=>[O/2,V],x=(O,V)=>[O/2,0];break;case"bottomLeft":_=!0,v=(O,V)=>[0,V],x=(O,V)=>[O,0];break;case"middleLeft":y=!0,v=(O,V)=>[0,V/2],x=(O,V)=>[O,V/2];break}const w=v(l,c),k=x(l,c);let E=f(...k);const S=Ce._round(n+E[0]),A=Ce._round(o+E[1]);let P=1,R=1,I,M;if(t.fromKeyboard)({deltaX:I,deltaY:M}=t);else{const{screenX:O,screenY:V}=t,[D,z]=u(this,El);[I,M]=this.screenToPageTranslation(O-D,V-z),u(this,El)[0]=O,u(this,El)[1]=V}if([I,M]=g(I/i,M/s),_){const O=Math.hypot(l,c);P=R=Math.max(Math.min(Math.hypot(k[0]-w[0]-I,k[1]-w[1]-M)/O,1/l,1/c),d/l,h/c)}else y?P=Math.max(d,Math.min(1,Math.abs(k[0]-w[0]-I)))/l:R=Math.max(h,Math.min(1,Math.abs(k[1]-w[1]-M)))/c;const L=Ce._round(l*P),W=Ce._round(c*R);E=f(...x(L,W));const U=S-E[0],Y=A-E[1];u(this,ni)||j(this,ni,[this.x,this.y,this.width,this.height]),this.width=L,this.height=W,this.x=U,this.y=Y,this.setDims(i*L,s*W),this.fixAndSetPosition(),this._onResizing()},L2=function(){var e;j(this,Vn,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=u(this,ot))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},M2=function(e,t,i){let n=.7*(i/t)+1-.7;if(n===1)return;const o=C(this,ve,$g).call(this,this.rotation),l=(S,A)=>[o[0]*S+o[2]*A,o[1]*S+o[3]*A],[c,d]=this.parentDimensions,h=this.x,p=this.y,f=this.width,m=this.height,g=Ce.MIN_SIZE/c,v=Ce.MIN_SIZE/d;n=Math.max(Math.min(n,1/f,1/m),g/f,v/m);const x=Ce._round(f*n),_=Ce._round(m*n);if(x===f&&_===m)return;u(this,ni)||j(this,ni,[h,p,f,m]);const y=l(f/2,m/2),w=Ce._round(h+y[0]),k=Ce._round(p+y[1]),E=l(x/2,_/2);this.x=w-E[0],this.y=k-E[1],this.width=x,this.height=_,this.setDims(c*x,d*_),this.fixAndSetPosition(),this._onResizing()},O2=function(){var e;(e=u(this,ot))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),C(this,ve,Vg).call(this)},aw=function(e){const{isMac:t}=Mr.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},$2=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const s=new AbortController,n=this._uiManager.combinedSignal(s),o={capture:!0,passive:!1,signal:n},l=d=>{s.abort(),j(this,Ja,null),j(this,Al,!1),this._uiManager.endDragSession()||C(this,ve,aw).call(this,d),i&&this._onStopDragging()};t&&(j(this,Gd,e.clientX),j(this,Wd,e.clientY),j(this,Ja,e.pointerId),j(this,uf,e.pointerType),window.addEventListener("pointermove",d=>{i||(i=!0,this._onStartDragging());const{clientX:h,clientY:p,pointerId:f}=d;if(f!==u(this,Ja)){bi(d);return}const[m,g]=this.screenToPageTranslation(h-u(this,Gd),p-u(this,Wd));j(this,Gd,h),j(this,Wd,p),this._uiManager.dragSelectedEditors(m,g)},o),window.addEventListener("touchmove",bi,o),window.addEventListener("pointerdown",d=>{d.pointerType===u(this,uf)&&(u(this,Cl)||d.isPrimary)&&l(d),bi(d)},o));const c=d=>{if(!u(this,Ja)||u(this,Ja)===d.pointerId){l(d);return}bi(d)};window.addEventListener("pointerup",c,{signal:n}),window.addEventListener("blur",c,{signal:n})},ow=function(){if(u(this,Qa)||!this.div)return;j(this,Qa,new AbortController);const e=this._uiManager.combinedSignal(u(this,Qa));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},V2=function(e){Ce._resizerKeyboardManager.exec(this,e)},z2=function(e){var t;u(this,zn)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==u(this,sr)&&C(this,ve,Dh).call(this)},B2=function(e){j(this,hf,u(this,zn)?e:"")},lw=function(e){if(u(this,ds))for(const t of u(this,ds))t.tabIndex=e},Dh=function(){j(this,zn,!1),C(this,ve,lw).call(this,-1),C(this,ve,Vg).call(this)},N(Ce,mf),ge(Ce,"_l10n",null),ge(Ce,"_l10nResizer",null),ge(Ce,"_borderLineWidth",-1),ge(Ce,"_colorManager",new Kb),ge(Ce,"_zIndex",1),ge(Ce,"_telemetryTimeout",1e3);let _t=Ce;class TW extends _t{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const UE=3285377520,Ti=4294901760,Vs=65535;class U2{constructor(e){this.h1=e?e&4294967295:UE,this.h2=e?e&4294967295:UE}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let v=0,x=e.length;v<x;v++){const _=e.charCodeAt(v);_<=255?t[i++]=_:(t[i++]=_>>>8,t[i++]=_&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,n=i-s*4,o=new Uint32Array(t.buffer,0,s);let l=0,c=0,d=this.h1,h=this.h2;const p=3432918353,f=461845907,m=p&Vs,g=f&Vs;for(let v=0;v<s;v++)v&1?(l=o[v],l=l*p&Ti|l*m&Vs,l=l<<15|l>>>17,l=l*f&Ti|l*g&Vs,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(c=o[v],c=c*p&Ti|c*m&Vs,c=c<<15|c>>>17,c=c*f&Ti|c*g&Vs,h^=c,h=h<<13|h>>>19,h=h*5+3864292196);switch(l=0,n){case 3:l^=t[s*4+2]<<16;case 2:l^=t[s*4+1]<<8;case 1:l^=t[s*4],l=l*p&Ti|l*m&Vs,l=l<<15|l>>>17,l=l*f&Ti|l*g&Vs,s&1?d^=l:h^=l}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ti|e*36045&Vs,t=t*4283543511&Ti|((t<<16|e>>>16)*2950163797&Ti)>>>16,e^=t>>>1,e=e*444984403&Ti|e*60499&Vs,t=t*3301882366&Ti|((t<<16|e>>>16)*3120437893&Ti)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const cw=Object.freeze({map:null,hash:"",transfer:void 0});var Pl,Tl,Yt,a_,q2;class X0{constructor(){N(this,a_);N(this,Pl,!1);N(this,Tl,null);N(this,Yt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=u(this,Yt).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return u(this,Yt).get(e)}remove(e){if(u(this,Yt).delete(e),u(this,Yt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of u(this,Yt).values())if(t instanceof _t)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=u(this,Yt).get(e);let s=!1;if(i!==void 0)for(const[n,o]of Object.entries(t))i[n]!==o&&(s=!0,i[n]=o);else s=!0,u(this,Yt).set(e,t);s&&C(this,a_,q2).call(this),t instanceof _t&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return u(this,Yt).has(e)}getAll(){return u(this,Yt).size>0?q0(u(this,Yt)):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return u(this,Yt).size}resetModified(){u(this,Pl)&&(j(this,Pl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new H2(this)}get serializable(){if(u(this,Yt).size===0)return cw;const e=new Map,t=new U2,i=[],s=Object.create(null);let n=!1;for(const[o,l]of u(this,Yt)){const c=l instanceof _t?l.serialize(!1,s):l;c&&(e.set(o,c),t.update(`${o}:${JSON.stringify(c)}`),n||(n=!!c.bitmap))}if(n)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:cw}get editorStats(){let e=null;const t=new Map;for(const i of u(this,Yt).values()){if(!(i instanceof _t))continue;const s=i.telemetryFinalData;if(!s)continue;const{type:n}=s;t.has(n)||t.set(n,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=e[n]||(e[n]=new Map);for(const[l,c]of Object.entries(s)){if(l==="type")continue;let d=o.get(l);d||(d=new Map,o.set(l,d));const h=d.get(c)??0;d.set(c,h+1)}}for(const[i,s]of t)e[i]=s.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){j(this,Tl,null)}get modifiedIds(){if(u(this,Tl))return u(this,Tl);const e=[];for(const t of u(this,Yt).values())!(t instanceof _t)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return j(this,Tl,{ids:new Set(e),hash:e.join(",")})}}Pl=new WeakMap,Tl=new WeakMap,Yt=new WeakMap,a_=new WeakSet,q2=function(){u(this,Pl)||(j(this,Pl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var gf;class H2 extends X0{constructor(t){super();N(this,gf);const{map:i,hash:s,transfer:n}=t.serializable,o=structuredClone(i,n?{transfer:n}:null);j(this,gf,{map:o,hash:s,transfer:n})}get print(){Ze("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,gf)}get modifiedIds(){return Ie(this,"modifiedIds",{ids:new Set,hash:""})}}gf=new WeakMap;var Kd;class RW{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){N(this,Kd,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,Kd).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||u(this,Kd).has(e.loadedName))){if(It(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:n}=e,o=new FontFace(i,s,n);this.addNativeFontFace(o);try{await o.load(),u(this,Kd).add(i),t==null||t(e)}catch{Ne(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Ze("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw Ne(`Failed to load font '${i.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ie(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(jr||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ie(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(It(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const n=i.shift();setTimeout(n.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:t,callback:e};return i.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ie(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(k,E){return k.charCodeAt(E)<<24|k.charCodeAt(E+1)<<16|k.charCodeAt(E+2)<<8|k.charCodeAt(E+3)&255}function s(k,E,S,A){const P=k.substring(0,E),R=k.substring(E+S);return P+A+R}let n,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let d=0;function h(k,E){if(++d>30){Ne("Load test font never loaded."),E();return}if(c.font="30px "+k,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){E();return}setTimeout(h.bind(null,k,E))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,p.length,p);const g=16,v=1482184792;let x=i(f,g);for(n=0,o=p.length-3;n<o;n+=4)x=x-v+i(p,n)|0;n<p.length&&(x=x-v+i(p+"XXX",n)|0),f=s(f,g,4,vW(x));const _=`url(data:font/opentype;base64,${btoa(f)});`,y=`@font-face {font-family:"${p}";src:${_}}`;this.insertRule(y);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const k of[e.loadedName,p]){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=k,w.append(E)}this._document.body.append(w),h(p,()=>{w.remove(),t.complete()})}}Kd=new WeakMap;class IW{constructor(e,{disableFontFace:t=!1,fontExtraProperties:i=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this.disableFontFace=t===!0,this.fontExtraProperties=i===!0,this._inspectFont=s}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${kW(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let s;try{s=e.get(i)}catch(o){Ne(`getPathGenerator - ignoring character: "${o}".`)}const n=new Path2D(s||"");return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=n}}const ug={DATA:1,ERROR:2},Pt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function qE(){}function qr(r){if(r instanceof $o||r instanceof Bb||r instanceof Vp||r instanceof VE||r instanceof Gv||r instanceof ux)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||Ze('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new $o(r.message);case"InvalidPDFException":return new Bb(r.message);case"MissingPDFException":return new Vp(r.message);case"PasswordException":return new VE(r.message,r.code);case"UnexpectedResponseException":return new Gv(r.message,r.status);case"UnknownErrorException":return new ux(r.message,r.details)}return new ux(r.message,r.toString())}var Yd,Ki,G2,W2,K2,zg;class Fh{constructor(e,t,i){N(this,Ki);N(this,Yd,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",C(this,Ki,G2).bind(this),{signal:u(this,Yd).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const s=this.callbackId++,n=Promise.withResolvers();this.callbackCapabilities[s]=n;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},i)}catch(o){n.reject(o)}return n.promise}sendWithStream(e,t,i,s){const n=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:d=>{const h=Promise.withResolvers();return this.streamControllers[n]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:n,data:t,desiredSize:d.desiredSize},s),h.promise},pull:d=>{const h=Promise.withResolvers();return this.streamControllers[n].pullCall=h,c.postMessage({sourceName:o,targetName:l,stream:Pt.PULL,streamId:n,desiredSize:d.desiredSize}),h.promise},cancel:d=>{It(d instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[n].cancelCall=h,this.streamControllers[n].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:Pt.CANCEL,streamId:n,reason:qr(d)}),h.promise}},i)}destroy(){var e;(e=u(this,Yd))==null||e.abort(),j(this,Yd,null)}}Yd=new WeakMap,Ki=new WeakSet,G2=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){C(this,Ki,K2).call(this,e);return}if(e.callback){const i=e.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===ug.DATA)s.resolve(e.data);else if(e.callback===ug.ERROR)s.reject(qr(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,s=e.sourceName,n=this.comObj;Promise.try(t,e.data).then(function(o){n.postMessage({sourceName:i,targetName:s,callback:ug.DATA,callbackId:e.callbackId,data:o})},function(o){n.postMessage({sourceName:i,targetName:s,callback:ug.ERROR,callbackId:e.callbackId,reason:qr(o)})});return}if(e.streamId){C(this,Ki,W2).call(this,e);return}t(e.data)},W2=function(e){const t=e.streamId,i=this.sourceName,s=e.sourceName,n=this.comObj,o=this,l=this.actionHandler[e.action],c={enqueue(d,h=1,p){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),n.postMessage({sourceName:i,targetName:s,stream:Pt.ENQUEUE,streamId:t,chunk:d},p)},close(){this.isCancelled||(this.isCancelled=!0,n.postMessage({sourceName:i,targetName:s,stream:Pt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(d){It(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,n.postMessage({sourceName:i,targetName:s,stream:Pt.ERROR,streamId:t,reason:qr(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(l,e.data,c).then(function(){n.postMessage({sourceName:i,targetName:s,stream:Pt.START_COMPLETE,streamId:t,success:!0})},function(d){n.postMessage({sourceName:i,targetName:s,stream:Pt.START_COMPLETE,streamId:t,reason:qr(d)})})},K2=function(e){const t=e.streamId,i=this.sourceName,s=e.sourceName,n=this.comObj,o=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case Pt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(qr(e.reason));break;case Pt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(qr(e.reason));break;case Pt.PULL:if(!l){n.postMessage({sourceName:i,targetName:s,stream:Pt.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||qE).then(function(){n.postMessage({sourceName:i,targetName:s,stream:Pt.PULL_COMPLETE,streamId:t,success:!0})},function(d){n.postMessage({sourceName:i,targetName:s,stream:Pt.PULL_COMPLETE,streamId:t,reason:qr(d)})});break;case Pt.ENQUEUE:if(It(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Pt.CLOSE:if(It(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),C(this,Ki,zg).call(this,o,t);break;case Pt.ERROR:It(o,"error should have stream controller"),o.controller.error(qr(e.reason)),C(this,Ki,zg).call(this,o,t);break;case Pt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(qr(e.reason)),C(this,Ki,zg).call(this,o,t);break;case Pt.CANCEL:if(!l)break;const c=qr(e.reason);Promise.try(l.onCancel||qE,c).then(function(){n.postMessage({sourceName:i,targetName:s,stream:Pt.CANCEL_COMPLETE,streamId:t,success:!0})},function(d){n.postMessage({sourceName:i,targetName:s,stream:Pt.CANCEL_COMPLETE,streamId:t,reason:qr(d)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},zg=async function(e,t){var i,s,n;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(s=e.pullCall)==null?void 0:s.promise,(n=e.cancelCall)==null?void 0:n.promise]),delete this.streamControllers[t]};var vf;class Y2{constructor({enableHWA:e=!1}){N(this,vf,!1);j(this,vf,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!u(this,vf)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ze("Abstract method `_createCanvas` called.")}}vf=new WeakMap;class DW extends Y2{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class X2{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ze("Abstract method `_fetch` called.")}}class J2 extends X2{async _fetch(e){const t=await ay(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):ny(t)}}class Q2{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,s,n){return"none"}destroy(e=!1){}}var Rl,Xd,Bn,Un,yr,Il,Dl,se,gr,Lh,Jc,Bg,Qc,Z2,dw,Zc,Mh,Oh,uw,$h;class FW extends Q2{constructor({docId:t,ownerDocument:i=globalThis.document}){super();N(this,se);N(this,Rl);N(this,Xd);N(this,Bn);N(this,Un);N(this,yr);N(this,Il);N(this,Dl,0);j(this,Un,t),j(this,yr,i)}addFilter(t){if(!t)return"none";let i=u(this,se,gr).get(t);if(i)return i;const[s,n,o]=C(this,se,Bg).call(this,t),l=t.length===1?s:`${s}${n}${o}`;if(i=u(this,se,gr).get(l),i)return u(this,se,gr).set(t,i),i;const c=`g_${u(this,Un)}_transfer_map_${Nr(this,Dl)._++}`,d=C(this,se,Qc).call(this,c);u(this,se,gr).set(t,d),u(this,se,gr).set(l,d);const h=C(this,se,Zc).call(this,c);return C(this,se,Oh).call(this,s,n,o,h),d}addHCMFilter(t,i){var g;const s=`${t}-${i}`,n="base";let o=u(this,se,Lh).get(n);if((o==null?void 0:o.key)===s||(o?((g=o.filter)==null||g.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},u(this,se,Lh).set(n,o)),!t||!i))return o.url;const l=C(this,se,$h).call(this,t);t=fe.makeHexColor(...l);const c=C(this,se,$h).call(this,i);if(i=fe.makeHexColor(...c),u(this,se,Jc).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return o.url;const d=new Array(256);for(let v=0;v<=255;v++){const x=v/255;d[v]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const h=d.join(","),p=`g_${u(this,Un)}_hcm_filter`,f=o.filter=C(this,se,Zc).call(this,p);C(this,se,Oh).call(this,h,h,h,f),C(this,se,dw).call(this,f);const m=(v,x)=>{const _=l[v]/255,y=c[v]/255,w=new Array(x+1);for(let k=0;k<=x;k++)w[k]=_+k/x*(y-_);return w.join(",")};return C(this,se,Oh).call(this,m(0,5),m(1,5),m(2,5),f),o.url=C(this,se,Qc).call(this,p),o.url}addAlphaFilter(t){let i=u(this,se,gr).get(t);if(i)return i;const[s]=C(this,se,Bg).call(this,[t]),n=`alpha_${s}`;if(i=u(this,se,gr).get(n),i)return u(this,se,gr).set(t,i),i;const o=`g_${u(this,Un)}_alpha_map_${Nr(this,Dl)._++}`,l=C(this,se,Qc).call(this,o);u(this,se,gr).set(t,l),u(this,se,gr).set(n,l);const c=C(this,se,Zc).call(this,o);return C(this,se,uw).call(this,s,c),l}addLuminosityFilter(t){let i=u(this,se,gr).get(t||"luminosity");if(i)return i;let s,n;if(t?([s]=C(this,se,Bg).call(this,[t]),n=`luminosity_${s}`):n="luminosity",i=u(this,se,gr).get(n),i)return u(this,se,gr).set(t,i),i;const o=`g_${u(this,Un)}_luminosity_map_${Nr(this,Dl)._++}`,l=C(this,se,Qc).call(this,o);u(this,se,gr).set(t,l),u(this,se,gr).set(n,l);const c=C(this,se,Zc).call(this,o);return C(this,se,Z2).call(this,c),t&&C(this,se,uw).call(this,s,c),l}addHighlightHCMFilter(t,i,s,n,o){var y;const l=`${i}-${s}-${n}-${o}`;let c=u(this,se,Lh).get(t);if((c==null?void 0:c.key)===l||(c?((y=c.filter)==null||y.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},u(this,se,Lh).set(t,c)),!i||!s))return c.url;const[d,h]=[i,s].map(C(this,se,$h).bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[m,g]=[n,o].map(C(this,se,$h).bind(this));f<p&&([p,f,m,g]=[f,p,g,m]),u(this,se,Jc).style.color="";const v=(w,k,E)=>{const S=new Array(256),A=(f-p)/E,P=w/255,R=(k-w)/(255*E);let I=0;for(let M=0;M<=E;M++){const L=Math.round(p+M*A),W=P+M*R;for(let U=I;U<=L;U++)S[U]=W;I=L+1}for(let M=I;M<256;M++)S[M]=S[I-1];return S.join(",")},x=`g_${u(this,Un)}_hcm_${t}_filter`,_=c.filter=C(this,se,Zc).call(this,x);return C(this,se,dw).call(this,_),C(this,se,Oh).call(this,v(m[0],g[0],5),v(m[1],g[1],5),v(m[2],g[2],5),_),c.url=C(this,se,Qc).call(this,x),c.url}destroy(t=!1){var i,s,n,o;t&&((i=u(this,Il))!=null&&i.size)||((s=u(this,Bn))==null||s.parentNode.parentNode.remove(),j(this,Bn,null),(n=u(this,Xd))==null||n.clear(),j(this,Xd,null),(o=u(this,Il))==null||o.clear(),j(this,Il,null),j(this,Dl,0))}}Rl=new WeakMap,Xd=new WeakMap,Bn=new WeakMap,Un=new WeakMap,yr=new WeakMap,Il=new WeakMap,Dl=new WeakMap,se=new WeakSet,gr=function(){return u(this,Xd)||j(this,Xd,new Map)},Lh=function(){return u(this,Il)||j(this,Il,new Map)},Jc=function(){if(!u(this,Bn)){const t=u(this,yr).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=u(this,yr).createElementNS(An,"svg");s.setAttribute("width",0),s.setAttribute("height",0),j(this,Bn,u(this,yr).createElementNS(An,"defs")),t.append(s),s.append(u(this,Bn)),u(this,yr).body.append(t)}return u(this,Bn)},Bg=function(t){if(t.length===1){const d=t[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=d[f]/255;const p=h.join(",");return[p,p,p]}const[i,s,n]=t,o=new Array(256),l=new Array(256),c=new Array(256);for(let d=0;d<256;d++)o[d]=i[d]/255,l[d]=s[d]/255,c[d]=n[d]/255;return[o.join(","),l.join(","),c.join(",")]},Qc=function(t){if(u(this,Rl)===void 0){j(this,Rl,"");const i=u(this,yr).URL;i!==u(this,yr).baseURI&&(oy(i)?Ne('#createUrl: ignore "data:"-URL for performance reasons.'):j(this,Rl,i.split("#",1)[0]))}return`url(${u(this,Rl)}#${t})`},Z2=function(t){const i=u(this,yr).createElementNS(An,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},dw=function(t){const i=u(this,yr).createElementNS(An,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},Zc=function(t){const i=u(this,yr).createElementNS(An,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),u(this,se,Jc).append(i),i},Mh=function(t,i,s){const n=u(this,yr).createElementNS(An,i);n.setAttribute("type","discrete"),n.setAttribute("tableValues",s),t.append(n)},Oh=function(t,i,s,n){const o=u(this,yr).createElementNS(An,"feComponentTransfer");n.append(o),C(this,se,Mh).call(this,o,"feFuncR",t),C(this,se,Mh).call(this,o,"feFuncG",i),C(this,se,Mh).call(this,o,"feFuncB",s)},uw=function(t,i){const s=u(this,yr).createElementNS(An,"feComponentTransfer");i.append(s),C(this,se,Mh).call(this,s,"feFuncA",t)},$h=function(t){return u(this,se,Jc).style.color=t,Y0(getComputedStyle(u(this,se,Jc)).getPropertyValue("color"))};class eR{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ze("Abstract method `_fetch` called.")}}class tR extends eR{async _fetch(e){const t=await ay(e,"arraybuffer");return new Uint8Array(t)}}jr&&Ne("Please use the `legacy` build in Node.js environments.");async function rR(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class LW extends Q2{}class MW extends Y2{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class OW extends X2{async _fetch(e){return rR(e)}}class $W extends eR{async _fetch(e){return rR(e)}}const wr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function hw(r,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,i),r.clip(s)}class J0{getPattern(){Ze("Abstract method `getPattern` called.")}}class VW extends J0{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,s){let n;if(s===wr.STROKE||s===wr.FILL){const o=t.current.getClippedPathBoundingBox(s,dt(e))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,d=t.cachedCanvases.getCanvas("pattern",l,c),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),i=fe.transform(i,[1,0,0,1,o[0],o[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),hw(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),n=e.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(i);n.setTransform(p)}else hw(e,this._bbox),n=this._createGradient(e);return n}}function fx(r,e,t,i,s,n,o,l){const c=e.coords,d=e.colors,h=r.data,p=r.width*4;let f;c[t+1]>c[i+1]&&(f=t,t=i,i=f,f=n,n=o,o=f),c[i+1]>c[s+1]&&(f=i,i=s,s=f,f=o,o=l,l=f),c[t+1]>c[i+1]&&(f=t,t=i,i=f,f=n,n=o,o=f);const m=(c[t]+e.offsetX)*e.scaleX,g=(c[t+1]+e.offsetY)*e.scaleY,v=(c[i]+e.offsetX)*e.scaleX,x=(c[i+1]+e.offsetY)*e.scaleY,_=(c[s]+e.offsetX)*e.scaleX,y=(c[s+1]+e.offsetY)*e.scaleY;if(g>=y)return;const w=d[n],k=d[n+1],E=d[n+2],S=d[o],A=d[o+1],P=d[o+2],R=d[l],I=d[l+1],M=d[l+2],L=Math.round(g),W=Math.round(y);let U,Y,O,V,D,z,F,B;for(let J=L;J<=W;J++){if(J<x){const H=J<g?0:(g-J)/(g-x);U=m-(m-v)*H,Y=w-(w-S)*H,O=k-(k-A)*H,V=E-(E-P)*H}else{let H;J>y?H=1:x===y?H=0:H=(x-J)/(x-y),U=v-(v-_)*H,Y=S-(S-R)*H,O=A-(A-I)*H,V=P-(P-M)*H}let te;J<g?te=0:J>y?te=1:te=(g-J)/(g-y),D=m-(m-_)*te,z=w-(w-R)*te,F=k-(k-I)*te,B=E-(E-M)*te;const re=Math.round(Math.min(U,D)),q=Math.round(Math.max(U,D));let ie=p*J+re*4;for(let H=re;H<=q;H++)te=(U-H)/(U-D),te<0?te=0:te>1&&(te=1),h[ie++]=Y-(Y-z)*te|0,h[ie++]=O-(O-F)*te|0,h[ie++]=V-(V-B)*te|0,h[ie++]=255}}function zW(r,e,t){const i=e.coords,s=e.colors;let n,o;switch(e.type){case"lattice":const l=e.verticesPerRow,c=Math.floor(i.length/l)-1,d=l-1;for(n=0;n<c;n++){let h=n*l;for(let p=0;p<d;p++,h++)fx(r,t,i[h],i[h+1],i[h+l],s[h],s[h+1],s[h+l]),fx(r,t,i[h+l+1],i[h+1],i[h+l],s[h+l+1],s[h+1],s[h+l])}break;case"triangles":for(n=0,o=i.length;n<o;n+=3)fx(r,t,i[n],i[n+1],i[n+2],s[n],s[n+1],s[n+2]);break;default:throw new Error("illegal figure")}}class BW extends J0{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-l,h=Math.ceil(this._bounds[3])-c,p=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),m=d/p,g=h/f,v={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/m,scaleY:1/g},x=p+2*2,_=f+2*2,y=i.getCanvas("mesh",x,_),w=y.context,k=w.createImageData(p,f);if(t){const S=k.data;for(let A=0,P=S.length;A<P;A+=4)S[A]=t[0],S[A+1]=t[1],S[A+2]=t[2],S[A+3]=255}for(const S of this._figures)zW(k,S,v);return w.putImageData(k,2,2),{canvas:y.canvas,offsetX:l-2*m,offsetY:c-2*g,scaleX:m,scaleY:g}}getPattern(e,t,i,s){hw(e,this._bbox);let n;if(s===wr.SHADING)n=fe.singularValueDecompose2dScale(dt(e));else if(n=fe.singularValueDecompose2dScale(t.baseTransform),this.matrix){const l=fe.singularValueDecompose2dScale(this.matrix);n=[n[0]*l[0],n[1]*l[1]]}const o=this._createMeshCanvas(n,s===wr.SHADING?null:this._background,t.cachedCanvases);return s!==wr.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class UW extends J0{getPattern(){return"hotpink"}}function qW(r){switch(r[0]){case"RadialAxial":return new VW(r);case"Mesh":return new BW(r);case"Dummy":return new UW}throw new Error(`Unknown IR type: ${r[0]}`)}const HE={COLORED:1,UNCOLORED:2},o_=class o_{constructor(e,t,i,s,n){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=i,this.canvasGraphicsFactory=s,this.baseTransform=n}createPatternCanvas(e){const{bbox:t,operatorList:i,paintType:s,tilingType:n,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:d}=this;c=Math.abs(c),d=Math.abs(d),sy("TilingType: "+n);const h=t[0],p=t[1],f=t[2],m=t[3],g=f-h,v=m-p,x=fe.singularValueDecompose2dScale(this.matrix),_=fe.singularValueDecompose2dScale(this.baseTransform),y=x[0]*_[0],w=x[1]*_[1];let k=g,E=v,S=!1,A=!1;const P=Math.ceil(c*y),R=Math.ceil(d*w),I=Math.ceil(g*y),M=Math.ceil(v*w);P>=I?k=c:S=!0,R>=M?E=d:A=!0;const L=this.getSizeAndScale(k,this.ctx.canvas.width,y),W=this.getSizeAndScale(E,this.ctx.canvas.height,w),U=e.cachedCanvases.getCanvas("pattern",L.size,W.size),Y=U.context,O=l.createCanvasGraphics(Y);if(O.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(O,s,o),Y.translate(-L.scale*h,-W.scale*p),O.transform(L.scale,0,0,W.scale,0,0),Y.save(),this.clipBbox(O,h,p,f,m),O.baseTransform=dt(O.ctx),O.executeOperatorList(i),O.endDrawing(),Y.restore(),S||A){const V=U.canvas;S&&(k=c),A&&(E=d);const D=this.getSizeAndScale(k,this.ctx.canvas.width,y),z=this.getSizeAndScale(E,this.ctx.canvas.height,w),F=D.size,B=z.size,J=e.cachedCanvases.getCanvas("pattern-workaround",F,B),te=J.context,re=S?Math.floor(g/c):0,q=A?Math.floor(v/d):0;for(let ie=0;ie<=re;ie++)for(let H=0;H<=q;H++)te.drawImage(V,F*ie,B*H,F,B,0,0,F,B);return{canvas:J.canvas,scaleX:D.scale,scaleY:z.scale,offsetX:h,offsetY:p}}return{canvas:U.canvas,scaleX:L.scale,scaleY:W.scale,offsetX:h,offsetY:p}}getSizeAndScale(e,t,i){const s=Math.max(o_.MAX_PATTERN_SIZE,t);let n=Math.ceil(e*i);return n>=s?n=s:i=n/e,{scale:i,size:n}}clipBbox(e,t,i,s,n){const o=s-t,l=n-i;e.ctx.rect(t,i,o,l),e.current.updateRectMinMax(dt(e.ctx),[t,i,s,n]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const s=e.ctx,n=e.current;switch(t){case HE.COLORED:const o=this.ctx;s.fillStyle=o.fillStyle,s.strokeStyle=o.strokeStyle,n.fillColor=o.fillStyle,n.strokeColor=o.strokeStyle;break;case HE.UNCOLORED:const l=fe.makeHexColor(i[0],i[1],i[2]);s.fillStyle=l,s.strokeStyle=l,n.fillColor=l,n.strokeColor=l;break;default:throw new gW(`Unsupported paint type: ${t}`)}}getPattern(e,t,i,s){let n=i;s!==wr.SHADING&&(n=fe.transform(n,t.baseTransform),this.matrix&&(n=fe.transform(n,this.matrix)));const o=this.createPatternCanvas(t);let l=new DOMMatrix(n);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}};ge(o_,"MAX_PATTERN_SIZE",3e3);let pw=o_;function HW({src:r,srcPos:e=0,dest:t,width:i,height:s,nonBlackColor:n=4294967295,inverseDecode:o=!1}){const l=Mr.isLittleEndian?4278190080:255,[c,d]=o?[n,l]:[l,n],h=i>>3,p=i&7,f=r.length;t=new Uint32Array(t.buffer);let m=0;for(let g=0;g<s;g++){for(const x=e+h;e<x;e++){const _=e<f?r[e]:255;t[m++]=_&128?d:c,t[m++]=_&64?d:c,t[m++]=_&32?d:c,t[m++]=_&16?d:c,t[m++]=_&8?d:c,t[m++]=_&4?d:c,t[m++]=_&2?d:c,t[m++]=_&1?d:c}if(p===0)continue;const v=e<f?r[e++]:255;for(let x=0;x<p;x++)t[m++]=v&1<<7-x?d:c}return{srcPos:e,destPos:m}}const GE=16,WE=100,GW=15,KE=10,YE=1e3,Yr=16;function WW(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(i,s){e.translate(i,s),this.__originalTranslate(i,s)},r.scale=function(i,s){e.scale(i,s),this.__originalScale(i,s)},r.transform=function(i,s,n,o,l,c){e.transform(i,s,n,o,l,c),this.__originalTransform(i,s,n,o,l,c)},r.setTransform=function(i,s,n,o,l,c){e.setTransform(i,s,n,o,l,c),this.__originalSetTransform(i,s,n,o,l,c)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(i){e.rotate(i),this.__originalRotate(i)},r.clip=function(i){e.clip(i),this.__originalClip(i)},r.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},r.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},r.bezierCurveTo=function(t,i,s,n,o,l){e.bezierCurveTo(t,i,s,n,o,l),this.__originalBezierCurveTo(t,i,s,n,o,l)},r.rect=function(t,i,s,n){e.rect(t,i,s,n),this.__originalRect(t,i,s,n)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class KW{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,i)):(s=this.canvasFactory.create(t,i),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function hg(r,e,t,i,s,n,o,l,c,d){const[h,p,f,m,g,v]=dt(r);if(p===0&&f===0){const y=o*h+g,w=Math.round(y),k=l*m+v,E=Math.round(k),S=(o+c)*h+g,A=Math.abs(Math.round(S)-w)||1,P=(l+d)*m+v,R=Math.abs(Math.round(P)-E)||1;return r.setTransform(Math.sign(h),0,0,Math.sign(m),w,E),r.drawImage(e,t,i,s,n,0,0,A,R),r.setTransform(h,p,f,m,g,v),[A,R]}if(h===0&&m===0){const y=l*f+g,w=Math.round(y),k=o*p+v,E=Math.round(k),S=(l+d)*f+g,A=Math.abs(Math.round(S)-w)||1,P=(o+c)*p+v,R=Math.abs(Math.round(P)-E)||1;return r.setTransform(0,Math.sign(p),Math.sign(f),0,w,E),r.drawImage(e,t,i,s,n,0,0,R,A),r.setTransform(h,p,f,m,g,v),[R,A]}r.drawImage(e,t,i,s,n,o,l,c,d);const x=Math.hypot(h,p),_=Math.hypot(f,m);return[x*c,_*d]}function YW(r){const{width:e,height:t}=r;if(e>YE||t>YE)return null;const i=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),n=e+1;let o=new Uint8Array(n*(t+1)),l,c,d;const h=e+7&-8;let p=new Uint8Array(h*t),f=0;for(const _ of r.data){let y=128;for(;y>0;)p[f++]=_&y?0:255,y>>=1}let m=0;for(f=0,p[f]!==0&&(o[0]=1,++m),c=1;c<e;c++)p[f]!==p[f+1]&&(o[c]=p[f]?2:1,++m),f++;for(p[f]!==0&&(o[c]=2,++m),l=1;l<t;l++){f=l*h,d=l*n,p[f-h]!==p[f]&&(o[d]=p[f]?1:8,++m);let _=(p[f]?4:0)+(p[f-h]?8:0);for(c=1;c<e;c++)_=(_>>2)+(p[f+1]?4:0)+(p[f-h+1]?8:0),s[_]&&(o[d+c]=s[_],++m),f++;if(p[f-h]!==p[f]&&(o[d+c]=p[f]?2:4,++m),m>i)return null}for(f=h*(t-1),d=l*n,p[f]!==0&&(o[d]=8,++m),c=1;c<e;c++)p[f]!==p[f+1]&&(o[d+c]=p[f]?4:8,++m),f++;if(p[f]!==0&&(o[d+c]=4,++m),m>i)return null;const g=new Int32Array([0,n,-1,0,-n,0,0,0,1]),v=new Path2D;for(l=0;m&&l<=t;l++){let _=l*n;const y=_+e;for(;_<y&&!o[_];)_++;if(_===y)continue;v.moveTo(_%n,l);const w=_;let k=o[_];do{const E=g[k];do _+=E;while(!o[_]);const S=o[_];S!==5&&S!==10?(k=S,o[_]=0):(k=S&51*k>>4,o[_]&=k>>2|k<<2),v.lineTo(_%n,_/n|0),o[_]||--m}while(w!==_);--l}return p=null,o=null,function(_){_.save(),_.scale(1/e,-1/t),_.translate(0,-t),_.fill(v),_.beginPath(),_.restore()}}class XE{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=h2,this.textMatrixScale=1,this.fontMatrix=zb,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=mr.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=fe.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=fe.applyTransform(t,e),s=fe.applyTransform(t.slice(2),e),n=fe.applyTransform([t[0],t[3]],e),o=fe.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],s[0],n[0],o[0]),this.minY=Math.min(this.minY,i[1],s[1],n[1],o[1]),this.maxX=Math.max(this.maxX,i[0],s[0],n[0],o[0]),this.maxY=Math.max(this.maxY,i[1],s[1],n[1],o[1])}updateScalingPathMinMax(e,t){fe.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,s,n,o,l,c,d,h){const p=fe.bezierBoundingBox(t,i,s,n,o,l,c,d,h);h||this.updateRectMinMax(e,p)}getPathBoundingBox(e=wr.FILL,t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===wr.STROKE){t||Ze("Stroke bounding box must include transform.");const s=fe.singularValueDecompose2dScale(t),n=s[0]*this.lineWidth/2,o=s[1]*this.lineWidth/2;i[0]-=n,i[1]-=o,i[2]+=n,i[3]+=o}return i}updateClipFromPath(){const e=fe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=wr.FILL,t=null){return fe.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function JE(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,i=e.width,s=t%Yr,n=(t-s)/Yr,o=s===0?n:n+1,l=r.createImageData(i,Yr);let c=0,d;const h=e.data,p=l.data;let f,m,g,v;if(e.kind===Rg.GRAYSCALE_1BPP){const x=h.byteLength,_=new Uint32Array(p.buffer,0,p.byteLength>>2),y=_.length,w=i+7>>3,k=4294967295,E=Mr.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(g=f<n?Yr:s,d=0,m=0;m<g;m++){const S=x-c;let A=0;const P=S>w?i:S*8-7,R=P&-8;let I=0,M=0;for(;A<R;A+=8)M=h[c++],_[d++]=M&128?k:E,_[d++]=M&64?k:E,_[d++]=M&32?k:E,_[d++]=M&16?k:E,_[d++]=M&8?k:E,_[d++]=M&4?k:E,_[d++]=M&2?k:E,_[d++]=M&1?k:E;for(;A<P;A++)I===0&&(M=h[c++],I=128),_[d++]=M&I?k:E,I>>=1}for(;d<y;)_[d++]=0;r.putImageData(l,0,f*Yr)}}else if(e.kind===Rg.RGBA_32BPP){for(m=0,v=i*Yr*4,f=0;f<n;f++)p.set(h.subarray(c,c+v)),c+=v,r.putImageData(l,0,m),m+=Yr;f<o&&(v=i*s*4,p.set(h.subarray(c,c+v)),r.putImageData(l,0,m))}else if(e.kind===Rg.RGB_24BPP)for(g=Yr,v=i*g,f=0;f<o;f++){for(f>=n&&(g=s,v=i*g),d=0,m=v;m--;)p[d++]=h[c++],p[d++]=h[c++],p[d++]=h[c++],p[d++]=255;r.putImageData(l,0,f*Yr)}else throw new Error(`bad image kind: ${e.kind}`)}function QE(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,s=t%Yr,n=(t-s)/Yr,o=s===0?n:n+1,l=r.createImageData(i,Yr);let c=0;const d=e.data,h=l.data;for(let p=0;p<o;p++){const f=p<n?Yr:s;({srcPos:c}=HW({src:d,srcPos:c,dest:h,width:i,height:f,nonBlackColor:0})),r.putImageData(l,0,p*Yr)}}function bh(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)r[i]!==void 0&&(e[i]=r[i]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function pg(r){if(r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0),!jr){const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}}function ZE(r,e){if(e)return!0;const t=fe.singularValueDecompose2dScale(r);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Vo.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}const XW=["butt","round","square"],JW=["miter","round","bevel"],QW={},eA={};var Fs,fw,mw,gw;const rj=class rj{constructor(e,t,i,s,n,{optionalContentConfig:o,markedContentStack:l=null},c,d){N(this,Fs);this.ctx=e,this.current=new XE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=s,this.filterFactory=n,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new KW(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:s=null}){const n=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,n,o),this.ctx.fillStyle=l,i){const c=this.cachedCanvases.getCanvas("transparent",n,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...dt(this.compositeCtx))}this.ctx.save(),pg(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=dt(this.ctx)}executeOperatorList(e,t,i,s){const n=e.argsArray,o=e.fnArray;let l=t||0;const c=n.length;if(c===l)return l;const d=c-l>KE&&typeof i=="function",h=d?Date.now()+GW:0;let p=0;const f=this.commonObjs,m=this.objs;let g;for(;;){if(s!==void 0&&l===s.nextBreakPoint)return s.breakIt(l,i),l;if(g=o[l],g!==as.dependency)this[g].apply(this,n[l]);else for(const v of n[l]){const x=v.startsWith("g_")?f:m;if(!x.has(v))return x.get(v,i),l}if(l++,l===c)return l;if(d&&++p>KE){if(Date.now()>h)return i(),l;p=0}}}endDrawing(){C(this,Fs,fw).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),C(this,Fs,mw).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,s=e.height??e.displayHeight;let n=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=i,c=s,d="prescale1",h,p;for(;n>2&&l>1||o>2&&c>1;){let f=l,m=c;n>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),n/=l/f),o>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/m),h=this.cachedCanvases.getCanvas(d,f,m),p=h.context,p.clearRect(0,0,f,m),p.drawImage(e,0,0,l,c,0,0,f,m),e=h.canvas,l=f,c=m,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:s}=e,n=this.current.fillColor,o=this.current.patternFill,l=dt(t);let c,d,h,p;if((e.bitmap||e.data)&&e.count>1){const P=e.bitmap||e.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),n]),c=this._cachedBitmapsMap.get(P),c||(c=new Map,this._cachedBitmapsMap.set(P,c));const R=c.get(d);if(R&&!o){const I=Math.round(Math.min(l[0],l[2])+l[4]),M=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:R,offsetX:I,offsetY:M}}h=R}h||(p=this.cachedCanvases.getCanvas("maskCanvas",i,s),QE(p.context,e));let f=fe.transform(l,[1/i,0,0,-1/s,0,0]);f=fe.transform(f,[1,0,0,1,0,-s]);const[m,g,v,x]=fe.getAxialAlignedBoundingBox([0,0,i,s],f),_=Math.round(v-m)||1,y=Math.round(x-g)||1,w=this.cachedCanvases.getCanvas("fillCanvas",_,y),k=w.context,E=m,S=g;k.translate(-E,-S),k.transform(...f),h||(h=this._scaleImage(p.canvas,$s(k)),h=h.img,c&&o&&c.set(d,h)),k.imageSmoothingEnabled=ZE(dt(k),e.interpolate),hg(k,h,0,0,h.width,h.height,0,0,i,s),k.globalCompositeOperation="source-in";const A=fe.transform($s(k),[1,0,0,1,-E,-S]);return k.fillStyle=o?n.getPattern(t,this,A,wr.FILL):n,k.fillRect(0,0,i,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(d,w.canvas)),{canvas:w.canvas,offsetX:Math.round(E),offsetY:Math.round(S)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=XW[e]}setLineJoin(e){this.ctx.lineJoin=JW[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const n=this.ctx;n.setTransform(...dt(this.suspendedCtx)),bh(this.suspendedCtx,n),WW(n,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),bh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,s){const n=s[0],o=s[1],l=s[2]-n,c=s[3]-o;l===0||c===0||(this.genericComposeSMask(t.context,i,l,c,t.subtype,t.backdrop,t.transferMap,n,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,s,n,o,l,c,d,h,p){let f=e.canvas,m=c-h,g=d-p;if(o){const x=fe.makeHexColor(...o);if(m<0||g<0||m+i>f.width||g+s>f.height){const _=this.cachedCanvases.getCanvas("maskExtension",i,s),y=_.context;y.drawImage(f,-m,-g),y.globalCompositeOperation="destination-atop",y.fillStyle=x,y.fillRect(0,0,i,s),y.globalCompositeOperation="source-over",f=_.canvas,m=g=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(m,g,i,s),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=x,e.fillRect(m,g,i,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),n==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):n==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const v=new Path2D;v.rect(c,d,i,s),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(f,m,g,i,s,c,d,i,s),t.restore()}save(){this.inSMaskMode?(bh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),bh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,s,n,o){this.ctx.transform(e,t,i,s,n,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const s=this.ctx,n=this.current;let o=n.x,l=n.y,c,d;const h=dt(s),p=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,f=p?i.slice(0):null;for(let m=0,g=0,v=e.length;m<v;m++)switch(e[m]|0){case as.rectangle:o=t[g++],l=t[g++];const x=t[g++],_=t[g++],y=o+x,w=l+_;s.moveTo(o,l),x===0||_===0?s.lineTo(y,w):(s.lineTo(y,l),s.lineTo(y,w),s.lineTo(o,w)),p||n.updateRectMinMax(h,[o,l,y,w]),s.closePath();break;case as.moveTo:o=t[g++],l=t[g++],s.moveTo(o,l),p||n.updatePathMinMax(h,o,l);break;case as.lineTo:o=t[g++],l=t[g++],s.lineTo(o,l),p||n.updatePathMinMax(h,o,l);break;case as.curveTo:c=o,d=l,o=t[g+4],l=t[g+5],s.bezierCurveTo(t[g],t[g+1],t[g+2],t[g+3],o,l),n.updateCurvePathMinMax(h,c,d,t[g],t[g+1],t[g+2],t[g+3],o,l,f),g+=6;break;case as.curveTo2:c=o,d=l,s.bezierCurveTo(o,l,t[g],t[g+1],t[g+2],t[g+3]),n.updateCurvePathMinMax(h,c,d,o,l,t[g],t[g+1],t[g+2],t[g+3],f),o=t[g+2],l=t[g+3],g+=4;break;case as.curveTo3:c=o,d=l,o=t[g+2],l=t[g+3],s.bezierCurveTo(t[g],t[g+1],o,l,o,l),n.updateCurvePathMinMax(h,c,d,t[g],t[g+1],o,l,o,l,f),g+=4;break;case as.closePath:s.closePath();break}p&&n.updateScalingPathMinMax(h,f),n.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(t.save(),t.strokeStyle=i.getPattern(t,this,$s(t),wr.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let n=!1;s&&(t.save(),t.fillStyle=i.getPattern(t,this,$s(t),wr.FILL),n=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),n&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=QW}eoClip(){this.pendingClip=eA}beginText(){this.current.textMatrix=h2,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}const i=new Path2D,s=t.getTransform().invertSelf();for(const{transform:n,x:o,y:l,fontSize:c,path:d}of e)i.addPath(d,new DOMMatrix(n).preMultiplySelf(s).translate(o,l).scale(c,-c));t.clip(i),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const i=this.commonObjs.get(e),s=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=i.fontMatrix||zb,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Ne("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const n=i.loadedName||"sans-serif",o=((h=i.systemFontInfo)==null?void 0:h.css)||`"${n}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let d=t;t<GE?d=GE:t>WE&&(d=WE),this.current.fontSizeScale=t/d,this.ctx.font=`${c} ${l} ${d}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,s,n,o){this.current.textMatrix=[e,t,i,s,n,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,s,n){const o=this.ctx,l=this.current,c=l.font,d=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,p=d&mr.FILL_STROKE_MASK,f=!!(d&mr.ADD_TO_PATH_FLAG),m=l.patternFill&&!c.missingFile,g=l.patternStroke&&!c.missingFile;let v;if((c.disableFontFace||f||m||g)&&(v=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||m||g){if(o.save(),o.translate(t,i),o.scale(h,-h),p===mr.FILL||p===mr.FILL_STROKE)if(s){const x=o.getTransform();o.setTransform(...s),o.fill(C(this,Fs,gw).call(this,v,x,s))}else o.fill(v);if(p===mr.STROKE||p===mr.FILL_STROKE)if(n){const x=o.getTransform();o.setTransform(...n),o.stroke(C(this,Fs,gw).call(this,v,x,n))}else o.lineWidth/=h,o.stroke(v);o.restore()}else(p===mr.FILL||p===mr.FILL_STROKE)&&o.fillText(e,t,i),(p===mr.STROKE||p===mr.FILL_STROKE)&&o.strokeText(e,t,i);f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:dt(o),x:t,y:i,fontSize:h,path:v})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){i=!0;break}return Ie(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const n=this.ctx,o=t.fontSizeScale,l=t.charSpacing,c=t.wordSpacing,d=t.fontDirection,h=t.textHScale*d,p=e.length,f=i.vertical,m=f?1:-1,g=i.defaultVMetrics,v=s*t.fontMatrix[0],x=t.textRenderingMode===mr.FILL&&!i.disableFontFace&&!t.patternFill;n.save(),n.transform(...t.textMatrix),n.translate(t.x,t.y+t.textRise),d>0?n.scale(h,-1):n.scale(h,1);let _,y;if(t.patternFill){n.save();const A=t.fillColor.getPattern(n,this,$s(n),wr.FILL);_=dt(n),n.restore(),n.fillStyle=A}if(t.patternStroke){n.save();const A=t.strokeColor.getPattern(n,this,$s(n),wr.STROKE);y=dt(n),n.restore(),n.strokeStyle=A}let w=t.lineWidth;const k=t.textMatrixScale;if(k===0||w===0){const A=t.textRenderingMode&mr.FILL_STROKE_MASK;(A===mr.STROKE||A===mr.FILL_STROKE)&&(w=this.getSinglePixelWidth())}else w/=k;if(o!==1&&(n.scale(o,o),w/=o),n.lineWidth=w,i.isInvalidPDFjsFont){const A=[];let P=0;for(const R of e)A.push(R.unicode),P+=R.width;n.fillText(A.join(""),0,0),t.x+=P*v*h,n.restore(),this.compose();return}let E=0,S;for(S=0;S<p;++S){const A=e[S];if(typeof A=="number"){E+=m*A*s/1e3;continue}let P=!1;const R=(A.isSpace?c:0)+l,I=A.fontChar,M=A.accent;let L,W,U=A.width;if(f){const O=A.vmetric||g,V=-(A.vmetric?O[1]:U*.5)*v,D=O[2]*v;U=O?-O[0]:U,L=V/o,W=(E+D)/o}else L=E/o,W=0;if(i.remeasure&&U>0){const O=n.measureText(I).width*1e3/s*o;if(U<O&&this.isFontSubpixelAAEnabled){const V=U/O;P=!0,n.save(),n.scale(V,1),L/=V}else U!==O&&(L+=(U-O)/2e3*s/o)}if(this.contentVisible&&(A.isInFont||i.missingFile)){if(x&&!M)n.fillText(I,L,W);else if(this.paintChar(I,L,W,_,y),M){const O=L+s*M.offset.x/o,V=W-s*M.offset.y/o;this.paintChar(M.fontChar,O,V,_,y)}}const Y=f?U*v-R*d:U*v+R*d;E+=Y,P&&n.restore()}f?t.y-=E:t.x+=E*h,n.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,s=i.font,n=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,c=i.charSpacing,d=i.wordSpacing,h=i.textHScale*o,p=i.fontMatrix||zb,f=e.length,m=i.textRenderingMode===mr.INVISIBLE;let g,v,x,_;if(!(m||n===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(h,o),g=0;g<f;++g){if(v=e[g],typeof v=="number"){_=l*v*n/1e3,this.ctx.translate(_,0),i.x+=_*h;continue}const y=(v.isSpace?d:0)+c,w=s.charProcOperatorList[v.operatorListId];if(!w){Ne(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),t.scale(n,n),t.transform(...p),this.executeOperatorList(w),this.restore()),x=fe.applyTransform([v.width,0],p)[0]*n+y,t.translate(x,0),i.x+=x*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,s,n,o){this.ctx.rect(i,s,n-i,o-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const i=e[1],s=this.baseTransform||dt(this.ctx),n={createCanvasGraphics:o=>new rj(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new pw(e,i,this.ctx,n,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){this.ctx.strokeStyle=this.current.strokeColor=fe.makeHexColor(e,t,i),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t,i){this.ctx.fillStyle=this.current.fillColor=fe.makeHexColor(e,t,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=qW(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,$s(t),wr.SHADING);const s=$s(t);if(s){const{width:n,height:o}=t.canvas,[l,c,d,h]=fe.getAxialAlignedBoundingBox([0,0,n,o],s);this.ctx.fillRect(l,c,d-l,h-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ze("Should not call beginInlineImage")}beginImageData(){Ze("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=dt(this.ctx),t)){const i=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],i,s),this.current.updateRectMinMax(dt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||sy("TODO: Support non-isolated groups."),e.knockout&&Ne("Knockout groups not supported.");const i=dt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=fe.getAxialAlignedBoundingBox(e.bbox,dt(t));const n=[0,0,t.canvas.width,t.canvas.height];s=fe.intersect(s,n)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,d]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(h,c,d),f=p.context;f.translate(-o,-l),f.transform(...i),e.smask?this.smaskStack.push({canvas:p.canvas,context:f,offsetX:o,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,l),t.save()),bh(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=dt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const n=fe.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,i,s,n){if(C(this,Fs,fw).call(this),pg(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],l=t[3]-t[1];if(n&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=l;const[c,d]=fe.singularValueDecompose2dScale(dt(this.ctx)),{viewportScale:h}=this,p=Math.ceil(o*this.outputScaleX*h),f=Math.ceil(l*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,f);const{canvas:m,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(c,0,0,-d,0,l*d),pg(this.ctx)}else pg(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],o,l),this.ctx.clip(),this.ctx.beginPath()}this.current=new XE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),C(this,Fs,mw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const i=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=YW(e)),s.compiled)){s.compiled(i);return}const n=this._createMaskCanvas(e),o=n.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,n.offsetX,n.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,s=0,n,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=dt(l);l.transform(t,i,s,n,0,0);const d=this._createMaskCanvas(e);l.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]);for(let h=0,p=o.length;h<p;h+=2){const f=fe.transform(c,[t,i,s,n,o[h],o[h+1]]),[m,g]=fe.applyTransform([0,0],f);l.drawImage(d.canvas,m,g)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,s=this.current.patternFill;for(const n of e){const{data:o,width:l,height:c,transform:d}=n,h=this.cachedCanvases.getCanvas("maskCanvas",l,c),p=h.context;p.save();const f=this.getObject(o,n);QE(p,f),p.globalCompositeOperation="source-in",p.fillStyle=s?i.getPattern(p,this,$s(t),wr.FILL):i,p.fillRect(0,0,l,c),p.restore(),t.save(),t.transform(...d),t.scale(1,-1),hg(t,h.canvas,0,0,l,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ne("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,s){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){Ne("Dependent image isn't ready yet");return}const o=n.width,l=n.height,c=[];for(let d=0,h=s.length;d<h;d+=2)c.push({transform:[t,0,0,i,s[d],s[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(n,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:s}=e,n=this.cachedCanvases.getCanvas("inlineImage",i,s),o=n.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",n.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,s=this.ctx;if(this.save(),!jr){const{filter:l}=s;l!=="none"&&l!==""&&(s.filter="none")}s.scale(1/t,-1/i);let n;if(e.bitmap)n=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)n=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,i).context;JE(c,e),n=this.applyTransferMapsToCanvas(c)}const o=this._scaleImage(n,$s(s));s.imageSmoothingEnabled=ZE(dt(s),e.interpolate),hg(s,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const n=e.width,o=e.height,c=this.cachedCanvases.getCanvas("inlineImage",n,o).context;JE(c,e),s=this.applyTransferMapsToCanvas(c)}for(const n of t)i.save(),i.transform(...n.transform),i.scale(1,-1),hg(i,s,n.x,n.y,n.w,n.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===eA?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=dt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:s,d:n}=this.ctx.getTransform();let o,l;if(i===0&&s===0){const c=Math.abs(t),d=Math.abs(n);if(c===d)if(e===0)o=l=1/c;else{const h=c*e;o=l=h<1?1/h:1}else if(e===0)o=1/c,l=1/d;else{const h=c*e,p=d*e;o=h<1?1/h:1,l=p<1?1/p:1}}else{const c=Math.abs(t*n-i*s),d=Math.hypot(t,i),h=Math.hypot(s,n);if(e===0)o=h/c,l=d/c;else{const p=e*c;o=h>p?h/p:1,l=d>p?d/p:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[s,n]=this.getScaleForStroking();if(t.lineWidth=i||1,s===1&&n===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(s,n),o.length>0){const l=Math.max(s,n);t.setLineDash(o.map(c=>c/l)),t.lineDashOffset/=l}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Fs=new WeakSet,fw=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},mw=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},gw=function(e,t,i){const s=new Path2D;return s.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),s};let Rd=rj;for(const r in as)Rd.prototype[r]!==void 0&&(Rd.prototype[as[r]]=Rd.prototype[r]);var _f,yf;class aa{static get workerPort(){return u(this,_f)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");j(this,_f,e)}static get workerSrc(){return u(this,yf)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");j(this,yf,e)}}_f=new WeakMap,yf=new WeakMap,N(aa,_f,null),N(aa,yf,"");var Fl,xf;class ZW{constructor({parsedData:e,rawData:t}){N(this,Fl);N(this,xf);j(this,Fl,e),j(this,xf,t)}getRaw(){return u(this,xf)}get(e){return u(this,Fl).get(e)??null}getAll(){return q0(u(this,Fl))}has(e){return u(this,Fl).has(e)}}Fl=new WeakMap,xf=new WeakMap;const ed=Symbol("INTERNAL");var bf,wf,kf,Jd;class eK{constructor(e,{name:t,intent:i,usage:s,rbGroups:n}){N(this,bf,!1);N(this,wf,!1);N(this,kf,!1);N(this,Jd,!0);j(this,bf,!!(e&mi.DISPLAY)),j(this,wf,!!(e&mi.PRINT)),this.name=t,this.intent=i,this.usage=s,this.rbGroups=n}get visible(){if(u(this,kf))return u(this,Jd);if(!u(this,Jd))return!1;const{print:e,view:t}=this.usage;return u(this,bf)?(t==null?void 0:t.viewState)!=="OFF":u(this,wf)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==ed&&Ze("Internal method `_setVisible` called."),j(this,kf,i),j(this,Jd,t)}}bf=new WeakMap,wf=new WeakMap,kf=new WeakMap,Jd=new WeakMap;var Za,Ke,Qd,Zd,jf,vw;class tK{constructor(e,t=mi.DISPLAY){N(this,jf);N(this,Za,null);N(this,Ke,new Map);N(this,Qd,null);N(this,Zd,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,j(this,Zd,e.order);for(const i of e.groups)u(this,Ke).set(i.id,new eK(t,i));if(e.baseState==="OFF")for(const i of u(this,Ke).values())i._setVisible(ed,!1);for(const i of e.on)u(this,Ke).get(i)._setVisible(ed,!0);for(const i of e.off)u(this,Ke).get(i)._setVisible(ed,!1);j(this,Qd,this.getHash())}}isVisible(e){if(u(this,Ke).size===0)return!0;if(!e)return sy("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,Ke).has(e.id)?u(this,Ke).get(e.id).visible:(Ne(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return C(this,jf,vw).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!u(this,Ke).has(t))return Ne(`Optional content group not found: ${t}`),!0;if(u(this,Ke).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!u(this,Ke).has(t))return Ne(`Optional content group not found: ${t}`),!0;if(!u(this,Ke).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!u(this,Ke).has(t))return Ne(`Optional content group not found: ${t}`),!0;if(!u(this,Ke).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!u(this,Ke).has(t))return Ne(`Optional content group not found: ${t}`),!0;if(u(this,Ke).get(t).visible)return!1}return!0}return Ne(`Unknown optional content policy ${e.policy}.`),!0}return Ne(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var n;const s=u(this,Ke).get(e);if(!s){Ne(`Optional content group not found: ${e}`);return}if(i&&t&&s.rbGroups.length)for(const o of s.rbGroups)for(const l of o)l!==e&&((n=u(this,Ke).get(l))==null||n._setVisible(ed,!1,!0));s._setVisible(ed,!!t,!0),j(this,Za,null)}setOCGState({state:e,preserveRB:t}){let i;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const n=u(this,Ke).get(s);if(n)switch(i){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!n.visible,t);break}}j(this,Za,null)}get hasInitialVisibility(){return u(this,Qd)===null||this.getHash()===u(this,Qd)}getOrder(){return u(this,Ke).size?u(this,Zd)?u(this,Zd).slice():[...u(this,Ke).keys()]:null}getGroups(){return u(this,Ke).size>0?q0(u(this,Ke)):null}getGroup(e){return u(this,Ke).get(e)||null}getHash(){if(u(this,Za)!==null)return u(this,Za);const e=new U2;for(const[t,i]of u(this,Ke))e.update(`${t}:${i.visible}`);return j(this,Za,e.hexdigest())}}Za=new WeakMap,Ke=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,jf=new WeakSet,vw=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let s=1;s<t;s++){const n=e[s];let o;if(Array.isArray(n))o=C(this,jf,vw).call(this,n);else if(u(this,Ke).has(n))o=u(this,Ke).get(n).visible;else return Ne(`Optional content group not found: ${n}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class rK{constructor(e,{disableRange:t=!1,disableStream:i=!1}){It(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:n,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,(n==null?void 0:n.length)>0){const c=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,d)=>{this._onReceiveData({begin:c,chunk:d})}),e.addProgressListener((c,d)=>{this._onProgress({loaded:c,total:d})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(n){return n._begin!==e?!1:(n._enqueue(i),!0)});It(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,s,n;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(n=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||n.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){It(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new iK(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new sK(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class iK{constructor(e,t,i=!1,s=null){this._stream=e,this._done=i||!1,this._filename=W0(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const n of this._queuedChunks)this._loaded+=n.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class sK{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function nK(r){let e=!0,t=i("filename\\*","i").exec(r);if(t){t=t[1];let h=l(t);return h=unescape(h),h=c(h),h=d(h),n(h)}if(t=o(r),t){const h=d(t);return n(h)}if(t=i("filename","i").exec(r),t){t=t[1];let h=l(t);return h=d(h),n(h)}function i(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function s(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const f=new TextDecoder(h,{fatal:!0}),m=ny(p);p=f.decode(m),e=!1}catch{}}return p}function n(h){return e&&/[\x80-\xff]/.test(h)&&(h=s("utf-8",h),e&&(h=s("iso-8859-1",h))),h}function o(h){const p=[];let f;const m=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=m.exec(h))!==null;){let[,v,x,_]=f;if(v=parseInt(v,10),v in p){if(v===0)break;continue}p[v]=[x,_]}const g=[];for(let v=0;v<p.length&&v in p;++v){let[x,_]=p[v];_=l(_),x&&(_=unescape(_),v===0&&(_=c(_))),g.push(_)}return g.join("")}function l(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let f=0;f<p.length;++f){const m=p[f].indexOf('"');m!==-1&&(p[f]=p[f].slice(0,m),p.length=f+1),p[f]=p[f].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function c(h){const p=h.indexOf("'");if(p===-1)return h;const f=h.slice(0,p),g=h.slice(p+1).replace(/^[^']*'/,"");return s(f,g)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,f,m,g){if(m==="q"||m==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,x){return String.fromCharCode(parseInt(x,16))}),s(f,g);try{g=atob(g)}catch{}return s(f,g)})}return""}function iR(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const i in e){const s=e[i];s!==void 0&&t.append(i,s)}return t}function ly(r){try{return new URL(r).origin}catch{}return null}function sR({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},n=parseInt(r.get("Content-Length"),10);return!Number.isInteger(n)||(s.suggestedLength=n,n<=2*t)||i||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function nR(r){const e=r.get("Content-Disposition");if(e){let t=nK(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(W0(t))return t}return null}function cy(r,e){return r===404||r===0&&e.startsWith("file:")?new Vp('Missing PDF "'+e+'".'):new Gv(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r)}function aR(r){return r===200||r===206}function oR(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function lR(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Ne(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class tA{constructor(e){ge(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=iR(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return It(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new aK(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new oK(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class aK{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),s=t.url;fetch(s,oR(i,this._withCredentials,this._abortController)).then(n=>{if(e._responseOrigin=ly(n.url),!aR(n.status))throw cy(n.status,s);this._reader=n.body.getReader(),this._headersCapability.resolve();const o=n.headers,{allowRangeRequests:l,suggestedLength:c}=sR({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=nR(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new $o("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:lR(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class oK{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const n=new Headers(e.headers);n.append("Range",`bytes=${t}-${i-1}`);const o=s.url;fetch(o,oR(n,this._withCredentials,this._abortController)).then(l=>{const c=ly(l.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!aR(l.status))throw cy(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:lR(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const mx=200,gx=206;function lK(r){const e=r.response;return typeof e!="string"?e:ny(e).buffer}class cK{constructor({url:e,httpHeaders:t,withCredentials:i}){ge(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=iR(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[n,o]of this.headers)t.setRequestHeader(n,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=gx):s.expectedStatus=mx,t.responseType="arraybuffer",It(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var s;const i=this.pendingRequests[e];i&&((s=i.onProgress)==null||s.call(i,t))}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){i.onError(s.status);return}const n=s.status||mx;if(!(n===mx&&i.expectedStatus===gx)&&n!==i.expectedStatus){i.onError(s.status);return}const l=lK(s);if(n===gx){const c=s.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);d?i.onDone({begin:parseInt(d[1],10),chunk:l}):(Ne('Missing or invalid "Content-Range" header.'),i.onError(0))}else l?i.onDone({begin:0,chunk:l}):i.onError(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class dK{constructor(e){this._source=e,this._manager=new cK(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return It(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new uK(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new hK(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class uK{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=ly(t.responseURL);const i=t.getAllResponseHeaders(),s=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...d]=l.split(": ");return[c,d.join(": ")]}):[]),{allowRangeRequests:n,suggestedLength:o}=sR({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});n&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=nR(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=cy(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class hK{constructor(e,t,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=ly((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=cy(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const pK=/^[a-z][a-z0-9\-+.]+:/i;function fK(r){if(pK.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class mK{constructor(e){this.source=e,this.url=fK(e.url),It(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return It(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new gK(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new vK(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class gK{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Vp(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new $o("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class vK{constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream;const n=process.getBuiltinModule("fs");this._setReadableStream(n.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const _K=1e5,Ur=30,yK=.8;var lA,eo,Wr,Sf,Ef,Ll,qn,Af,Nf,Ml,eu,tu,to,ru,Cf,iu,Ol,Pf,Tf,$l,Vl,Rf,ro,su,ba,cR,dR,_w,Si,Ug,yw,uR,hR;const Mt=class Mt{constructor({textContentSource:e,container:t,viewport:i}){N(this,ba);N(this,eo,Promise.withResolvers());N(this,Wr,null);N(this,Sf,!1);N(this,Ef,!!((lA=globalThis.FontInspector)!=null&&lA.enabled));N(this,Ll,null);N(this,qn,null);N(this,Af,0);N(this,Nf,0);N(this,Ml,null);N(this,eu,null);N(this,tu,0);N(this,to,0);N(this,ru,Object.create(null));N(this,Cf,[]);N(this,iu,null);N(this,Ol,[]);N(this,Pf,new WeakMap);N(this,Tf,null);var c;if(e instanceof ReadableStream)j(this,iu,e);else if(typeof e=="object")j(this,iu,new ReadableStream({start(d){d.enqueue(e),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');j(this,Wr,j(this,eu,t)),j(this,to,i.scale*(globalThis.devicePixelRatio||1)),j(this,tu,i.rotation),j(this,qn,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:n,pageX:o,pageY:l}=i.rawDims;j(this,Tf,[1,0,0,-1,-o,l+n]),j(this,Nf,s),j(this,Af,n),C(c=Mt,Si,uR).call(c),Pc(t,i),u(this,eo).promise.finally(()=>{u(Mt,su).delete(this),j(this,qn,null),j(this,ru,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Mr.platform;return Ie(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{u(this,Ml).read().then(({value:t,done:i})=>{if(i){u(this,eo).resolve();return}u(this,Ll)??j(this,Ll,t.lang),Object.assign(u(this,ru),t.styles),C(this,ba,cR).call(this,t.items),e()},u(this,eo).reject)};return j(this,Ml,u(this,iu).getReader()),u(Mt,su).add(this),e(),u(this,eo).promise}update({viewport:e,onBefore:t=null}){var n;const i=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==u(this,tu)&&(t==null||t(),j(this,tu,s),Pc(u(this,eu),{rotation:s})),i!==u(this,to)){t==null||t(),j(this,to,i);const o={div:null,properties:null,ctx:C(n=Mt,Si,Ug).call(n,u(this,Ll))};for(const l of u(this,Ol))o.properties=u(this,Pf).get(l),o.div=l,C(this,ba,_w).call(this,o)}}cancel(){var t;const e=new $o("TextLayer task cancelled.");(t=u(this,Ml))==null||t.cancel(e).catch(()=>{}),j(this,Ml,null),u(this,eo).reject(e)}get textDivs(){return u(this,Ol)}get textContentItemsStr(){return u(this,Cf)}static cleanup(){if(!(u(this,su).size>0)){u(this,$l).clear();for(const{canvas:e}of u(this,Vl).values())e.remove();u(this,Vl).clear()}}};eo=new WeakMap,Wr=new WeakMap,Sf=new WeakMap,Ef=new WeakMap,Ll=new WeakMap,qn=new WeakMap,Af=new WeakMap,Nf=new WeakMap,Ml=new WeakMap,eu=new WeakMap,tu=new WeakMap,to=new WeakMap,ru=new WeakMap,Cf=new WeakMap,iu=new WeakMap,Ol=new WeakMap,Pf=new WeakMap,Tf=new WeakMap,$l=new WeakMap,Vl=new WeakMap,Rf=new WeakMap,ro=new WeakMap,su=new WeakMap,ba=new WeakSet,cR=function(e){var s,n;if(u(this,Sf))return;(n=u(this,qn)).ctx??(n.ctx=C(s=Mt,Si,Ug).call(s,u(this,Ll)));const t=u(this,Ol),i=u(this,Cf);for(const o of e){if(t.length>_K){Ne("Ignoring additional textDivs for performance reasons."),j(this,Sf,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const l=u(this,Wr);j(this,Wr,document.createElement("span")),u(this,Wr).classList.add("markedContent"),o.id!==null&&u(this,Wr).setAttribute("id",`${o.id}`),l.append(u(this,Wr))}else o.type==="endMarkedContent"&&j(this,Wr,u(this,Wr).parentNode);continue}i.push(o.str),C(this,ba,dR).call(this,o)}},dR=function(e){var v;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,Ol).push(t);const s=fe.transform(u(this,Tf),e.transform);let n=Math.atan2(s[1],s[0]);const o=u(this,ru)[e.fontName];o.vertical&&(n+=Math.PI/2);let l=u(this,Ef)&&o.fontSubstitution||o.fontFamily;l=Mt.fontFamilyMap.get(l)||l;const c=Math.hypot(s[2],s[3]),d=c*C(v=Mt,Si,hR).call(v,l,u(this,Ll));let h,p;n===0?(h=s[4],p=s[5]-d):(h=s[4]+d*Math.sin(n),p=s[5]-d*Math.cos(n));const f="calc(var(--scale-factor)*",m=t.style;u(this,Wr)===u(this,eu)?(m.left=`${(100*h/u(this,Nf)).toFixed(2)}%`,m.top=`${(100*p/u(this,Af)).toFixed(2)}%`):(m.left=`${f}${h.toFixed(2)}px)`,m.top=`${f}${p.toFixed(2)}px)`),m.fontSize=`${f}${(u(Mt,ro)*c).toFixed(2)}px)`,m.fontFamily=l,i.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,u(this,Ef)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),n!==0&&(i.angle=n*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const x=Math.abs(e.transform[0]),_=Math.abs(e.transform[3]);x!==_&&Math.max(x,_)/Math.min(x,_)>1.5&&(g=!0)}if(g&&(i.canvasWidth=o.vertical?e.height:e.width),u(this,Pf).set(t,i),u(this,qn).div=t,u(this,qn).properties=i,C(this,ba,_w).call(this,u(this,qn)),i.hasText&&u(this,Wr).append(t),i.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),u(this,Wr).append(x)}},_w=function(e){var l;const{div:t,properties:i,ctx:s}=e,{style:n}=t;let o="";if(u(Mt,ro)>1&&(o=`scale(${1/u(Mt,ro)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=n,{canvasWidth:d,fontSize:h}=i;C(l=Mt,Si,yw).call(l,s,h*u(this,to),c);const{width:p}=s.measureText(t.textContent);p>0&&(o=`scaleX(${d*u(this,to)/p}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(n.transform=o)},Si=new WeakSet,Ug=function(e=null){let t=u(this,Vl).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,Vl).set(e,t),u(this,Rf).set(t,{size:0,family:""})}return t},yw=function(e,t,i){const s=u(this,Rf).get(e);t===s.size&&i===s.family||(e.font=`${t}px ${i}`,s.size=t,s.family=i)},uR=function(){if(u(this,ro)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),j(this,ro,e.getBoundingClientRect().height),e.remove()},hR=function(e,t){const i=u(this,$l).get(e);if(i)return i;const s=C(this,Si,Ug).call(this,t);s.canvas.width=s.canvas.height=Ur,C(this,Si,yw).call(this,s,Ur,e);const n=s.measureText("");let o=n.fontBoundingBoxAscent,l=Math.abs(n.fontBoundingBoxDescent);if(o){const h=o/(o+l);return u(this,$l).set(e,h),s.canvas.width=s.canvas.height=0,h}s.strokeStyle="red",s.clearRect(0,0,Ur,Ur),s.strokeText("g",0,0);let c=s.getImageData(0,0,Ur,Ur).data;l=0;for(let h=c.length-1-3;h>=0;h-=4)if(c[h]>0){l=Math.ceil(h/4/Ur);break}s.clearRect(0,0,Ur,Ur),s.strokeText("A",0,Ur),c=s.getImageData(0,0,Ur,Ur).data,o=0;for(let h=0,p=c.length;h<p;h+=4)if(c[h]>0){o=Ur-Math.floor(h/4/Ur);break}s.canvas.width=s.canvas.height=0;const d=o?o/(o+l):yK;return u(this,$l).set(e,d),d},N(Mt,Si),N(Mt,$l,new Map),N(Mt,Vl,new Map),N(Mt,Rf,new WeakMap),N(Mt,ro,null),N(Mt,su,new Set);let zp=Mt;class Bp{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function s(n){var c;if(!n)return;let o=null;const l=n.name;if(l==="#text")o=n.value;else if(Bp.shouldBuildText(l))(c=n==null?void 0:n.attributes)!=null&&c.textContent?o=n.attributes.textContent:n.value&&(o=n.value);else return;if(o!==null&&t.push({str:o}),!!n.children)for(const d of n.children)s(d)}return s(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const xK=65536,bK=100,wK=5e3,kK=jr?MW:DW,jK=jr?OW:J2,SK=jr?LW:FW,EK=jr?$W:tR;function AK(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new xw,{docId:t}=e,i=r.url?NK(r.url):null,s=r.data?CK(r.data):null,n=r.httpHeaders||null,o=r.withCredentials===!0,l=r.password??null,c=r.range instanceof pR?r.range:null,d=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:xK;let h=r.worker instanceof Id?r.worker:null;const p=r.verbosity,f=typeof r.docBaseUrl=="string"&&!oy(r.docBaseUrl)?r.docBaseUrl:null,m=typeof r.cMapUrl=="string"?r.cMapUrl:null,g=r.cMapPacked!==!1,v=r.CMapReaderFactory||jK,x=typeof r.standardFontDataUrl=="string"?r.standardFontDataUrl:null,_=r.StandardFontDataFactory||EK,y=r.stopAtErrors!==!0,w=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,k=r.isEvalSupported!==!1,E=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!jr,S=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!jr&&(Mr.platform.isFirefox||!globalThis.chrome),A=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,P=typeof r.disableFontFace=="boolean"?r.disableFontFace:jr,R=r.fontExtraProperties===!0,I=r.enableXfa===!0,M=r.ownerDocument||globalThis.document,L=r.disableRange===!0,W=r.disableStream===!0,U=r.disableAutoFetch===!0,Y=r.pdfBug===!0,O=r.CanvasFactory||kK,V=r.FilterFactory||SK,D=r.enableHWA===!0,z=c?c.length:r.length??NaN,F=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!jr&&!P,B=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:v===J2&&_===tR&&m&&x&&Th(m,document.baseURI)&&Th(x,document.baseURI),J=null;hW(p);const te={canvasFactory:new O({ownerDocument:M,enableHWA:D}),filterFactory:new V({docId:t,ownerDocument:M}),cMapReaderFactory:B?null:new v({baseUrl:m,isCompressed:g}),standardFontDataFactory:B?null:new _({baseUrl:x})};if(!h){const ie={verbosity:p,port:aa.workerPort};h=ie.port?Id.fromPort(ie):new Id(ie),e._worker=h}const re={docId:t,apiVersion:"4.10.38",data:s,password:l,disableAutoFetch:U,rangeChunkSize:d,length:z,docBaseUrl:f,enableXfa:I,evaluatorOptions:{maxImageSize:w,disableFontFace:P,ignoreErrors:y,isEvalSupported:k,isOffscreenCanvasSupported:E,isImageDecoderSupported:S,canvasMaxAreaInBytes:A,fontExtraProperties:R,useSystemFonts:F,cMapUrl:B?m:null,standardFontDataUrl:B?x:null}},q={disableFontFace:P,fontExtraProperties:R,ownerDocument:M,pdfBug:Y,styleElement:J,loadingParams:{disableAutoFetch:U,enableXfa:I}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const ie=h.messageHandler.sendWithPromise("GetDocRequest",re,s?[s.buffer]:null);let H;if(c)H=new rK(c,{disableRange:L,disableStream:W});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");let we;if(jr)if(Th(i)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");we=tA}else we=mK;else we=Th(i)?tA:dK;H=new we({url:i,length:z,httpHeaders:n,withCredentials:o,rangeChunkSize:d,disableRange:L,disableStream:W})}return ie.then(we=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const qe=new Fh(t,we,h.port),Le=new IK(qe,e,H,q,te);e._transport=Le,qe.send("Ready",null)})}).catch(e._capability.reject),e}function NK(r){if(r instanceof URL)return r.href;try{return new URL(r,window.location).href}catch{if(jr&&typeof r=="string")return r}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function CK(r){if(jr&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return ny(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function rA(r){return typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0}var l_;const c_=class c_{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Nr(c_,l_)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,i,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(n){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,n}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}};l_=new WeakMap,N(c_,l_,0);let xw=c_;class pR{constructor(e,t,i=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Ze("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class PK{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ie(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var io,Hn,Bi,td,qg;class TK{constructor(e,t,i,s=!1){N(this,Bi);N(this,io,null);N(this,Hn,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=s?new BE:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new fR,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:n=!1}={}){return new Cm({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:n})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ie(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:s=Va.ENABLE,transform:n=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:p=!1}){var k,E;(k=this._stats)==null||k.time("Overall");const f=this._transport.getRenderingIntent(i,s,h,p),{renderingIntent:m,cacheKey:g}=f;j(this,Hn,!1),C(this,Bi,qg).call(this),l||(l=this._transport.getOptionalContentConfig(m));let v=this._intentStates.get(g);v||(v=Object.create(null),this._intentStates.set(g,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const x=!!(m&mi.PRINT);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(E=this._stats)==null||E.time("Page Request"),this._pumpOperatorList(f));const _=S=>{var A;v.renderTasks.delete(y),(this._maybeCleanupAfterRender||x)&&j(this,Hn,!0),C(this,Bi,td).call(this,!x),S?(y.capability.reject(S),this._abortOperatorList({intentState:v,reason:S instanceof Error?S:new Error(S)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(A=globalThis.Stats)!=null&&A.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},y=new ww({callback:_,params:{canvasContext:e,viewport:t,transform:n,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:d});(v.renderTasks||(v.renderTasks=new Set)).add(y);const w=y.task;return Promise.all([v.displayReadyCapability.promise,l]).then(([S,A])=>{var P;if(this.destroyed){_();return}if((P=this._stats)==null||P.time("Rendering"),!(A.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");y.initializeGraphics({transparency:S,optionalContentConfig:A}),y.operatorListChanged()}).catch(_),w}getOperatorList({intent:e="display",annotationMode:t=Va.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){var d;function n(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,t,i,s,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=n,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Bp.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,s){function n(){o.read().then(function({value:c,done:d}){if(d){i(l);return}l.lang??(l.lang=c.lang),Object.assign(l.styles,c.styles),l.items.push(...c.items),n()},s)}const o=t.getReader(),l={items:[],styles:Object.create(null),lang:null};n()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),j(this,Hn,!1),C(this,Bi,qg).call(this),Promise.all(e)}cleanup(e=!1){j(this,Hn,!0);const t=C(this,Bi,td).call(this,!1);return e&&t&&this._stats&&(this._stats=new BE),t}_startRenderPage(e,t){var s,n;const i=this._intentStates.get(t);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(n=i.displayReadyCapability)==null||n.resolve(e))}_renderPageChunk(e,t){for(let i=0,s=e.length;i<s;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&C(this,Bi,td).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:s}){const{map:n,transfer:o}=i,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:n,modifiedIds:s},o).getReader(),d=this._intentStates.get(t);d.streamReader=c;const h=()=>{c.read().then(({value:p,done:f})=>{if(f){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,d),h())},p=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const f of d.renderTasks)f.operatorListChanged();C(this,Bi,td).call(this,!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(p);else if(d.opListReadCapability)d.opListReadCapability.reject(p);else throw p}})};h()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof G0){let s=bK;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new $o(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,n]of this._intentStates)if(n===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}io=new WeakMap,Hn=new WeakMap,Bi=new WeakSet,td=function(e=!1){if(C(this,Bi,qg).call(this),!u(this,Hn)||this.destroyed)return!1;if(e)return j(this,io,setTimeout(()=>{j(this,io,null),C(this,Bi,td).call(this,!1)},wK)),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),j(this,Hn,!1),!0},qg=function(){u(this,io)&&(clearTimeout(u(this,io)),j(this,io,null))};var Gn,d_;class RK{constructor(){N(this,Gn,new Map);N(this,d_,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};u(this,d_).then(()=>{for(const[s]of u(this,Gn))s.call(this,i)})}addEventListener(e,t,i=null){let s=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:n}=i;if(n.aborted){Ne("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);s=()=>n.removeEventListener("abort",o),n.addEventListener("abort",o)}u(this,Gn).set(t,s)}removeEventListener(e,t){const i=u(this,Gn).get(t);i==null||i(),u(this,Gn).delete(t)}terminate(){for(const[,e]of u(this,Gn))e==null||e();u(this,Gn).clear()}}Gn=new WeakMap,d_=new WeakMap;var u_,zl,Bl,nu,Hg,au,Gg;const ct=class ct{constructor({name:e=null,port:t=null,verbosity:i=pW()}={}){N(this,nu);var s;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((s=u(ct,Bl))!=null&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(u(ct,Bl)||j(ct,Bl,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Fh("main","worker",e),this._messageHandler.on("ready",function(){}),C(this,nu,Hg).call(this)}_initialize(){if(u(ct,zl)||u(ct,au,Gg)){this._setupFakeWorker();return}let{workerSrc:e}=ct;try{ct._isSameOrigin(window.location.href,e)||(e=ct._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Fh("main","worker",t),s=()=>{n.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},n=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:n.signal}),i.on("test",l=>{if(n.abort(),this.destroyed||!l){s();return}this._messageHandler=i,this._port=t,this._webWorker=t,C(this,nu,Hg).call(this)}),i.on("ready",l=>{if(n.abort(),this.destroyed){s();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const l=new Uint8Array;i.send("test",l,[l.buffer])};o();return}catch{sy("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){u(ct,zl)||(Ne("Setting up fake worker."),j(ct,zl,!0)),ct._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new RK;this._port=t;const i=`fake${Nr(ct,u_)._++}`,s=new Fh(i+"_worker",i,t);e.setup(s,t),this._messageHandler=new Fh(i,i+"_worker",t),C(this,nu,Hg).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,t,i;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(t=u(ct,Bl))==null||t.delete(this._port),this._port=null,(i=this._messageHandler)==null||i.destroy(),this._messageHandler=null}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(i=u(this,Bl))==null?void 0:i.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new ct(e)}static get workerSrc(){if(aa.workerSrc)return aa.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ie(this,"_setupFakeWorkerGlobal",(async()=>u(this,au,Gg)?u(this,au,Gg):(await import(this.workerSrc)).WorkerMessageHandler)())}};u_=new WeakMap,zl=new WeakMap,Bl=new WeakMap,nu=new WeakSet,Hg=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},au=new WeakSet,Gg=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},N(ct,au),N(ct,u_,0),N(ct,zl,!1),N(ct,Bl),jr&&(j(ct,zl,!0),aa.workerSrc||(aa.workerSrc="./pdf.worker.mjs")),ct._isSameOrigin=(e,t)=>{let i;try{if(i=new URL(e),!i.origin||i.origin==="null")return!1}catch{return!1}const s=new URL(t,i);return i.origin===s.origin},ct._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let Id=ct;var Wn,Qs,ou,lu,Kn,Ul,Vh;class IK{constructor(e,t,i,s,n){N(this,Ul);N(this,Wn,new Map);N(this,Qs,new Map);N(this,ou,new Map);N(this,lu,new Map);N(this,Kn,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new fR,this.fontLoader=new RW({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=n.canvasFactory,this.filterFactory=n.filterFactory,this.cMapReaderFactory=n.cMapReaderFactory,this.standardFontDataFactory=n.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ie(this,"annotationStorage",new X0)}getRenderingIntent(e,t=Va.ENABLE,i=null,s=!1,n=!1){let o=mi.DISPLAY,l=cw;switch(e){case"any":o=mi.ANY;break;case"display":break;case"print":o=mi.PRINT;break;default:Ne(`getRenderingIntent - invalid intent: ${e}`)}const c=o&mi.PRINT&&i instanceof H2?i:this.annotationStorage;switch(t){case Va.DISABLE:o+=mi.ANNOTATIONS_DISABLE;break;case Va.ENABLE:break;case Va.ENABLE_FORMS:o+=mi.ANNOTATIONS_FORMS;break;case Va.ENABLE_STORAGE:o+=mi.ANNOTATIONS_STORAGE,l=c.serializable;break;default:Ne(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(o+=mi.IS_EDITING),n&&(o+=mi.OPLIST);const{ids:d,hash:h}=c.modifiedIds,p=[o,l.hash,h];return{renderingIntent:o,cacheKey:p.join("_"),annotationStorageSerializable:l,modifiedIds:d}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=u(this,Kn))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of u(this,Qs).values())e.push(s._destroy());u(this,Qs).clear(),u(this,ou).clear(),u(this,lu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s,n;this.commonObjs.clear(),this.fontLoader.clear(),u(this,Wn).clear(),this.filterFactory.destroy(),zp.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new $o("Worker was terminated.")),(n=this.messageHandler)==null||n.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,s)=>{It(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=n=>{this._lastProgress={loaded:n.loaded,total:n.total}},s.onPull=()=>{this._fullReader.read().then(function({value:n,done:o}){if(o){s.close();return}It(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(n),1,[n])}).catch(n=>{s.error(n)})},s.onCancel=n=>{this._fullReader.cancel(n),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async i=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:n,contentLength:o}=this._fullReader;return(!s||!n)&&(this._lastProgress&&((l=t.onProgress)==null||l.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var d;(d=t.onProgress)==null||d.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:s,isRangeSupported:n,contentLength:o}}),e.on("GetRangeReader",(i,s)=>{It(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(i.begin,i.end);if(!n){s.close();return}s.onPull=()=>{n.read().then(function({value:o,done:l}){if(l){s.close();return}It(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{n.cancel(o),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new PK(i,this))}),e.on("DocException",i=>{t._capability.reject(qr(i))}),e.on("PasswordRequest",i=>{j(this,Kn,Promise.withResolvers());try{if(!t.onPassword)throw qr(i);const s=n=>{n instanceof Error?u(this,Kn).reject(n):u(this,Kn).resolve({password:n})};t.onPassword(s,i.code)}catch(s){u(this,Kn).reject(s)}return u(this,Kn).promise}),e.on("DataLoaded",i=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;u(this,Qs).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,s,n])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":const{disableFontFace:l,fontExtraProperties:c,pdfBug:d}=this._params;if("error"in n){const m=n.error;Ne(`Error during font loading: ${m}`),this.commonObjs.resolve(i,m);break}const h=d&&((o=globalThis.FontInspector)!=null&&o.enabled)?(m,g)=>globalThis.FontInspector.fontAdded(m,g):null,p=new IW(n,{disableFontFace:l,fontExtraProperties:c,inspectFont:h});this.fontLoader.bind(p).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!c&&p.data&&(p.data=null),this.commonObjs.resolve(i,p)});break;case"CopyLocalImage":const{imageRef:f}=n;It(f,"The imageRef must be defined.");for(const m of u(this,Qs).values())for(const[,g]of m.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(i,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,n);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([i,s,n,o])=>{var c;if(this.destroyed)return;const l=u(this,Qs).get(s);if(!l.objs.has(i)){if(l._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(n){case"Image":l.objs.resolve(i,o),(o==null?void 0:o.dataLen)>lW&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${n}`)}}}),e.on("DocProgress",i=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)}),e.on("FetchStandardFontData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Ne("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=u(this,ou).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&u(this,lu).set(n.refStr,e);const o=new TK(t,n,this,this._params.pdfBug);return u(this,Qs).set(t,o),o});return u(this,ou).set(t,s),s}getPageIndex(e){return rA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return C(this,Ul,Vh).call(this,"GetFieldObjects")}hasJSActions(){return C(this,Ul,Vh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return C(this,Ul,Vh).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return C(this,Ul,Vh).call(this,"GetOptionalContentConfig").then(t=>new tK(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=u(this,Wn).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(s=>{var n,o;return{info:s[0],metadata:s[1]?new ZW(s[1]):null,contentDispositionFilename:((n=this._fullReader)==null?void 0:n.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return u(this,Wn).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of u(this,Qs).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,Wn).clear(),this.filterFactory.destroy(!0),zp.cleanup()}}cachedPageNumber(e){if(!rA(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,lu).get(t)??null}}Wn=new WeakMap,Qs=new WeakMap,ou=new WeakMap,lu=new WeakMap,Kn=new WeakMap,Ul=new WeakSet,Vh=function(e,t=null){const i=u(this,Wn).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise(e,t);return u(this,Wn).set(e,s),s};const wh=Symbol("INITIAL_DATA");var ai,If,bw;class fR{constructor(){N(this,If);N(this,ai,Object.create(null))}get(e,t=null){if(t){const s=C(this,If,bw).call(this,e);return s.promise.then(()=>t(s.data)),null}const i=u(this,ai)[e];if(!i||i.data===wh)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=u(this,ai)[e];return!!t&&t.data!==wh}delete(e){const t=u(this,ai)[e];return!t||t.data===wh?!1:(delete u(this,ai)[e],!0)}resolve(e,t=null){const i=C(this,If,bw).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in u(this,ai)){const{data:i}=u(this,ai)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}j(this,ai,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,ai)){const{data:t}=u(this,ai)[e];t!==wh&&(yield[e,t])}}}ai=new WeakMap,If=new WeakSet,bw=function(e){var t;return(t=u(this,ai))[e]||(t[e]={...Promise.withResolvers(),data:wh})};var so;class DK{constructor(e){N(this,so,null);j(this,so,e),this.onContinue=null}get promise(){return u(this,so).capability.promise}cancel(e=0){u(this,so).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,so).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=u(this,so);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}so=new WeakMap;var no,ql;const ol=class ol{constructor({callback:e,params:t,objs:i,commonObjs:s,annotationCanvasMap:n,operatorList:o,pageIndex:l,canvasFactory:c,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:f=null}){N(this,no,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=n,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=d,this._pdfBug=p,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new DK(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,c;if(this.cancelled)return;if(this._canvas){if(u(ol,ql).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(ol,ql).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:n,background:o}=this.params;this.gfx=new Rd(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:n,viewport:s,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),u(this,no)&&(window.cancelAnimationFrame(u(this,no)),j(this,no,null)),u(ol,ql).delete(this._canvas),this.callback(e||new G0(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?j(this,no,window.requestAnimationFrame(()=>{j(this,no,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(ol,ql).delete(this._canvas),this.callback())))}};no=new WeakMap,ql=new WeakMap,N(ol,ql,new WeakSet);let ww=ol;const FK="4.10.38",LK="f9bea397f";function iA(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function kh(r){return Math.max(0,Math.min(255,255*r))}class sA{static CMYK_G([e,t,i,s]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=kh(e),[e,e,e]}static G_HTML([e]){const t=iA(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(kh)}static RGB_HTML(e){return`#${e.map(iA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,i+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,i,s]){return[kh(1-Math.min(1,e+s)),kh(1-Math.min(1,i+s)),kh(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const s=1-e,n=1-t,o=1-i,l=Math.min(s,n,o);return["CMYK",s,n,o,l]}}class MK{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ze("Abstract method `_createSVG` called.")}}class Q0 extends MK{_createSVG(e){return document.createElementNS(An,e)}}class mR{static setupStorage(e,t,i,s,n){const o=s.getValue(t,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),n==="print")break;e.addEventListener("input",l=>{s.setValue(t,{value:l.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),n==="print")break;e.addEventListener("change",l=>{s.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),n==="print")break;e.addEventListener("input",l=>{s.setValue(t,{value:l.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const l of i.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,d=c.selectedIndex===-1?"":c[c.selectedIndex].value;s.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:s,linkService:n}){const{attributes:o}=t,l=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${s}`);for(const[c,d]of Object.entries(o))if(d!=null)switch(c){case"class":d.length&&e.setAttribute(c,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,d)}l&&n.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){var p,f;const t=e.annotationStorage,i=e.linkService,s=e.xfaHtml,n=e.intent||"display",o=document.createElement(s.name);s.attributes&&this.setAttributes({html:o,element:s,intent:n,linkService:i});const l=n!=="richText",c=e.div;if(c.append(o),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=m}l&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const m=document.createTextNode(s.value);o.append(m),l&&Bp.shouldBuildText(s.name)&&d.push(m)}return{textDivs:d}}const h=[[s,-1,o]];for(;h.length>0;){const[m,g,v]=h.at(-1);if(g+1===m.children.length){h.pop();continue}const x=m.children[++h.at(-1)[1]];if(x===null)continue;const{name:_}=x;if(_==="#text"){const w=document.createTextNode(x.value);d.push(w),v.append(w);continue}const y=(p=x==null?void 0:x.attributes)!=null&&p.xmlns?document.createElementNS(x.attributes.xmlns,_):document.createElement(_);if(v.append(y),x.attributes&&this.setAttributes({html:y,element:x,storage:t,intent:n,linkService:i}),((f=x.children)==null?void 0:f.length)>0)h.push([x,-1,y]);else if(x.value){const w=document.createTextNode(x.value);l&&Bp.shouldBuildText(_)&&d.push(w),y.append(w)}}for(const m of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Tm=1e3,OK=9,Rc=new WeakSet;function Io(r){return{width:r[2]-r[0],height:r[3]-r[1]}}class $K{static create(e){switch(e.data.annotationType){case Ft.LINK:return new gR(e);case Ft.TEXT:return new VK(e);case Ft.WIDGET:switch(e.data.fieldType){case"Tx":return new zK(e);case"Btn":return e.data.radioButton?new yR(e):e.data.checkBox?new UK(e):new qK(e);case"Ch":return new HK(e);case"Sig":return new BK(e)}return new Lc(e);case Ft.POPUP:return new jw(e);case Ft.FREETEXT:return new jR(e);case Ft.LINE:return new WK(e);case Ft.SQUARE:return new KK(e);case Ft.CIRCLE:return new YK(e);case Ft.POLYLINE:return new SR(e);case Ft.CARET:return new JK(e);case Ft.INK:return new Z0(e);case Ft.POLYGON:return new XK(e);case Ft.HIGHLIGHT:return new ER(e);case Ft.UNDERLINE:return new QK(e);case Ft.SQUIGGLY:return new ZK(e);case Ft.STRIKEOUT:return new e7(e);case Ft.STAMP:return new AR(e);case Ft.FILEATTACHMENT:return new t7(e);default:return new Nt(e)}}}var Hl,cu,du,Df,kw;const ij=class ij{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){N(this,Df);N(this,Hl,null);N(this,cu,!1);N(this,du,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e!=null&&e.str||t!=null&&t.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return ij._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;u(this,Hl)||j(this,Hl,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&C(this,Df,kw).call(this,t),(i=u(this,du))==null||i.popup.updateEdited(e)}resetEdited(){var e;u(this,Hl)&&(C(this,Df,kw).call(this,u(this,Hl).rect),(e=u(this,du))==null||e.popup.resetEdited(),j(this,Hl,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:s}}=this,n=document.createElement("section");n.setAttribute("data-annotation-id",t.id),this instanceof Lc||(n.tabIndex=Tm);const{style:o}=n;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(n.title=t.alternativeText),t.noRotate&&n.classList.add("norotate"),!t.rect||this instanceof jw){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,n),n}const{width:l,height:c}=Io(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,x=t.borderStyle.verticalCornerRadius;if(v>0||x>0){const y=`calc(${v}px * var(--scale-factor)) / calc(${x}px * var(--scale-factor))`;o.borderRadius=y}else if(this instanceof yR){const y=`calc(${l}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;o.borderRadius=y}switch(t.borderStyle.style){case xh.SOLID:o.borderStyle="solid";break;case xh.DASHED:o.borderStyle="dashed";break;case xh.BEVELED:Ne("Unimplemented border style: beveled");break;case xh.INSET:Ne("Unimplemented border style: inset");break;case xh.UNDERLINE:o.borderBottomStyle="solid";break}const _=t.borderColor||null;_?(j(this,cu,!0),o.borderColor=fe.makeHexColor(_[0]|0,_[1]|0,_[2]|0)):o.borderWidth=0}const d=fe.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:h,pageHeight:p,pageX:f,pageY:m}=s.rawDims;o.left=`${100*(d[0]-f)/h}%`,o.top=`${100*(d[1]-m)/p}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(o.width=`${100*l/h}%`,o.height=`${100*c/p}%`):this.setRotation(g,n),n}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims,{width:n,height:o}=Io(this.data.rect);let l,c;e%180===0?(l=100*n/i,c=100*o/s):(l=100*o/i,c=100*n/s),t.style.width=`${l}%`,t.style.height=`${c}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,s)=>{const n=s.detail[t],o=n[0],l=n.slice(1);s.target.style[i]=sA[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[i]:sA[`${o}_rgb`](l)})};return Ie(this,"_commonActions",{display:t=>{const{display:i}=t.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const s of Object.keys(t.detail)){const n=e[s]||i[s];n==null||n(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[s,n]of Object.entries(t)){const o=i[s];if(o){const l={detail:{[s]:n},target:e};o(l),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,s,n]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,x,_,y]=e.subarray(2,6);if(s===v&&n===x&&t===_&&i===y)return}const{style:o}=this.container;let l;if(u(this,cu)){const{borderColor:v,borderWidth:x}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const c=s-t,d=n-i,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);const f=h.createElement("defs");p.append(f);const m=h.createElement("clipPath"),g=`clippath_${this.data.id}`;m.setAttribute("id",g),m.setAttribute("clipPathUnits","objectBoundingBox"),f.append(m);for(let v=2,x=e.length;v<x;v+=8){const _=e[v],y=e[v+1],w=e[v+2],k=e[v+3],E=h.createElement("rect"),S=(w-t)/c,A=(n-y)/d,P=(_-w)/c,R=(y-k)/d;E.setAttribute("x",S),E.setAttribute("y",A),E.setAttribute("width",P),E.setAttribute("height",R),m.append(E),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${S}" y="${A}" width="${P}" height="${R}"/>`)}u(this,cu)&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(p),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{data:e}=this,t=j(this,du,new jw({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Ze("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:n,id:o,exportValues:l}of s){if(n===-1||o===t)continue;const c=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${o}"]`);if(d&&!Rc.has(d)){Ne(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:c,domElement:d})}return i}for(const s of document.getElementsByName(e)){const{exportValue:n}=s,o=s.getAttribute("data-element-id");o!==t&&Rc.has(s)&&i.push({id:o,exportValue:n,domElement:s})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Hl=new WeakMap,cu=new WeakMap,du=new WeakMap,Df=new WeakSet,kw=function(e){const{container:{style:t},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:n,pageHeight:o,pageX:l,pageY:c}}}}=this;i==null||i.splice(0,4,...e);const{width:d,height:h}=Io(e);t.left=`${100*(e[0]-l)/n}%`,t.top=`${100*(o-e[3]+c)/o}%`,s===0?(t.width=`${100*d/n}%`,t.height=`${100*h/o}%`):this.setRotation(s)};let Nt=ij;var _i,tl,vR,_R;class gR extends Nt{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});N(this,_i);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let n=!1;return t.url?(i.addLinkAttributes(s,t.url,t.newWindow),n=!0):t.action?(this._bindNamedAction(s,t.action),n=!0):t.attachment?(C(this,_i,vR).call(this,s,t.attachment,t.attachmentDest),n=!0):t.setOCGState?(C(this,_i,_R).call(this,s,t.setOCGState),n=!0):t.dest?(this._bindLink(s,t.dest),n=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),n=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),n=!0):this.isTooltipOnly&&!n&&(this._bindLink(s,""),n=!0)),this.container.classList.add("linkAnnotation"),n&&this.container.append(s),this.container}_bindLink(t,i){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&C(this,_i,tl).call(this)}_bindNamedAction(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),C(this,_i,tl).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const n of Object.keys(i.actions)){const o=s.get(n);o&&(t[o]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:n}}),!1})}t.onclick||(t.onclick=()=>!1),C(this,_i,tl).call(this)}_bindResetFormAction(t,i){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),C(this,_i,tl).call(this),!this._fieldObjects){Ne('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var p;s==null||s();const{fields:n,refs:o,include:l}=i,c=[];if(n.length!==0||o.length!==0){const f=new Set(o);for(const m of n){const g=this._fieldObjects[m]||[];for(const{id:v}of g)f.add(v)}for(const m of Object.values(this._fieldObjects))for(const g of m)f.has(g.id)===l&&c.push(g)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const d=this.annotationStorage,h=[];for(const f of c){const{id:m}=f;switch(h.push(m),f.type){case"text":{const v=f.defaultValue||"";d.setValue(m,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;d.setValue(m,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";d.setValue(m,{value:v});break}default:continue}const g=document.querySelector(`[data-element-id="${m}"]`);if(g){if(!Rc.has(g)){Ne(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}_i=new WeakSet,tl=function(){this.container.setAttribute("data-internal-link","")},vR=function(t,i,s=null){t.href=this.linkService.getAnchorUrl(""),i.description&&(t.title=i.description),t.onclick=()=>{var n;return(n=this.downloadManager)==null||n.openOrDownloadData(i.content,i.filename,s),!1},C(this,_i,tl).call(this)},_R=function(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),C(this,_i,tl).call(this)};class VK extends Nt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Lc extends Nt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Mr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,s,n){i.includes("mouse")?e.addEventListener(i,o=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:n(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var l;if(i==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}n&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:n(o)}}))})}_setEventListeners(e,t,i,s){var n,o,l;for(const[c,d]of i)(d==="Action"||(n=this.data.actions)!=null&&n[d])&&((d==="Focus"||d==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,d,s),d==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):d==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":fe.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||OK,n=e.style;let o;const l=2,c=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),h=Math.round(d/(dx*s))||1,p=d/h;o=Math.min(s,c(p/dx))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(s,c(d/dx))}n.fontSize=`calc(${o}px * var(--scale-factor))`,n.color=fe.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(n.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class zK extends Lc{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,s){const n=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),n.setValue(o.id,{[s]:i})}render(){var s,n;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let l=o.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let d=o.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const h={userValue:l,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=d??l,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",d??l),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Rc.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Tm,this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(i,"value",f.target.value,"value"),h.formattedValue=null}),i.addEventListener("resetform",f=>{const m=this.data.defaultFieldValue??"";i.value=h.userValue=m,h.formattedValue=null});let p=f=>{const{formattedValue:m}=h;m!=null&&(f.target.value=m),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",m=>{var v;if(h.focused)return;const{target:g}=m;h.userValue&&(g.value=h.userValue),h.lastCommittedValue=g.value,h.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(h.focused=!0)}),i.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const g={value(v){h.userValue=v.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),v.target.value=h.userValue},formattedValue(v){const{formattedValue:x}=v.detail;h.formattedValue=x,x!=null&&v.target!==document.activeElement&&(v.target.value=x),e.setValue(t,{formattedValue:x})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var w;const{charLimit:x}=v.detail,{target:_}=v;if(x===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",x);let y=h.userValue;!y||y.length<=x||(y=y.slice(0,x),_.value=h.userValue=y,e.setValue(t,{value:y}),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(g,m)}),i.addEventListener("keydown",m=>{var x;h.commitKey=1;let g=-1;if(m.key==="Escape"?g=0:m.key==="Enter"&&!this.data.multiLine?g=2:m.key==="Tab"&&(h.commitKey=3),g===-1)return;const{value:v}=m.target;h.lastCommittedValue!==v&&(h.lastCommittedValue=v,h.userValue=v,(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:g,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const f=p;p=null,i.addEventListener("blur",m=>{var v,x;if(!h.focused||!m.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(h.focused=!1);const{value:g}=m.target;h.userValue=g,h.lastCommittedValue!==g&&((x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:h.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),f(m)}),(n=this.data.actions)!=null&&n.Keystroke&&i.addEventListener("beforeinput",m=>{var E;h.lastCommittedValue=null;const{data:g,target:v}=m,{value:x,selectionStart:_,selectionEnd:y}=v;let w=_,k=y;switch(m.inputType){case"deleteWordBackward":{const S=x.substring(0,_).match(/\w*[^\w]*$/);S&&(w-=S[0].length);break}case"deleteWordForward":{const S=x.substring(_).match(/^[^\w]*\w*/);S&&(k+=S[0].length);break}case"deleteContentBackward":_===y&&(w-=1);break;case"deleteContentForward":_===y&&(k+=1);break}m.preventDefault(),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,change:g||"",willCommit:!1,selStart:w,selEnd:k}})}),this._setEventListeners(i,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(p&&i.addEventListener("blur",p),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${m}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class BK extends Lc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class UK extends Lc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let s=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const n=document.createElement("input");return Rc.add(n),n.setAttribute("data-element-id",i),n.disabled=t.readOnly,this._setRequired(n,this.data.required),n.type="checkbox",n.name=t.fieldName,s&&n.setAttribute("checked",!0),n.setAttribute("exportValue",t.exportValue),n.tabIndex=Tm,n.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const d of this._getElementsByName(l,i)){const h=c&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}e.setValue(i,{value:c})}),n.addEventListener("resetform",o=>{const l=t.defaultFieldValue||"Off";o.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(n.addEventListener("updatefromsandbox",o=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(i,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(n,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class yR extends Lc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let s=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(i,{value:s})),s)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const n=document.createElement("input");if(Rc.add(n),n.setAttribute("data-element-id",i),n.disabled=t.readOnly,this._setRequired(n,this.data.required),n.type="radio",n.name=t.fieldName,s&&n.setAttribute("checked",!0),n.tabIndex=Tm,n.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const d of this._getElementsByName(l,i))e.setValue(d.id,{value:!1});e.setValue(i,{value:c})}),n.addEventListener("resetform",o=>{const l=t.defaultFieldValue;o.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;n.addEventListener("updatefromsandbox",l=>{const c={value:d=>{const h=o===d.detail.value;for(const p of this._getElementsByName(d.target.name)){const f=h&&p.id===i;p.domElement&&(p.domElement.checked=f),e.setValue(p.id,{value:f})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(n,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class qK extends gR{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class HK extends Lc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");Rc.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Tm;let n=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,i.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),n=!1),s.append(p)}let o=null;if(n){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),s.prepend(h),o=()=>{h.remove(),s.removeEventListener("input",o),o=null},s.addEventListener("input",o)}const l=h=>{const p=h?"value":"textContent",{options:f,multiple:m}=s;return m?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[p]):f.selectedIndex===-1?null:f[f.selectedIndex][p]};let c=l(!1);const d=h=>{const p=h.target.options;return Array.prototype.map.call(p,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",h=>{const p={value(f){o==null||o();const m=f.detail.value,g=new Set(Array.isArray(m)?m:[m]);for(const v of s.options)v.selected=g.has(v.value);e.setValue(t,{value:l(!0)}),c=l(!1)},multipleSelection(f){s.multiple=!0},remove(f){const m=s.options,g=f.detail.remove;m[g].selected=!1,s.remove(g),m.length>0&&Array.prototype.findIndex.call(m,x=>x.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:l(!0),items:d(f)}),c=l(!1)},clear(f){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),c=l(!1)},insert(f){const{index:m,displayValue:g,exportValue:v}=f.detail.insert,x=s.children[m],_=document.createElement("option");_.textContent=g,_.value=v,x?x.before(_):s.append(_),e.setValue(t,{value:l(!0),items:d(f)}),c=l(!1)},items(f){const{items:m}=f.detail;for(;s.length!==0;)s.remove(0);for(const g of m){const{displayValue:v,exportValue:x}=g,_=document.createElement("option");_.textContent=v,_.value=x,s.append(_)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:l(!0),items:d(f)}),c=l(!1)},indices(f){const m=new Set(f.detail.indices);for(const g of f.target.options)g.selected=m.has(g.index);e.setValue(t,{value:l(!0)}),c=l(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(p,h)}),s.addEventListener("input",h=>{var m;const p=l(!0),f=l(!1);e.setValue(t,{value:p}),h.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:f,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):s.addEventListener("input",function(h){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class jw extends Nt{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:Nt._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new GK({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${H0}${i}`).join(",")),this.container}}var uu,h_,p_,hu,Gl,wt,Yn,pu,Ff,Lf,fu,Xn,us,Jn,Mf,Qn,Of,Wl,Kl,Je,Wg,Sw,xR,bR,wR,kR,Kg,Yg,Ew;class GK{constructor({container:e,color:t,elements:i,titleObj:s,modificationDate:n,contentsObj:o,richText:l,parent:c,rect:d,parentRect:h,open:p}){N(this,Je);N(this,uu,C(this,Je,wR).bind(this));N(this,h_,C(this,Je,Ew).bind(this));N(this,p_,C(this,Je,Yg).bind(this));N(this,hu,C(this,Je,Kg).bind(this));N(this,Gl,null);N(this,wt,null);N(this,Yn,null);N(this,pu,null);N(this,Ff,null);N(this,Lf,null);N(this,fu,null);N(this,Xn,!1);N(this,us,null);N(this,Jn,null);N(this,Mf,null);N(this,Qn,null);N(this,Of,null);N(this,Wl,null);N(this,Kl,!1);var f;j(this,wt,e),j(this,Of,s),j(this,Yn,o),j(this,Qn,l),j(this,Lf,c),j(this,Gl,t),j(this,Mf,d),j(this,fu,h),j(this,Ff,i),j(this,pu,K0.toDateObject(n)),this.trigger=i.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",u(this,hu)),m.addEventListener("mouseenter",u(this,p_)),m.addEventListener("mouseleave",u(this,h_)),m.classList.add("popupTriggerArea");for(const m of i)(f=m.container)==null||f.addEventListener("keydown",u(this,uu));u(this,wt).hidden=!0,p&&C(this,Je,Kg).call(this)}render(){if(u(this,us))return;const e=j(this,us,document.createElement("div"));if(e.className="popup",u(this,Gl)){const n=e.style.outlineColor=fe.makeHexColor(...u(this,Gl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`:e.style.backgroundColor=fe.makeHexColor(...u(this,Gl).map(l=>Math.floor(.7*(255-l)+l)))}const t=document.createElement("span");t.className="header";const i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=u(this,Of),e.append(t),u(this,pu)){const n=document.createElement("span");n.classList.add("popupDate"),n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,pu).valueOf()})),t.append(n)}const s=u(this,Je,Wg);if(s)mR.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const n=this._formatContents(u(this,Yn));e.append(n)}u(this,wt).append(e)}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let n=0,o=s.length;n<o;++n){const l=s[n];i.append(document.createTextNode(l)),n<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:t}){var i;u(this,Wl)||j(this,Wl,{contentsObj:u(this,Yn),richText:u(this,Qn)}),e&&j(this,Jn,null),t&&(j(this,Qn,C(this,Je,bR).call(this,t)),j(this,Yn,null)),(i=u(this,us))==null||i.remove(),j(this,us,null)}resetEdited(){var e;u(this,Wl)&&({contentsObj:Nr(this,Yn)._,richText:Nr(this,Qn)._}=u(this,Wl),j(this,Wl,null),(e=u(this,us))==null||e.remove(),j(this,us,null),j(this,Jn,null))}forceHide(){j(this,Kl,this.isVisible),u(this,Kl)&&(u(this,wt).hidden=!0)}maybeShow(){u(this,Kl)&&(u(this,us)||C(this,Je,Yg).call(this),j(this,Kl,!1),u(this,wt).hidden=!1)}get isVisible(){return u(this,wt).hidden===!1}}uu=new WeakMap,h_=new WeakMap,p_=new WeakMap,hu=new WeakMap,Gl=new WeakMap,wt=new WeakMap,Yn=new WeakMap,pu=new WeakMap,Ff=new WeakMap,Lf=new WeakMap,fu=new WeakMap,Xn=new WeakMap,us=new WeakMap,Jn=new WeakMap,Mf=new WeakMap,Qn=new WeakMap,Of=new WeakMap,Wl=new WeakMap,Kl=new WeakMap,Je=new WeakSet,Wg=function(){const e=u(this,Qn),t=u(this,Yn);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&u(this,Qn).html||null},Sw=function(){var e,t,i;return((i=(t=(e=u(this,Je,Wg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},xR=function(){var e,t,i;return((i=(t=(e=u(this,Je,Wg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},bR=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:u(this,Je,xR),fontSize:u(this,Je,Sw)?`calc(${u(this,Je,Sw)}px * var(--scale-factor))`:""}};for(const n of e.split(`
`))t.push({name:"span",value:n,attributes:s});return i},wR=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,Xn))&&C(this,Je,Kg).call(this)},kR=function(){if(u(this,Jn)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:s,pageY:n}}}=u(this,Lf);let o=!!u(this,fu),l=o?u(this,fu):u(this,Mf);for(const g of u(this,Ff))if(!l||fe.intersect(g.data.rect,l)!==null){l=g.data.rect,o=!0;break}const c=fe.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),h=o?l[2]-l[0]+5:0,p=c[0]+h,f=c[1];j(this,Jn,[100*(p-s)/t,100*(f-n)/i]);const{style:m}=u(this,wt);m.left=`${u(this,Jn)[0]}%`,m.top=`${u(this,Jn)[1]}%`},Kg=function(){j(this,Xn,!u(this,Xn)),u(this,Xn)?(C(this,Je,Yg).call(this),u(this,wt).addEventListener("click",u(this,hu)),u(this,wt).addEventListener("keydown",u(this,uu))):(C(this,Je,Ew).call(this),u(this,wt).removeEventListener("click",u(this,hu)),u(this,wt).removeEventListener("keydown",u(this,uu)))},Yg=function(){u(this,us)||this.render(),this.isVisible?u(this,Xn)&&u(this,wt).classList.add("focused"):(C(this,Je,kR).call(this),u(this,wt).hidden=!1,u(this,wt).style.zIndex=parseInt(u(this,wt).style.zIndex)+1e3)},Ew=function(){u(this,wt).classList.remove("focused"),!(u(this,Xn)||!this.isVisible)&&(u(this,wt).hidden=!0,u(this,wt).style.zIndex=parseInt(u(this,wt).style.zIndex)-1e3)};class jR extends Nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ae.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var $f;class WK extends Nt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});N(this,$f,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:i,height:s}=Io(t.rect),n=this.svgFactory.create(i,s,!0),o=j(this,$f,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),n.append(o),this.container.append(n),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,$f)}addHighlightArea(){this.container.classList.add("highlightArea")}}$f=new WeakMap;var Vf;class KK extends Nt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});N(this,Vf,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:i,height:s}=Io(t.rect),n=this.svgFactory.create(i,s,!0),o=t.borderStyle.width,l=j(this,Vf,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",i-o),l.setAttribute("height",s-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),n.append(l),this.container.append(n),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Vf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vf=new WeakMap;var zf;class YK extends Nt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});N(this,zf,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:i,height:s}=Io(t.rect),n=this.svgFactory.create(i,s,!0),o=t.borderStyle.width,l=j(this,zf,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",i/2),l.setAttribute("cy",s/2),l.setAttribute("rx",i/2-o/2),l.setAttribute("ry",s/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),n.append(l),this.container.append(n),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,zf)}addHighlightArea(){this.container.classList.add("highlightArea")}}zf=new WeakMap;var Bf;class SR extends Nt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});N(this,Bf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:s,popupRef:n}}=this;if(!i)return this.container;const{width:o,height:l}=Io(t),c=this.svgFactory.create(o,l,!0);let d=[];for(let p=0,f=i.length;p<f;p+=2){const m=i[p]-t[0],g=t[3]-i[p+1];d.push(`${m},${g}`)}d=d.join(" ");const h=j(this,Bf,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",d),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!n&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Bf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bf=new WeakMap;class XK extends SR{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class JK extends Nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Uf,Yl,qf,Aw;class Z0 extends Nt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});N(this,qf);N(this,Uf,null);N(this,Yl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ae.HIGHLIGHT:Ae.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:i,inkLists:s,borderStyle:n,popupRef:o}}=this,{transform:l,width:c,height:d}=C(this,qf,Aw).call(this,i,t),h=this.svgFactory.create(c,d,!0),p=j(this,Uf,this.svgFactory.createElement("svg:g"));h.append(p),p.setAttribute("stroke-width",n.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let f=0,m=s.length;f<m;f++){const g=this.svgFactory.createElement(this.svgElementName);u(this,Yl).push(g),g.setAttribute("points",s[f].join(",")),p.append(g)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:i,points:s,rect:n}=t,o=u(this,Uf);if(i>=0&&o.setAttribute("stroke-width",i||1),s)for(let l=0,c=u(this,Yl).length;l<c;l++)u(this,Yl)[l].setAttribute("points",s[l].join(","));if(n){const{transform:l,width:c,height:d}=C(this,qf,Aw).call(this,this.data.rotation,n);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${d}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return u(this,Yl)}addHighlightArea(){this.container.classList.add("highlightArea")}}Uf=new WeakMap,Yl=new WeakMap,qf=new WeakSet,Aw=function(t,i){switch(t){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class ER extends Nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ae.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class QK extends Nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class ZK extends Nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class e7 extends Nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class AR extends Nt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ae.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Hf,Gf,Nw;class t7 extends Nt{constructor(t){var s;super(t,{isRenderable:!0});N(this,Gf);N(this,Hf,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",C(this,Gf,Nw).bind(this)),j(this,Hf,s);const{isMac:n}=Mr.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(n?o.metaKey:o.ctrlKey)&&C(this,Gf,Nw).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return u(this,Hf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hf=new WeakMap,Gf=new WeakSet,Nw=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Wf,Xl,Jl,Kf,Ic,NR,Cw;class r7{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:s,page:n,viewport:o,structTreeLayer:l}){N(this,Ic);N(this,Wf,null);N(this,Xl,null);N(this,Jl,new Map);N(this,Kf,null);this.div=e,j(this,Wf,t),j(this,Xl,i),j(this,Kf,l||null),this.page=n,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return u(this,Jl).size>0}async render(e){var o;const{annotations:t}=e,i=this.div;Pc(i,this.viewport);const s=new Map,n={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Q0,annotationStorage:e.annotationStorage||new X0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const c=l.annotationType===Ft.POPUP;if(c){const p=s.get(l.id);if(!p)continue;n.elements=p}else{const{width:p,height:f}=Io(l.rect);if(p<=0||f<=0)continue}n.data=l;const d=$K.create(n);if(!d.isRenderable)continue;if(!c&&l.popupRef){const p=s.get(l.popupRef);p?p.push(d):s.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),await C(this,Ic,NR).call(this,h,l.id),d._isEditable&&(u(this,Jl).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}C(this,Ic,Cw).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Pc(t,{rotation:e.rotation}),C(this,Ic,Cw).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(u(this,Jl).values())}getEditableAnnotation(e){return u(this,Jl).get(e)}}Wf=new WeakMap,Xl=new WeakMap,Jl=new WeakMap,Kf=new WeakMap,Ic=new WeakSet,NR=async function(e,t){var o,l;const i=e.firstChild||e,s=i.id=`${H0}${t}`,n=await((o=u(this,Kf))==null?void 0:o.getAriaAttributes(s));if(n)for(const[c,d]of n)i.setAttribute(c,d);this.div.append(e),(l=u(this,Wf))==null||l.moveElementInDOM(this.div,e,i,!1)},Cw=function(){if(!u(this,Xl))return;const e=this.div;for(const[t,i]of u(this,Xl)){const s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:n}=s;n?n.nodeName==="CANVAS"?n.replaceWith(i):n.classList.contains("annotationContent")?n.after(i):n.before(i):s.append(i)}u(this,Xl).clear()};const fg=/\r\n?|\n/g;var hs,oi,Yf,Ql,li,Dt,CR,PR,TR,Xg,ua,Jg,Qg,RR,Tw,IR;const rt=class rt extends _t{constructor(t){super({...t,name:"freeTextEditor"});N(this,Dt);N(this,hs);N(this,oi,"");N(this,Yf,`${this.id}-editor`);N(this,Ql,null);N(this,li);j(this,hs,t.color||rt._defaultColor||_t._defaultLineColor),j(this,li,t.fontSize||rt._defaultFontSize)}static get _keyboardManager(){const t=rt.prototype,i=o=>o.isEmpty(),s=Tc.TRANSLATE_SMALL,n=Tc.TRANSLATE_BIG;return Ie(this,"_keyboardManager",new Pm([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[n,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,n],checker:i}]]))}static initialize(t,i){_t.initialize(t,i);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case Me.FREETEXT_SIZE:rt._defaultFontSize=i;break;case Me.FREETEXT_COLOR:rt._defaultColor=i;break}}updateParams(t,i){switch(t){case Me.FREETEXT_SIZE:C(this,Dt,CR).call(this,i);break;case Me.FREETEXT_COLOR:C(this,Dt,PR).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Me.FREETEXT_SIZE,rt._defaultFontSize],[Me.FREETEXT_COLOR,rt._defaultColor||_t._defaultLineColor]]}get propertiesToUpdate(){return[[Me.FREETEXT_SIZE,u(this,li)],[Me.FREETEXT_COLOR,u(this,hs)]]}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-rt._internalPadding*t,-(rt._internalPadding+u(this,li))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ae.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),j(this,Ql,new AbortController);const t=this._uiManager.combinedSignal(u(this,Ql));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,Yf)),this._isDraggable=!0,(t=u(this,Ql))==null||t.abort(),j(this,Ql,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var i;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=u(this,oi),i=j(this,oi,C(this,Dt,TR).call(this).trimEnd());if(t===i)return;const s=n=>{if(j(this,oi,n),!n){this.remove();return}C(this,Dt,Qg).call(this),this._uiManager.rebuild(this),C(this,Dt,Xg).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(t)},mustExec:!1}),C(this,Dt,Xg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){rt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,Yf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${u(this,li)}px * var(--scale-factor))`,s.color=u(this,hs),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Wv(this,this.div,["dblclick","keydown"]),this.width){const[n,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[h,p]=this.pageDimensions,[f,m]=this.pageTranslation;let g,v;switch(this.rotation){case 0:g=t+(l[0]-f)/h,v=i+this.height-(l[1]-m)/p;break;case 90:g=t+(l[0]-f)/h,v=i-(l[1]-m)/p,[c,d]=[d,-c];break;case 180:g=t-this.width+(l[0]-f)/h,v=i-(l[1]-m)/p,[c,d]=[-c,-d];break;case 270:g=t+(l[0]-f-this.height*p)/h,v=i+(l[1]-m-this.width*h)/p,[c,d]=[-d,c];break}this.setAt(g*n,v*o,c,d)}else this.setAt(t*n,i*o,this.width*n,this.height*o);C(this,Dt,Qg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,v,x;const i=t.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const n=C(g=rt,ua,Tw).call(g,i.getData("text")||"").replaceAll(fg,`
`);if(!n)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!n.includes(`
`)){l.insertNode(document.createTextNode(n)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:d}=l,h=[],p=[];if(c.nodeType===Node.TEXT_NODE){const _=c.parentElement;if(p.push(c.nodeValue.slice(d).replaceAll(fg,"")),_!==this.editorDiv){let y=h;for(const w of this.editorDiv.childNodes){if(w===_){y=p;continue}y.push(C(v=rt,ua,Jg).call(v,w))}}h.push(c.nodeValue.slice(0,d).replaceAll(fg,""))}else if(c===this.editorDiv){let _=h,y=0;for(const w of this.editorDiv.childNodes)y++===d&&(_=p),_.push(C(x=rt,ua,Jg).call(x,w))}j(this,oi,`${h.join(`
`)}${n}${p.join(`
`)}`),C(this,Dt,Qg).call(this);const f=new Range;let m=h.reduce((_,y)=>_+y.length,0);for(const{firstChild:_}of this.editorDiv.childNodes)if(_.nodeType===Node.TEXT_NODE){const y=_.nodeValue.length;if(m<=y){f.setStart(_,m),f.setEnd(_,m);break}m-=y}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(t,i,s){var l;let n=null;if(t instanceof jR){const{data:{defaultAppearanceData:{fontSize:c,fontColor:d},rect:h,rotation:p,id:f,popupRef:m},textContent:g,textPosition:v,parent:{page:{pageNumber:x}}}=t;if(!g||g.length===0)return null;n=t={annotationType:Ae.FREETEXT,color:Array.from(d),fontSize:c,value:g.join(`
`),position:v,pageIndex:x-1,rect:h.slice(0),rotation:p,id:f,deleted:!1,popupRef:m}}const o=await super.deserialize(t,i,s);return j(o,li,t.fontSize),j(o,hs,fe.makeHexColor(...t.color)),j(o,oi,C(l=rt,ua,Tw).call(l,t.value)),o.annotationElementId=t.id||null,o._initialData=n,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=rt._internalPadding*this.parentScale,s=this.getRect(i,i),n=_t._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,hs)),o={annotationType:Ae.FREETEXT,color:n,fontSize:u(this,li),value:C(this,Dt,RR).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!C(this,Dt,IR).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(this.deleted)return i;const{style:s}=i;s.fontSize=`calc(${u(this,li)}px * var(--scale-factor))`,s.color=u(this,hs),i.replaceChildren();for(const o of u(this,oi).split(`
`)){const l=document.createElement("div");l.append(o?document.createTextNode(o):document.createElement("br")),i.append(l)}const n=rt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(n,n),popupContent:u(this,oi)}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};hs=new WeakMap,oi=new WeakMap,Yf=new WeakMap,Ql=new WeakMap,li=new WeakMap,Dt=new WeakSet,CR=function(t){const i=n=>{this.editorDiv.style.fontSize=`calc(${n}px * var(--scale-factor))`,this.translate(0,-(n-u(this,li))*this.parentScale),j(this,li,n),C(this,Dt,Xg).call(this)},s=u(this,li);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},PR=function(t){const i=n=>{j(this,hs,this.editorDiv.style.color=n)},s=u(this,hs);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},TR=function(){var s;const t=[];this.editorDiv.normalize();let i=null;for(const n of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(C(s=rt,ua,Jg).call(s,n)),i=n);return t.join(`
`)},Xg=function(){const[t,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:n,div:o}=this,l=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",n.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/i):(this.width=s.height/t,this.height=s.width/i),this.fixAndSetPosition()},ua=new WeakSet,Jg=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(fg,"")},Qg=function(){if(this.editorDiv.replaceChildren(),!!u(this,oi))for(const t of u(this,oi).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},RR=function(){return u(this,oi).replaceAll(""," ")},Tw=function(t){return t.replaceAll(" ","")},IR=function(t){const{value:i,fontSize:s,color:n,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==i||t.fontSize!==s||t.color.some((l,c)=>l!==n[c])||t.pageIndex!==o},N(rt,ua),ge(rt,"_freeTextDefaultContent",""),ge(rt,"_internalPadding",0),ge(rt,"_defaultColor",null),ge(rt,"_defaultFontSize",10),ge(rt,"_type","freetext"),ge(rt,"_editorType",Ae.FREETEXT);let Pw=rt;class ne{toSVGPath(){Ze("Abstract method `toSVGPath` must be implemented.")}get box(){Ze("Abstract getter `box` must be implemented.")}serialize(e,t){Ze("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,s,n,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=t+e[l]*s,o[l+1]=i+e[l+1]*n;return o}static _rescaleAndSwap(e,t,i,s,n,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=t+e[l+1]*s,o[l+1]=i+e[l]*n;return o}static _translate(e,t,i,s){s||(s=new Float32Array(e.length));for(let n=0,o=e.length;n<o;n+=2)s[n]=t+e[n],s[n+1]=i+e[n+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,s,n){switch(n){case 90:return[1-t/i,e/s];case 180:return[1-e/i,1-t/s];case 270:return[t/i,1-e/s];default:return[e/i,t/s]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,s,n,o){return[(e+5*i)/6,(t+5*s)/6,(5*i+n)/6,(5*s+o)/6,(i+n)/2,(s+o)/2]}}ge(ne,"PRECISION",1e-4);var ci,ps,mu,gu,Zs,Pe,Zl,ec,Xf,Jf,vu,_u,ao,Qf,f_,m_,Ht,zh,DR,FR,LR,MR,OR,$R;const In=class In{constructor({x:e,y:t},i,s,n,o,l=0){N(this,Ht);N(this,ci);N(this,ps,[]);N(this,mu);N(this,gu);N(this,Zs,[]);N(this,Pe,new Float32Array(18));N(this,Zl);N(this,ec);N(this,Xf);N(this,Jf);N(this,vu);N(this,_u);N(this,ao,[]);j(this,ci,i),j(this,_u,n*s),j(this,gu,o),u(this,Pe).set([NaN,NaN,NaN,NaN,e,t],6),j(this,mu,l),j(this,Jf,u(In,Qf)*s),j(this,Xf,u(In,m_)*s),j(this,vu,s),u(this,ao).push(e,t)}isEmpty(){return isNaN(u(this,Pe)[8])}add({x:e,y:t}){var R;j(this,Zl,e),j(this,ec,t);const[i,s,n,o]=u(this,ci);let[l,c,d,h]=u(this,Pe).subarray(8,12);const p=e-d,f=t-h,m=Math.hypot(p,f);if(m<u(this,Xf))return!1;const g=m-u(this,Jf),v=g/m,x=v*p,_=v*f;let y=l,w=c;l=d,c=h,d+=x,h+=_,(R=u(this,ao))==null||R.push(e,t);const k=-_/g,E=x/g,S=k*u(this,_u),A=E*u(this,_u);return u(this,Pe).set(u(this,Pe).subarray(2,8),0),u(this,Pe).set([d+S,h+A],4),u(this,Pe).set(u(this,Pe).subarray(14,18),12),u(this,Pe).set([d-S,h-A],16),isNaN(u(this,Pe)[6])?(u(this,Zs).length===0&&(u(this,Pe).set([l+S,c+A],2),u(this,Zs).push(NaN,NaN,NaN,NaN,(l+S-i)/n,(c+A-s)/o),u(this,Pe).set([l-S,c-A],14),u(this,ps).push(NaN,NaN,NaN,NaN,(l-S-i)/n,(c-A-s)/o)),u(this,Pe).set([y,w,l,c,d,h],6),!this.isEmpty()):(u(this,Pe).set([y,w,l,c,d,h],6),Math.abs(Math.atan2(w-c,y-l)-Math.atan2(_,x))<Math.PI/2?([l,c,d,h]=u(this,Pe).subarray(2,6),u(this,Zs).push(NaN,NaN,NaN,NaN,((l+d)/2-i)/n,((c+h)/2-s)/o),[l,c,y,w]=u(this,Pe).subarray(14,18),u(this,ps).push(NaN,NaN,NaN,NaN,((y+l)/2-i)/n,((w+c)/2-s)/o),!0):([y,w,l,c,d,h]=u(this,Pe).subarray(0,6),u(this,Zs).push(((y+5*l)/6-i)/n,((w+5*c)/6-s)/o,((5*l+d)/6-i)/n,((5*c+h)/6-s)/o,((l+d)/2-i)/n,((c+h)/2-s)/o),[d,h,l,c,y,w]=u(this,Pe).subarray(12,18),u(this,ps).push(((y+5*l)/6-i)/n,((w+5*c)/6-s)/o,((5*l+d)/6-i)/n,((5*c+h)/6-s)/o,((l+d)/2-i)/n,((c+h)/2-s)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,Zs),t=u(this,ps);if(isNaN(u(this,Pe)[6])&&!this.isEmpty())return C(this,Ht,DR).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?i.push(`L${e[s+4]} ${e[s+5]}`):i.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);C(this,Ht,LR).call(this,i);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?i.push(`L${t[s+4]} ${t[s+5]}`):i.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return C(this,Ht,FR).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,s,n,o){return new VR(e,t,i,s,n,o)}getOutlines(){var p;const e=u(this,Zs),t=u(this,ps),i=u(this,Pe),[s,n,o,l]=u(this,ci),c=new Float32Array((((p=u(this,ao))==null?void 0:p.length)??0)+2);for(let f=0,m=c.length-2;f<m;f+=2)c[f]=(u(this,ao)[f]-s)/o,c[f+1]=(u(this,ao)[f+1]-n)/l;if(c[c.length-2]=(u(this,Zl)-s)/o,c[c.length-1]=(u(this,ec)-n)/l,isNaN(i[6])&&!this.isEmpty())return C(this,Ht,MR).call(this,c);const d=new Float32Array(u(this,Zs).length+24+u(this,ps).length);let h=e.length;for(let f=0;f<h;f+=2){if(isNaN(e[f])){d[f]=d[f+1]=NaN;continue}d[f]=e[f],d[f+1]=e[f+1]}h=C(this,Ht,$R).call(this,d,h);for(let f=t.length-6;f>=6;f-=6)for(let m=0;m<6;m+=2){if(isNaN(t[f+m])){d[h]=d[h+1]=NaN,h+=2;continue}d[h]=t[f+m],d[h+1]=t[f+m+1],h+=2}return C(this,Ht,OR).call(this,d,h),this.newFreeDrawOutline(d,c,u(this,ci),u(this,vu),u(this,mu),u(this,gu))}};ci=new WeakMap,ps=new WeakMap,mu=new WeakMap,gu=new WeakMap,Zs=new WeakMap,Pe=new WeakMap,Zl=new WeakMap,ec=new WeakMap,Xf=new WeakMap,Jf=new WeakMap,vu=new WeakMap,_u=new WeakMap,ao=new WeakMap,Qf=new WeakMap,f_=new WeakMap,m_=new WeakMap,Ht=new WeakSet,zh=function(){const e=u(this,Pe).subarray(4,6),t=u(this,Pe).subarray(16,18),[i,s,n,o]=u(this,ci);return[(u(this,Zl)+(e[0]-t[0])/2-i)/n,(u(this,ec)+(e[1]-t[1])/2-s)/o,(u(this,Zl)+(t[0]-e[0])/2-i)/n,(u(this,ec)+(t[1]-e[1])/2-s)/o]},DR=function(){const[e,t,i,s]=u(this,ci),[n,o,l,c]=C(this,Ht,zh).call(this);return`M${(u(this,Pe)[2]-e)/i} ${(u(this,Pe)[3]-t)/s} L${(u(this,Pe)[4]-e)/i} ${(u(this,Pe)[5]-t)/s} L${n} ${o} L${l} ${c} L${(u(this,Pe)[16]-e)/i} ${(u(this,Pe)[17]-t)/s} L${(u(this,Pe)[14]-e)/i} ${(u(this,Pe)[15]-t)/s} Z`},FR=function(e){const t=u(this,ps);e.push(`L${t[4]} ${t[5]} Z`)},LR=function(e){const[t,i,s,n]=u(this,ci),o=u(this,Pe).subarray(4,6),l=u(this,Pe).subarray(16,18),[c,d,h,p]=C(this,Ht,zh).call(this);e.push(`L${(o[0]-t)/s} ${(o[1]-i)/n} L${c} ${d} L${h} ${p} L${(l[0]-t)/s} ${(l[1]-i)/n}`)},MR=function(e){const t=u(this,Pe),[i,s,n,o]=u(this,ci),[l,c,d,h]=C(this,Ht,zh).call(this),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-i)/n,(t[3]-s)/o,NaN,NaN,NaN,NaN,(t[4]-i)/n,(t[5]-s)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(t[16]-i)/n,(t[17]-s)/o,NaN,NaN,NaN,NaN,(t[14]-i)/n,(t[15]-s)/o],0),this.newFreeDrawOutline(p,e,u(this,ci),u(this,vu),u(this,mu),u(this,gu))},OR=function(e,t){const i=u(this,ps);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},$R=function(e,t){const i=u(this,Pe).subarray(4,6),s=u(this,Pe).subarray(16,18),[n,o,l,c]=u(this,ci),[d,h,p,f]=C(this,Ht,zh).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-n)/l,(i[1]-o)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,f,NaN,NaN,NaN,NaN,(s[0]-n)/l,(s[1]-o)/c],t),t+=24},N(In,Qf,8),N(In,f_,2),N(In,m_,u(In,Qf)+u(In,f_));let Xv=In;var yu,tc,Zn,Zf,di,em,Et,g_,zR;class VR extends ne{constructor(t,i,s,n,o,l){super();N(this,g_);N(this,yu);N(this,tc,new Float32Array(4));N(this,Zn);N(this,Zf);N(this,di);N(this,em);N(this,Et);j(this,Et,t),j(this,di,i),j(this,yu,s),j(this,em,n),j(this,Zn,o),j(this,Zf,l),this.lastPoint=[NaN,NaN],C(this,g_,zR).call(this,l);const[c,d,h,p]=u(this,tc);for(let f=0,m=t.length;f<m;f+=2)t[f]=(t[f]-c)/h,t[f+1]=(t[f+1]-d)/p;for(let f=0,m=i.length;f<m;f+=2)i[f]=(i[f]-c)/h,i[f+1]=(i[f+1]-d)/p}toSVGPath(){const t=[`M${u(this,Et)[4]} ${u(this,Et)[5]}`];for(let i=6,s=u(this,Et).length;i<s;i+=6){if(isNaN(u(this,Et)[i])){t.push(`L${u(this,Et)[i+4]} ${u(this,Et)[i+5]}`);continue}t.push(`C${u(this,Et)[i]} ${u(this,Et)[i+1]} ${u(this,Et)[i+2]} ${u(this,Et)[i+3]} ${u(this,Et)[i+4]} ${u(this,Et)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,s,n],o){const l=s-t,c=n-i;let d,h;switch(o){case 0:d=ne._rescale(u(this,Et),t,n,l,-c),h=ne._rescale(u(this,di),t,n,l,-c);break;case 90:d=ne._rescaleAndSwap(u(this,Et),t,i,l,c),h=ne._rescaleAndSwap(u(this,di),t,i,l,c);break;case 180:d=ne._rescale(u(this,Et),s,i,-l,c),h=ne._rescale(u(this,di),s,i,-l,c);break;case 270:d=ne._rescaleAndSwap(u(this,Et),s,n,-l,-c),h=ne._rescaleAndSwap(u(this,di),s,n,-l,-c);break}return{outline:Array.from(d),points:[Array.from(h)]}}get box(){return u(this,tc)}newOutliner(t,i,s,n,o,l=0){return new Xv(t,i,s,n,o,l)}getNewOutline(t,i){const[s,n,o,l]=u(this,tc),[c,d,h,p]=u(this,yu),f=o*h,m=l*p,g=s*h+c,v=n*p+d,x=this.newOutliner({x:u(this,di)[0]*f+g,y:u(this,di)[1]*m+v},u(this,yu),u(this,em),t,u(this,Zf),i??u(this,Zn));for(let _=2;_<u(this,di).length;_+=2)x.add({x:u(this,di)[_]*f+g,y:u(this,di)[_+1]*m+v});return x.getOutlines()}}yu=new WeakMap,tc=new WeakMap,Zn=new WeakMap,Zf=new WeakMap,di=new WeakMap,em=new WeakMap,Et=new WeakMap,g_=new WeakSet,zR=function(t){const i=u(this,Et);let s=i[4],n=i[5],o=s,l=n,c=s,d=n,h=s,p=n;const f=t?Math.max:Math.min;for(let g=6,v=i.length;g<v;g+=6){if(isNaN(i[g]))o=Math.min(o,i[g+4]),l=Math.min(l,i[g+5]),c=Math.max(c,i[g+4]),d=Math.max(d,i[g+5]),p<i[g+5]?(h=i[g+4],p=i[g+5]):p===i[g+5]&&(h=f(h,i[g+4]));else{const x=fe.bezierBoundingBox(s,n,...i.slice(g,g+6));o=Math.min(o,x[0]),l=Math.min(l,x[1]),c=Math.max(c,x[2]),d=Math.max(d,x[3]),p<x[3]?(h=x[2],p=x[3]):p===x[3]&&(h=f(h,x[2]))}s=i[g+4],n=i[g+5]}const m=u(this,tc);m[0]=o-u(this,Zn),m[1]=l-u(this,Zn),m[2]=c-o+2*u(this,Zn),m[3]=d-l+2*u(this,Zn),this.lastPoint=[h,p]};var tm,rm,oo,fs,$r,BR,Zg,UR,qR,Iw;class Rw{constructor(e,t=0,i=0,s=!0){N(this,$r);N(this,tm);N(this,rm);N(this,oo,[]);N(this,fs,[]);let n=1/0,o=-1/0,l=1/0,c=-1/0;const d=10**-4;for(const{x,y:_,width:y,height:w}of e){const k=Math.floor((x-t)/d)*d,E=Math.ceil((x+y+t)/d)*d,S=Math.floor((_-t)/d)*d,A=Math.ceil((_+w+t)/d)*d,P=[k,S,A,!0],R=[E,S,A,!1];u(this,oo).push(P,R),n=Math.min(n,k),o=Math.max(o,E),l=Math.min(l,S),c=Math.max(c,A)}const h=o-n+2*i,p=c-l+2*i,f=n-i,m=l-i,g=u(this,oo).at(s?-1:-2),v=[g[0],g[2]];for(const x of u(this,oo)){const[_,y,w]=x;x[0]=(_-f)/h,x[1]=(y-m)/p,x[2]=(w-m)/p}j(this,tm,new Float32Array([f,m,h,p])),j(this,rm,v)}getOutlines(){u(this,oo).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of u(this,oo))t[3]?(e.push(...C(this,$r,Iw).call(this,t)),C(this,$r,UR).call(this,t)):(C(this,$r,qR).call(this,t),e.push(...C(this,$r,Iw).call(this,t)));return C(this,$r,BR).call(this,e)}}tm=new WeakMap,rm=new WeakMap,oo=new WeakMap,fs=new WeakMap,$r=new WeakSet,BR=function(e){const t=[],i=new Set;for(const o of e){const[l,c,d]=o;t.push([l,c,o],[l,d,o])}t.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=t.length;o<l;o+=2){const c=t[o][2],d=t[o+1][2];c.push(d),d.push(c),i.add(c),i.add(d)}const s=[];let n;for(;i.size>0;){const o=i.values().next().value;let[l,c,d,h,p]=o;i.delete(o);let f=l,m=c;for(n=[l,d],s.push(n);;){let g;if(i.has(h))g=h;else if(i.has(p))g=p;else break;i.delete(g),[l,c,d,h,p]=g,f!==l&&(n.push(f,m,l,m===c?c:d),f=l),m=m===c?d:c}n.push(f,m)}return new i7(s,u(this,tm),u(this,rm))},Zg=function(e){const t=u(this,fs);let i=0,s=t.length-1;for(;i<=s;){const n=i+s>>1,o=t[n][0];if(o===e)return n;o<e?i=n+1:s=n-1}return s+1},UR=function([,e,t]){const i=C(this,$r,Zg).call(this,e);u(this,fs).splice(i,0,[e,t])},qR=function([,e,t]){const i=C(this,$r,Zg).call(this,e);for(let s=i;s<u(this,fs).length;s++){const[n,o]=u(this,fs)[s];if(n!==e)break;if(n===e&&o===t){u(this,fs).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[n,o]=u(this,fs)[s];if(n!==e)break;if(n===e&&o===t){u(this,fs).splice(s,1);return}}},Iw=function(e){const[t,i,s]=e,n=[[t,i,s]],o=C(this,$r,Zg).call(this,s);for(let l=0;l<o;l++){const[c,d]=u(this,fs)[l];for(let h=0,p=n.length;h<p;h++){const[,f,m]=n[h];if(!(d<=f||m<=c)){if(f>=c){if(m>d)n[h][1]=d;else{if(p===1)return[];n.splice(h,1),h--,p--}continue}n[h][2]=c,m>d&&n.push([t,d,m])}}}return n};var im,xu;class i7 extends ne{constructor(t,i,s){super();N(this,im);N(this,xu);j(this,xu,t),j(this,im,i),this.lastPoint=s}toSVGPath(){const t=[];for(const i of u(this,xu)){let[s,n]=i;t.push(`M${s} ${n}`);for(let o=2;o<i.length;o+=2){const l=i[o],c=i[o+1];l===s?(t.push(`V${c}`),n=c):c===n&&(t.push(`H${l}`),s=l)}t.push("Z")}return t.join(" ")}serialize([t,i,s,n],o){const l=[],c=s-t,d=n-i;for(const h of u(this,xu)){const p=new Array(h.length);for(let f=0;f<h.length;f+=2)p[f]=t+h[f]*c,p[f+1]=n-h[f+1]*d;l.push(p)}return l}get box(){return u(this,im)}get classNamesForOutlining(){return["highlightOutline"]}}im=new WeakMap,xu=new WeakMap;class Dw extends Xv{newFreeDrawOutline(e,t,i,s,n,o){return new s7(e,t,i,s,n,o)}}class s7 extends VR{newOutliner(e,t,i,s,n,o=0){return new Dw(e,t,i,s,n,o)}}var ms,rc,bu,$t,sm,wu,nm,am,lo,gs,ku,om,Xe,Fw,Lw,Mw,rl,HR,Ia;const Hr=class Hr{constructor({editor:e=null,uiManager:t=null}){N(this,Xe);N(this,ms,null);N(this,rc,null);N(this,bu);N(this,$t,null);N(this,sm,!1);N(this,wu,!1);N(this,nm,null);N(this,am);N(this,lo,null);N(this,gs,null);N(this,ku);var i;e?(j(this,wu,!1),j(this,ku,Me.HIGHLIGHT_COLOR),j(this,nm,e)):(j(this,wu,!0),j(this,ku,Me.HIGHLIGHT_DEFAULT_COLOR)),j(this,gs,(e==null?void 0:e._uiManager)||t),j(this,am,u(this,gs)._eventBus),j(this,bu,(e==null?void 0:e.color)||((i=u(this,gs))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),u(Hr,om)||j(Hr,om,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ie(this,"_keyboardManager",new Pm([[["Escape","mac+Escape"],Hr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Hr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Hr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Hr.prototype._moveToPrevious],[["Home","mac+Home"],Hr.prototype._moveToBeginning],[["End","mac+End"],Hr.prototype._moveToEnd]]))}renderButton(){const e=j(this,ms,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=u(this,gs)._signal;e.addEventListener("click",C(this,Xe,rl).bind(this),{signal:t}),e.addEventListener("keydown",C(this,Xe,Mw).bind(this),{signal:t});const i=j(this,rc,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=u(this,bu),e.append(i),e}renderMainDropdown(){const e=j(this,$t,C(this,Xe,Fw).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===u(this,ms)){C(this,Xe,rl).call(this,e);return}const t=e.target.getAttribute("data-color");t&&C(this,Xe,Lw).call(this,t,e)}_moveToNext(e){var t,i;if(!u(this,Xe,Ia)){C(this,Xe,rl).call(this,e);return}if(e.target===u(this,ms)){(t=u(this,$t).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=u(this,$t))==null?void 0:t.firstChild)||e.target===u(this,ms)){u(this,Xe,Ia)&&this._hideDropdownFromKeyboard();return}u(this,Xe,Ia)||C(this,Xe,rl).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!u(this,Xe,Ia)){C(this,Xe,rl).call(this,e);return}(t=u(this,$t).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!u(this,Xe,Ia)){C(this,Xe,rl).call(this,e);return}(t=u(this,$t).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=u(this,$t))==null||e.classList.add("hidden"),(t=u(this,lo))==null||t.abort(),j(this,lo,null)}_hideDropdownFromKeyboard(){var e;if(!u(this,wu)){if(!u(this,Xe,Ia)){(e=u(this,nm))==null||e.unselect();return}this.hideDropdown(),u(this,ms).focus({preventScroll:!0,focusVisible:u(this,sm)})}}updateColor(e){if(u(this,rc)&&(u(this,rc).style.backgroundColor=e),!u(this,$t))return;const t=u(this,gs).highlightColors.values();for(const i of u(this,$t).children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=u(this,ms))==null||e.remove(),j(this,ms,null),j(this,rc,null),(t=u(this,$t))==null||t.remove(),j(this,$t,null)}};ms=new WeakMap,rc=new WeakMap,bu=new WeakMap,$t=new WeakMap,sm=new WeakMap,wu=new WeakMap,nm=new WeakMap,am=new WeakMap,lo=new WeakMap,gs=new WeakMap,ku=new WeakMap,om=new WeakMap,Xe=new WeakSet,Fw=function(){const e=document.createElement("div"),t=u(this,gs)._signal;e.addEventListener("contextmenu",Ds,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,s]of u(this,gs).highlightColors){const n=document.createElement("button");n.tabIndex="0",n.role="option",n.setAttribute("data-color",s),n.title=i,n.setAttribute("data-l10n-id",u(Hr,om)[i]);const o=document.createElement("span");n.append(o),o.className="swatch",o.style.backgroundColor=s,n.setAttribute("aria-selected",s===u(this,bu)),n.addEventListener("click",C(this,Xe,Lw).bind(this,s),{signal:t}),e.append(n)}return e.addEventListener("keydown",C(this,Xe,Mw).bind(this),{signal:t}),e},Lw=function(e,t){t.stopPropagation(),u(this,am).dispatch("switchannotationeditorparams",{source:this,type:u(this,ku),value:e})},Mw=function(e){Hr._keyboardManager.exec(this,e)},rl=function(e){if(u(this,Xe,Ia)){this.hideDropdown();return}if(j(this,sm,e.detail===0),u(this,lo)||(j(this,lo,new AbortController),window.addEventListener("pointerdown",C(this,Xe,HR).bind(this),{signal:u(this,gs).combinedSignal(u(this,lo))})),u(this,$t)){u(this,$t).classList.remove("hidden");return}const t=j(this,$t,C(this,Xe,Fw).call(this));u(this,ms).append(t)},HR=function(e){var t;(t=u(this,$t))!=null&&t.contains(e.target)||this.hideDropdown()},Ia=function(){return u(this,$t)&&!u(this,$t).classList.contains("hidden")},N(Hr,om,null);let Jv=Hr;var ju,lm,ea,ic,Su,Kr,cm,dm,sc,Fi,ui,nr,Eu,ta,xr,Au,Li,um,Se,Ow,ev,GR,WR,KR,$w,il,Ui,rd,YR,tv,Bh,XR,JR,QR,ZR,eI;const Ge=class Ge extends _t{constructor(t){super({...t,name:"highlightEditor"});N(this,Se);N(this,ju,null);N(this,lm,0);N(this,ea);N(this,ic,null);N(this,Su,null);N(this,Kr,null);N(this,cm,null);N(this,dm,0);N(this,sc,null);N(this,Fi,null);N(this,ui,null);N(this,nr,!1);N(this,Eu,null);N(this,ta);N(this,xr,null);N(this,Au,"");N(this,Li);N(this,um,"");this.color=t.color||Ge._defaultColor,j(this,Li,t.thickness||Ge._defaultThickness),j(this,ta,t.opacity||Ge._defaultOpacity),j(this,ea,t.boxes||null),j(this,um,t.methodOfCreation||""),j(this,Au,t.text||""),this._isDraggable=!1,t.highlightId>-1?(j(this,nr,!0),C(this,Se,ev).call(this,t),C(this,Se,il).call(this)):u(this,ea)&&(j(this,ju,t.anchorNode),j(this,lm,t.anchorOffset),j(this,cm,t.focusNode),j(this,dm,t.focusOffset),C(this,Se,Ow).call(this),C(this,Se,il).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Ge.prototype;return Ie(this,"_keyboardManager",new Pm([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,nr)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,Li),methodOfCreation:u(this,um)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var s;_t.initialize(t,i),Ge._defaultColor||(Ge._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case Me.HIGHLIGHT_DEFAULT_COLOR:Ge._defaultColor=i;break;case Me.HIGHLIGHT_THICKNESS:Ge._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return u(this,Eu)}updateParams(t,i){switch(t){case Me.HIGHLIGHT_COLOR:C(this,Se,GR).call(this,i);break;case Me.HIGHLIGHT_THICKNESS:C(this,Se,WR).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Me.HIGHLIGHT_DEFAULT_COLOR,Ge._defaultColor],[Me.HIGHLIGHT_THICKNESS,Ge._defaultThickness]]}get propertiesToUpdate(){return[[Me.HIGHLIGHT_COLOR,this.color||Ge._defaultColor],[Me.HIGHLIGHT_THICKNESS,u(this,Li)||Ge._defaultThickness],[Me.HIGHLIGHT_FREE,u(this,nr)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(j(this,Su,new Jv({editor:this})),t.addColorPicker(u(this,Su))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(C(this,Se,Bh).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,C(this,Se,Bh).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){C(this,Se,$w).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(C(this,Se,il).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let i=!1;this.parent&&!t?C(this,Se,$w).call(this):t&&(C(this,Se,il).call(this,t),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var n,o,l;const{drawLayer:i}=this.parent;let s;u(this,nr)?(t=(t-this.rotation+360)%360,s=C(n=Ge,Ui,rd).call(n,u(this,Fi).box,t)):s=C(o=Ge,Ui,rd).call(o,[this.x,this.y,this.width,this.height],t),i.updateProperties(u(this,ui),{bbox:s,root:{"data-main-rotation":t}}),i.updateProperties(u(this,xr),{bbox:C(l=Ge,Ui,rd).call(l,u(this,Kr).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();u(this,Au)&&(t.setAttribute("aria-label",u(this,Au)),t.setAttribute("role","mark")),u(this,nr)?t.classList.add("free"):this.div.addEventListener("keydown",C(this,Se,YR).bind(this),{signal:this._uiManager._signal});const i=j(this,sc,document.createElement("div"));t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=u(this,ic);const[s,n]=this.parentDimensions;return this.setDims(this.width*s,this.height*n),Wv(this,u(this,sc),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(u(this,xr),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(u(this,xr),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:C(this,Se,tv).call(this,!0);break;case 1:case 3:C(this,Se,tv).call(this,!1);break}}select(){var t;super.select(),u(this,xr)&&((t=this.parent)==null||t.drawLayer.updateProperties(u(this,xr),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),u(this,xr)&&((t=this.parent)==null||t.drawLayer.updateProperties(u(this,xr),{rootClass:{selected:!1}}),u(this,nr)||C(this,Se,tv).call(this,!1))}get _mustFixPosition(){return!u(this,nr)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(u(this,ui),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(u(this,xr),{rootClass:{hidden:!t}}))}static startHighlighting(t,i,{target:s,x:n,y:o}){const{x:l,y:c,width:d,height:h}=s.getBoundingClientRect(),p=new AbortController,f=t.combinedSignal(p),m=g=>{p.abort(),C(this,Ui,ZR).call(this,t,g)};window.addEventListener("blur",m,{signal:f}),window.addEventListener("pointerup",m,{signal:f}),window.addEventListener("pointerdown",bi,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Ds,{signal:f}),s.addEventListener("pointermove",C(this,Ui,QR).bind(this,t),{signal:f}),this._freeHighlight=new Dw({x:n,y:o},[l,c,d,h],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,i,s){var v,x,_,y;let n=null;if(t instanceof ER){const{data:{quadPoints:w,rect:k,rotation:E,id:S,color:A,opacity:P,popupRef:R},parent:{page:{pageNumber:I}}}=t;n=t={annotationType:Ae.HIGHLIGHT,color:Array.from(A),opacity:P,quadPoints:w,boxes:null,pageIndex:I-1,rect:k.slice(0),rotation:E,id:S,deleted:!1,popupRef:R}}else if(t instanceof Z0){const{data:{inkLists:w,rect:k,rotation:E,id:S,color:A,borderStyle:{rawWidth:P},popupRef:R},parent:{page:{pageNumber:I}}}=t;n=t={annotationType:Ae.HIGHLIGHT,color:Array.from(A),thickness:P,inkLists:w,boxes:null,pageIndex:I-1,rect:k.slice(0),rotation:E,id:S,deleted:!1,popupRef:R}}const{color:o,quadPoints:l,inkLists:c,opacity:d}=t,h=await super.deserialize(t,i,s);h.color=fe.makeHexColor(...o),j(h,ta,d||1),c&&j(h,Li,t.thickness),h.annotationElementId=t.id||null,h._initialData=n;const[p,f]=h.pageDimensions,[m,g]=h.pageTranslation;if(l){const w=j(h,ea,[]);for(let k=0;k<l.length;k+=8)w.push({x:(l[k]-m)/p,y:1-(l[k+1]-g)/f,width:(l[k+2]-l[k])/p,height:(l[k+1]-l[k+5])/f});C(v=h,Se,Ow).call(v),C(x=h,Se,il).call(x),h.rotate(h.rotation)}else if(c){j(h,nr,!0);const w=c[0],k={x:w[0]-m,y:f-(w[1]-g)},E=new Dw(k,[0,0,p,f],1,u(h,Li)/2,!0,.001);for(let P=0,R=w.length;P<R;P+=2)k.x=w[P]-m,k.y=f-(w[P+1]-g),E.add(k);const{id:S,clipPathId:A}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);C(_=h,Se,ev).call(_,{highlightOutlines:E.getOutlines(),highlightId:S,clipPathId:A}),C(y=h,Se,il).call(y)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),s=_t._colorManager.convert(this.color),n={annotationType:Ae.HIGHLIGHT,color:s,opacity:u(this,ta),thickness:u(this,Li),quadPoints:C(this,Se,XR).call(this),outlines:C(this,Se,JR).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:C(this,Se,Bh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!C(this,Se,eI).call(this,n)?null:(n.id=this.annotationElementId,n)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};ju=new WeakMap,lm=new WeakMap,ea=new WeakMap,ic=new WeakMap,Su=new WeakMap,Kr=new WeakMap,cm=new WeakMap,dm=new WeakMap,sc=new WeakMap,Fi=new WeakMap,ui=new WeakMap,nr=new WeakMap,Eu=new WeakMap,ta=new WeakMap,xr=new WeakMap,Au=new WeakMap,Li=new WeakMap,um=new WeakMap,Se=new WeakSet,Ow=function(){const t=new Rw(u(this,ea),.001);j(this,Fi,t.getOutlines()),[this.x,this.y,this.width,this.height]=u(this,Fi).box;const i=new Rw(u(this,ea),.0025,.001,this._uiManager.direction==="ltr");j(this,Kr,i.getOutlines());const{lastPoint:s}=u(this,Kr);j(this,Eu,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},ev=function({highlightOutlines:t,highlightId:i,clipPathId:s}){var p,f;if(j(this,Fi,t),j(this,Kr,t.getNewOutline(u(this,Li)/2+1.5,.0025)),i>=0)j(this,ui,i),j(this,ic,s),this.parent.drawLayer.finalizeDraw(i,{bbox:t.box,path:{d:t.toSVGPath()}}),j(this,xr,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:u(this,Kr).box,path:{d:u(this,Kr).toSVGPath()}},!0));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(u(this,ui),{bbox:C(p=Ge,Ui,rd).call(p,u(this,Fi).box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(u(this,xr),{bbox:C(f=Ge,Ui,rd).call(f,u(this,Kr).box,m),path:{d:u(this,Kr).toSVGPath()}})}const[o,l,c,d]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=c,this.height=d;break;case 90:{const[m,g]=this.parentDimensions;this.x=l,this.y=1-o,this.width=c*g/m,this.height=d*m/g;break}case 180:this.x=1-o,this.y=1-l,this.width=c,this.height=d;break;case 270:{const[m,g]=this.parentDimensions;this.x=1-l,this.y=o,this.width=c*g/m,this.height=d*m/g;break}}const{lastPoint:h}=u(this,Kr);j(this,Eu,[(h[0]-o)/c,(h[1]-l)/d])},GR=function(t){const i=(o,l)=>{var c,d;this.color=o,j(this,ta,l),(c=this.parent)==null||c.drawLayer.updateProperties(u(this,ui),{root:{fill:o,"fill-opacity":l}}),(d=u(this,Su))==null||d.updateColor(o)},s=this.color,n=u(this,ta);this.addCommands({cmd:i.bind(this,t,Ge._defaultOpacity),undo:i.bind(this,s,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},WR=function(t){const i=u(this,Li),s=n=>{j(this,Li,n),C(this,Se,KR).call(this,n)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},KR=function(t){if(!u(this,nr))return;C(this,Se,ev).call(this,{highlightOutlines:u(this,Fi).getNewOutline(t/2)}),this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)},$w=function(){u(this,ui)===null||!this.parent||(this.parent.drawLayer.remove(u(this,ui)),j(this,ui,null),this.parent.drawLayer.remove(u(this,xr)),j(this,xr,null))},il=function(t=this.parent){u(this,ui)===null&&({id:Nr(this,ui)._,clipPathId:Nr(this,ic)._}=t.drawLayer.draw({bbox:u(this,Fi).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":u(this,ta)},rootClass:{highlight:!0,free:u(this,nr)},path:{d:u(this,Fi).toSVGPath()}},!1,!0),j(this,xr,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:u(this,nr)},bbox:u(this,Kr).box,path:{d:u(this,Kr).toSVGPath()}},u(this,nr))),u(this,sc)&&(u(this,sc).style.clipPath=u(this,ic)))},Ui=new WeakSet,rd=function([t,i,s,n],o){switch(o){case 90:return[1-i-n,t,n,s];case 180:return[1-t-s,1-i-n,s,n];case 270:return[i,1-t-s,n,s]}return[t,i,s,n]},YR=function(t){Ge._keyboardManager.exec(this,t)},tv=function(t){if(!u(this,ju))return;const i=window.getSelection();t?i.setPosition(u(this,ju),u(this,lm)):i.setPosition(u(this,cm),u(this,dm))},Bh=function(){return u(this,nr)?this.rotation:0},XR=function(){if(u(this,nr))return null;const[t,i]=this.pageDimensions,[s,n]=this.pageTranslation,o=u(this,ea),l=new Float32Array(o.length*8);let c=0;for(const{x:d,y:h,width:p,height:f}of o){const m=d*t+s,g=(1-h)*i+n;l[c]=l[c+4]=m,l[c+1]=l[c+3]=g,l[c+2]=l[c+6]=m+p*t,l[c+5]=l[c+7]=g-f*i,c+=8}return l},JR=function(t){return u(this,Fi).serialize(t,C(this,Se,Bh).call(this))},QR=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},ZR=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},eI=function(t){const{color:i}=this._initialData;return t.color.some((s,n)=>s!==i[n])},N(Ge,Ui),ge(Ge,"_defaultColor",null),ge(Ge,"_defaultOpacity",1),ge(Ge,"_defaultThickness",12),ge(Ge,"_type","highlight"),ge(Ge,"_editorType",Ae.HIGHLIGHT),ge(Ge,"_freeHighlightId",-1),ge(Ge,"_freeHighlight",null),ge(Ge,"_freeHighlightClipId","");let Qv=Ge;var nc;class n7{constructor(){N(this,nc,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))this.updateProperty(t,i)}updateSVGProperty(e,t){u(this,nc)[e]=t}toSVGProperties(){const e=u(this,nc);return j(this,nc,Object.create(null)),{root:e}}reset(){j(this,nc,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Ze("Not implemented")}}nc=new WeakMap;var hi,Nu,Xt,ac,oc,co,uo,ho,lc,Be,zw,Bw,Uw,Uh,tI,rv,qh,id;const oe=class oe extends _t{constructor(t){super(t);N(this,Be);N(this,hi,null);N(this,Nu);ge(this,"_drawId",null);j(this,Nu,t.mustBeCommitted||!1),t.drawOutlines&&(C(this,Be,zw).call(this,t),C(this,Be,Uh).call(this))}static _mergeSVGProperties(t,i){const s=new Set(Object.keys(t));for(const[n,o]of Object.entries(i))s.has(n)?Object.assign(t[n],o):t[n]=o;return t}static getDefaultDrawingOptions(t){Ze("Not implemented")}static get typesMap(){Ze("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,i){const s=this.typesMap.get(t);s&&this._defaultDrawingOptions.updateProperty(s,i),this._currentParent&&(u(oe,Xt).updateProperty(s,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,i){const s=this.constructor.typesMap.get(t);s&&this._updateProperty(t,s,i)}static get defaultPropertiesToUpdate(){const t=[],i=this._defaultDrawingOptions;for(const[s,n]of this.typesMap)t.push([s,i[n]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:i}=this;for(const[s,n]of this.constructor.typesMap)t.push([s,i[n]]);return t}_updateProperty(t,i,s){const n=this._drawingOptions,o=n[i],l=c=>{var h;n.updateProperty(i,c);const d=u(this,hi).updateProperty(i,c);d&&C(this,Be,qh).call(this,d),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,n.toSVGProperties())};this.addCommands({cmd:l.bind(this,s),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,oe._mergeSVGProperties(u(this,hi).getPathResizingSVGProperties(C(this,Be,rv).call(this)),{bbox:C(this,Be,id).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,oe._mergeSVGProperties(u(this,hi).getPathResizedSVGProperties(C(this,Be,rv).call(this)),{bbox:C(this,Be,id).call(this)}))}_onTranslating(t,i){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:C(this,Be,id).call(this,t,i)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,oe._mergeSVGProperties(u(this,hi).getPathTranslatedSVGProperties(C(this,Be,rv).call(this),this.parentDimensions),{bbox:C(this,Be,id).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,u(this,Nu)&&(j(this,Nu,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){C(this,Be,Uw).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(C(this,Be,Uh).call(this),C(this,Be,qh).call(this,u(this,hi).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let i=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),C(this,Be,Uw).call(this)):t&&(this._uiManager.addShouldRescale(this),C(this,Be,Uh).call(this,t),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,oe._mergeSVGProperties({bbox:C(this,Be,id).call(this)},u(this,hi).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&C(this,Be,qh).call(this,u(this,hi).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const t=super.render();t.classList.add("draw");const i=document.createElement("div");t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[s,n]=this.parentDimensions;return this.setDims(this.width*s,this.height*n),this._uiManager.addShouldRescale(this),this.disableEditing(),t}static createDrawerInstance(t,i,s,n,o){Ze("Not implemented")}static startDrawing(t,i,s,n){var x;const{target:o,offsetX:l,offsetY:c,pointerId:d,pointerType:h}=n;if(u(oe,uo)&&u(oe,uo)!==h)return;const{viewport:{rotation:p}}=t,{width:f,height:m}=o.getBoundingClientRect(),g=j(oe,ac,new AbortController),v=t.combinedSignal(g);if(u(oe,co)||j(oe,co,d),u(oe,uo)??j(oe,uo,h),window.addEventListener("pointerup",_=>{var y;u(oe,co)===_.pointerId?this._endDraw(_):(y=u(oe,ho))==null||y.delete(_.pointerId)},{signal:v}),window.addEventListener("pointercancel",_=>{var y;u(oe,co)===_.pointerId?this._currentParent.endDrawingSession():(y=u(oe,ho))==null||y.delete(_.pointerId)},{signal:v}),window.addEventListener("pointerdown",_=>{u(oe,uo)===_.pointerType&&((u(oe,ho)||j(oe,ho,new Set)).add(_.pointerId),u(oe,Xt).isCancellable()&&(u(oe,Xt).removeLastElement(),u(oe,Xt).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Ds,{signal:v}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),o.addEventListener("touchmove",_=>{_.timeStamp===u(oe,lc)&&bi(_)},{signal:v}),t.toggleDrawing(),(x=i._editorUndoBar)==null||x.hide(),u(oe,Xt)){t.drawLayer.updateProperties(this._currentDrawId,u(oe,Xt).startNew(l,c,f,m,p));return}i.updateUIForDefaultProperties(this),j(oe,Xt,this.createDrawerInstance(l,c,f,m,p)),j(oe,oc,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(u(oe,oc).toSVGProperties(),u(oe,Xt).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(j(oe,lc,-1),!u(oe,Xt))return;const{offsetX:i,offsetY:s,pointerId:n}=t;if(u(oe,co)===n){if(((o=u(oe,ho))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,u(oe,Xt).add(i,s)),j(oe,lc,t.timeStamp),bi(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,j(oe,Xt,null),j(oe,oc,null),j(oe,uo,null),j(oe,lc,NaN)),u(oe,ac)&&(u(oe,ac).abort(),j(oe,ac,null),j(oe,co,NaN),j(oe,ho,null))}static _endDraw(t){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),t&&i.drawLayer.updateProperties(this._currentDrawId,u(oe,Xt).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const s=u(oe,Xt),n=this._currentDrawId,o=s.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(n,s.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(n,s.removeLastElement())},mustExec:!1,type:Me.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(Me.DRAW_STEP),!u(oe,Xt).isEmpty()){const{pageDimensions:[s,n],scale:o}=i,l=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:u(oe,Xt).getOutlines(s*o,n*o,o,this._INNER_MARGIN),drawingOptions:u(oe,oc),mustBeCommitted:!t});return this._cleanup(!0),l}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,i,s,n,o,l){Ze("Not implemented")}static async deserialize(t,i,s){var p,f;const{rawDims:{pageWidth:n,pageHeight:o,pageX:l,pageY:c}}=i.viewport,d=this.deserializeDraw(l,c,n,o,this._INNER_MARGIN,t),h=await super.deserialize(t,i,s);return h.createDrawingOptions(t),C(p=h,Be,zw).call(p,{drawOutlines:d}),C(f=h,Be,Uh).call(f),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[i,s]=this.pageTranslation,[n,o]=this.pageDimensions;return u(this,hi).serialize([i,s,n,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};hi=new WeakMap,Nu=new WeakMap,Xt=new WeakMap,ac=new WeakMap,oc=new WeakMap,co=new WeakMap,uo=new WeakMap,ho=new WeakMap,lc=new WeakMap,Be=new WeakSet,zw=function({drawOutlines:t,drawId:i,drawingOptions:s}){j(this,hi,t),this._drawingOptions||(this._drawingOptions=s),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,t.defaultProperties)):this._drawId=C(this,Be,Bw).call(this,t,this.parent),C(this,Be,qh).call(this,t.box)},Bw=function(t,i){const{id:s}=i.drawLayer.draw(oe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return s},Uw=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Uh=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=C(this,Be,Bw).call(this,u(this,hi),t)}},tI=function([t,i,s,n]){const{parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[i,1-t,s*(l/o),n*(o/l)];case 180:return[1-t,1-i,s,n];case 270:return[1-i,t,s*(l/o),n*(o/l)];default:return[t,i,s,n]}},rv=function(){const{x:t,y:i,width:s,height:n,parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[1-i,t,s*(o/l),n*(l/o)];case 180:return[1-t,1-i,s,n];case 270:return[i,1-t,s*(o/l),n*(l/o)];default:return[t,i,s,n]}},qh=function(t){if([this.x,this.y,this.width,this.height]=C(this,Be,tI).call(this,t),this.div){this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)}this._onResized()},id=function(){const{x:t,y:i,width:s,height:n,rotation:o,parentRotation:l,parentDimensions:[c,d]}=this;switch((o*4+l)/90){case 1:return[1-i-n,t,n,s];case 2:return[1-t-s,1-i-n,s,n];case 3:return[i,1-t-s,n,s];case 4:return[t,i-s*(c/d),n*(d/c),s*(c/d)];case 5:return[1-i,t,s*(c/d),n*(d/c)];case 6:return[1-t-n*(d/c),1-i,n*(d/c),s*(c/d)];case 7:return[i-s*(c/d),1-t-n*(d/c),s*(c/d),n*(d/c)];case 8:return[t-s,i-n,s,n];case 9:return[1-i,t-s,n,s];case 10:return[1-t,1-i,s,n];case 11:return[i-n,1-t,n,s];case 12:return[t-n*(d/c),i,n*(d/c),s*(c/d)];case 13:return[1-i-s*(c/d),t-n*(d/c),s*(c/d),n*(d/c)];case 14:return[1-t,1-i-s*(c/d),n*(d/c),s*(c/d)];case 15:return[i,1-t,s*(c/d),n*(d/c)];default:return[t,i,s,n]}},ge(oe,"_currentDrawId",-1),ge(oe,"_currentParent",null),N(oe,Xt,null),N(oe,ac,null),N(oe,oc,null),N(oe,co,NaN),N(oe,uo,null),N(oe,ho,null),N(oe,lc,NaN),ge(oe,"_INNER_MARGIN",3);let Vw=oe;var en,Jt,Qt,cc,Cu,Tr,ar,Mi,dc,uc,hc,Pu,iv;class a7{constructor(e,t,i,s,n,o){N(this,Pu);N(this,en,new Float64Array(6));N(this,Jt);N(this,Qt);N(this,cc);N(this,Cu);N(this,Tr);N(this,ar,"");N(this,Mi,0);N(this,dc,new Zv);N(this,uc);N(this,hc);j(this,uc,i),j(this,hc,s),j(this,cc,n),j(this,Cu,o),[e,t]=C(this,Pu,iv).call(this,e,t);const l=j(this,Jt,[NaN,NaN,NaN,NaN,e,t]);j(this,Tr,[e,t]),j(this,Qt,[{line:l,points:u(this,Tr)}]),u(this,en).set(l,0)}updateProperty(e,t){e==="stroke-width"&&j(this,Cu,t)}isEmpty(){return!u(this,Qt)||u(this,Qt).length===0}isCancellable(){return u(this,Tr).length<=10}add(e,t){[e,t]=C(this,Pu,iv).call(this,e,t);const[i,s,n,o]=u(this,en).subarray(2,6),l=e-n,c=t-o;return Math.hypot(u(this,uc)*l,u(this,hc)*c)<=2?null:(u(this,Tr).push(e,t),isNaN(i)?(u(this,en).set([n,o,e,t],2),u(this,Jt).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(u(this,en)[0])&&u(this,Jt).splice(6,6),u(this,en).set([i,s,n,o,e,t],0),u(this,Jt).push(...ne.createBezierPoints(i,s,n,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(u(this,Tr).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,s,n){j(this,uc,i),j(this,hc,s),j(this,cc,n),[e,t]=C(this,Pu,iv).call(this,e,t);const o=j(this,Jt,[NaN,NaN,NaN,NaN,e,t]);j(this,Tr,[e,t]);const l=u(this,Qt).at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),u(this,Qt).push({line:o,points:u(this,Tr)}),u(this,en).set(o,0),j(this,Mi,0),this.toSVGPath(),null}getLastElement(){return u(this,Qt).at(-1)}setLastElement(e){return u(this,Qt)?(u(this,Qt).push(e),j(this,Jt,e.line),j(this,Tr,e.points),j(this,Mi,0),{path:{d:this.toSVGPath()}}):u(this,dc).setLastElement(e)}removeLastElement(){if(!u(this,Qt))return u(this,dc).removeLastElement();u(this,Qt).pop(),j(this,ar,"");for(let e=0,t=u(this,Qt).length;e<t;e++){const{line:i,points:s}=u(this,Qt)[e];j(this,Jt,i),j(this,Tr,s),j(this,Mi,0),this.toSVGPath()}return{path:{d:u(this,ar)}}}toSVGPath(){const e=ne.svgRound(u(this,Jt)[4]),t=ne.svgRound(u(this,Jt)[5]);if(u(this,Tr).length===2)return j(this,ar,`${u(this,ar)} M ${e} ${t} Z`),u(this,ar);if(u(this,Tr).length<=6){const s=u(this,ar).lastIndexOf("M");j(this,ar,`${u(this,ar).slice(0,s)} M ${e} ${t}`),j(this,Mi,6)}if(u(this,Tr).length===4){const s=ne.svgRound(u(this,Jt)[10]),n=ne.svgRound(u(this,Jt)[11]);return j(this,ar,`${u(this,ar)} L ${s} ${n}`),j(this,Mi,12),u(this,ar)}const i=[];u(this,Mi)===0&&(i.push(`M ${e} ${t}`),j(this,Mi,6));for(let s=u(this,Mi),n=u(this,Jt).length;s<n;s+=6){const[o,l,c,d,h,p]=u(this,Jt).slice(s,s+6).map(ne.svgRound);i.push(`C${o} ${l} ${c} ${d} ${h} ${p}`)}return j(this,ar,u(this,ar)+i.join(" ")),j(this,Mi,u(this,Jt).length),u(this,ar)}getOutlines(e,t,i,s){const n=u(this,Qt).at(-1);return n.line=new Float32Array(n.line),n.points=new Float32Array(n.points),u(this,dc).build(u(this,Qt),e,t,i,u(this,cc),u(this,Cu),s),j(this,en,null),j(this,Jt,null),j(this,Qt,null),j(this,ar,null),u(this,dc)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}en=new WeakMap,Jt=new WeakMap,Qt=new WeakMap,cc=new WeakMap,Cu=new WeakMap,Tr=new WeakMap,ar=new WeakMap,Mi=new WeakMap,dc=new WeakMap,uc=new WeakMap,hc=new WeakMap,Pu=new WeakSet,iv=function(e,t){return ne._normalizePoint(e,t,u(this,uc),u(this,hc),u(this,cc))};var Rr,hm,pm,pi,tn,rn,Tu,Ru,Iu,cr,Cn,rI,iI,sI;const sj=class sj extends ne{constructor(){super(...arguments);N(this,cr);N(this,Rr);N(this,hm,0);N(this,pm);N(this,pi);N(this,tn);N(this,rn);N(this,Tu);N(this,Ru);N(this,Iu)}build(t,i,s,n,o,l,c){j(this,tn,i),j(this,rn,s),j(this,Tu,n),j(this,Ru,o),j(this,Iu,l),j(this,pm,c??0),j(this,pi,t),C(this,cr,iI).call(this)}setLastElement(t){return u(this,pi).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return u(this,pi).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:i}of u(this,pi)){if(t.push(`M${ne.svgRound(i[4])} ${ne.svgRound(i[5])}`),i.length===6){t.push("Z");continue}if(i.length===12){t.push(`L${ne.svgRound(i[10])} ${ne.svgRound(i[11])}`);continue}for(let s=6,n=i.length;s<n;s+=6){const[o,l,c,d,h,p]=i.subarray(s,s+6).map(ne.svgRound);t.push(`C${o} ${l} ${c} ${d} ${h} ${p}`)}}return t.join("")}serialize([t,i,s,n],o){const l=[],c=[],[d,h,p,f]=C(this,cr,rI).call(this);let m,g,v,x,_,y,w,k,E;switch(u(this,Ru)){case 0:E=ne._rescale,m=t,g=i+n,v=s,x=-n,_=t+d*s,y=i+(1-h-f)*n,w=t+(d+p)*s,k=i+(1-h)*n;break;case 90:E=ne._rescaleAndSwap,m=t,g=i,v=s,x=n,_=t+h*s,y=i+d*n,w=t+(h+f)*s,k=i+(d+p)*n;break;case 180:E=ne._rescale,m=t+s,g=i,v=-s,x=n,_=t+(1-d-p)*s,y=i+h*n,w=t+(1-d)*s,k=i+(h+f)*n;break;case 270:E=ne._rescaleAndSwap,m=t+s,g=i+n,v=-s,x=-n,_=t+(1-h-f)*s,y=i+(1-d-p)*n,w=t+(1-h)*s,k=i+(1-d)*n;break}for(const{line:S,points:A}of u(this,pi))l.push(E(S,m,g,v,x,o?new Array(S.length):null)),c.push(E(A,m,g,v,x,o?new Array(A.length):null));return{lines:l,points:c,rect:[_,y,w,k]}}static deserialize(t,i,s,n,o,{paths:{lines:l,points:c},rotation:d,thickness:h}){const p=[];let f,m,g,v,x;switch(d){case 0:x=ne._rescale,f=-t/s,m=i/n+1,g=1/s,v=-1/n;break;case 90:x=ne._rescaleAndSwap,f=-i/n,m=-t/s,g=1/n,v=1/s;break;case 180:x=ne._rescale,f=t/s+1,m=-i/n,g=-1/s,v=1/n;break;case 270:x=ne._rescaleAndSwap,f=i/n+1,m=t/s+1,g=-1/n,v=-1/s;break}if(!l){l=[];for(const y of c){const w=y.length;if(w===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,y[0],y[1]]));continue}if(w===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,y[0],y[1],NaN,NaN,NaN,NaN,y[2],y[3]]));continue}const k=new Float32Array(3*(w-2));l.push(k);let[E,S,A,P]=y.subarray(0,4);k.set([NaN,NaN,NaN,NaN,E,S],0);for(let R=4;R<w;R+=2){const I=y[R],M=y[R+1];k.set(ne.createBezierPoints(E,S,A,P,I,M),(R-2)*3),[E,S,A,P]=[A,P,I,M]}}}for(let y=0,w=l.length;y<w;y++)p.push({line:x(l[y].map(k=>k??NaN),f,m,g,v),points:x(c[y].map(k=>k??NaN),f,m,g,v)});const _=new sj;return _.build(p,s,n,1,d,h,o),_}get box(){return u(this,Rr)}updateProperty(t,i){return t==="stroke-width"?C(this,cr,sI).call(this,i):null}updateParentDimensions([t,i],s){const[n,o]=C(this,cr,Cn).call(this);j(this,tn,t),j(this,rn,i),j(this,Tu,s);const[l,c]=C(this,cr,Cn).call(this),d=l-n,h=c-o,p=u(this,Rr);return p[0]-=d,p[1]-=h,p[2]+=2*d,p[3]+=2*h,p}updateRotation(t){return j(this,hm,t),{path:{transform:this.rotationTransform}}}get viewBox(){return u(this,Rr).map(ne.svgRound).join(" ")}get defaultProperties(){const[t,i]=u(this,Rr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ne.svgRound(t)} ${ne.svgRound(i)}`}}}get rotationTransform(){const[,,t,i]=u(this,Rr);let s=0,n=0,o=0,l=0,c=0,d=0;switch(u(this,hm)){case 90:n=i/t,o=-t/i,c=t;break;case 180:s=-1,l=-1,c=t,d=i;break;case 270:n=-i/t,o=t/i,d=i;break;default:return""}return`matrix(${s} ${n} ${o} ${l} ${ne.svgRound(c)} ${ne.svgRound(d)})`}getPathResizingSVGProperties([t,i,s,n]){const[o,l]=C(this,cr,Cn).call(this),[c,d,h,p]=u(this,Rr);if(Math.abs(h-o)<=ne.PRECISION||Math.abs(p-l)<=ne.PRECISION){const x=t+s/2-(c+h/2),_=i+n/2-(d+p/2);return{path:{"transform-origin":`${ne.svgRound(t)} ${ne.svgRound(i)}`,transform:`${this.rotationTransform} translate(${x} ${_})`}}}const f=(s-2*o)/(h-2*o),m=(n-2*l)/(p-2*l),g=h/s,v=p/n;return{path:{"transform-origin":`${ne.svgRound(c)} ${ne.svgRound(d)}`,transform:`${this.rotationTransform} scale(${g} ${v}) translate(${ne.svgRound(o)} ${ne.svgRound(l)}) scale(${f} ${m}) translate(${ne.svgRound(-o)} ${ne.svgRound(-l)})`}}}getPathResizedSVGProperties([t,i,s,n]){const[o,l]=C(this,cr,Cn).call(this),c=u(this,Rr),[d,h,p,f]=c;if(c[0]=t,c[1]=i,c[2]=s,c[3]=n,Math.abs(p-o)<=ne.PRECISION||Math.abs(f-l)<=ne.PRECISION){const _=t+s/2-(d+p/2),y=i+n/2-(h+f/2);for(const{line:w,points:k}of u(this,pi))ne._translate(w,_,y,w),ne._translate(k,_,y,k);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ne.svgRound(t)} ${ne.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(s-2*o)/(p-2*o),g=(n-2*l)/(f-2*l),v=-m*(d+o)+t+o,x=-g*(h+l)+i+l;if(m!==1||g!==1||v!==0||x!==0)for(const{line:_,points:y}of u(this,pi))ne._rescale(_,v,x,m,g,_),ne._rescale(y,v,x,m,g,y);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ne.svgRound(t)} ${ne.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,i],s){const[n,o]=s,l=u(this,Rr),c=t-l[0],d=i-l[1];if(u(this,tn)===n&&u(this,rn)===o)for(const{line:h,points:p}of u(this,pi))ne._translate(h,c,d,h),ne._translate(p,c,d,p);else{const h=u(this,tn)/n,p=u(this,rn)/o;j(this,tn,n),j(this,rn,o);for(const{line:f,points:m}of u(this,pi))ne._rescale(f,c,d,h,p,f),ne._rescale(m,c,d,h,p,m);l[2]*=h,l[3]*=p}return l[0]=t,l[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ne.svgRound(t)} ${ne.svgRound(i)}`}}}get defaultSVGProperties(){const t=u(this,Rr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ne.svgRound(t[0])} ${ne.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}};Rr=new WeakMap,hm=new WeakMap,pm=new WeakMap,pi=new WeakMap,tn=new WeakMap,rn=new WeakMap,Tu=new WeakMap,Ru=new WeakMap,Iu=new WeakMap,cr=new WeakSet,Cn=function(t=u(this,Iu)){const i=u(this,pm)+t/2*u(this,Tu);return u(this,Ru)%180===0?[i/u(this,tn),i/u(this,rn)]:[i/u(this,rn),i/u(this,tn)]},rI=function(){const[t,i,s,n]=u(this,Rr),[o,l]=C(this,cr,Cn).call(this,0);return[t+o,i+l,s-2*o,n-2*l]},iI=function(){const t=j(this,Rr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:n}of u(this,pi)){if(n.length<=12){for(let c=4,d=n.length;c<d;c+=6){const[h,p]=n.subarray(c,c+2);t[0]=Math.min(t[0],h),t[1]=Math.min(t[1],p),t[2]=Math.max(t[2],h),t[3]=Math.max(t[3],p)}continue}let o=n[4],l=n[5];for(let c=6,d=n.length;c<d;c+=6){const[h,p,f,m,g,v]=n.subarray(c,c+6);fe.bezierBoundingBox(o,l,h,p,f,m,g,v,t),o=g,l=v}}const[i,s]=C(this,cr,Cn).call(this);t[0]=Math.min(1,Math.max(0,t[0]-i)),t[1]=Math.min(1,Math.max(0,t[1]-s)),t[2]=Math.min(1,Math.max(0,t[2]+i)),t[3]=Math.min(1,Math.max(0,t[3]+s)),t[2]-=t[0],t[3]-=t[1]},sI=function(t){const[i,s]=C(this,cr,Cn).call(this);j(this,Iu,t);const[n,o]=C(this,cr,Cn).call(this),[l,c]=[n-i,o-s],d=u(this,Rr);return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d};let Zv=sj;var Du;const nj=class nj extends n7{constructor(t){super();N(this,Du);j(this,Du,t),super.updateProperties({fill:"none",stroke:_t._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,i){t==="stroke-width"&&(i??(i=this["stroke-width"]),i*=u(this,Du).realScale),super.updateSVGProperty(t,i)}clone(){const t=new nj(u(this,Du));return t.updateAll(this),t}};Du=new WeakMap;let qw=nj;var v_,nI;const yd=class yd extends Vw{constructor(t){super({...t,name:"inkEditor"});N(this,v_);this._willKeepAspectRatio=!0}static initialize(t,i){_t.initialize(t,i),this._defaultDrawingOptions=new qw(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ie(this,"typesMap",new Map([[Me.INK_THICKNESS,"stroke-width"],[Me.INK_COLOR,"stroke"],[Me.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,i,s,n,o){return new a7(t,i,s,n,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,i,s,n,o,l){return Zv.deserialize(t,i,s,n,o,l)}static async deserialize(t,i,s){let n=null;if(t instanceof Z0){const{data:{inkLists:l,rect:c,rotation:d,id:h,color:p,opacity:f,borderStyle:{rawWidth:m},popupRef:g},parent:{page:{pageNumber:v}}}=t;n=t={annotationType:Ae.INK,color:Array.from(p),thickness:m,opacity:f,paths:{points:l},boxes:null,pageIndex:v-1,rect:c.slice(0),rotation:d,id:h,deleted:!1,popupRef:g}}const o=await super.deserialize(t,i,s);return o.annotationElementId=t.id||null,o._initialData=n,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:i,parent:s}=this;i.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(t,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:i,opacity:s}){this._drawingOptions=yd.getDefaultDrawingOptions({stroke:fe.makeHexColor(...t),"stroke-width":i,"stroke-opacity":s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:s,rect:n}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":l,"stroke-width":c}}=this,d={annotationType:Ae.INK,color:_t._colorManager.convert(o),opacity:l,thickness:c,paths:{lines:i,points:s},pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?d:this.annotationElementId&&!C(this,v_,nI).call(this,d)?null:(d.id=this.annotationElementId,d)}renderAnnotationElement(t){const{points:i,rect:s}=this.serializeDraw(!1);return t.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:i}),null}};v_=new WeakSet,nI=function(t){const{color:i,thickness:s,opacity:n,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==i[c])||t.thickness!==s||t.opacity!==n||t.pageIndex!==o},ge(yd,"_type","ink"),ge(yd,"_editorType",Ae.INK),ge(yd,"_defaultDrawingOptions",null);let Hw=yd;var mt,or,po,ra,fo,Fu,sn,nn,fi,Lu,Ue,Hh,Gh,sv,Ww,nv,Kw,av,aI;const cp=class cp extends _t{constructor(t){super({...t,name:"stampEditor"});N(this,Ue);N(this,mt,null);N(this,or,null);N(this,po,null);N(this,ra,null);N(this,fo,null);N(this,Fu,"");N(this,sn,null);N(this,nn,null);N(this,fi,!1);N(this,Lu,!1);j(this,ra,t.bitmapUrl),j(this,fo,t.bitmapFile)}static initialize(t,i){_t.initialize(t,i)}static get supportedTypes(){return Ie(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return Ie(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,i){i.pasteEditor(Ae.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:n,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await s.guess({name:"altText",request:{data:n,width:o,height:l,channels:n.length/(o*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const d=c.output;return await this.setGuessedAltText(d),i&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var t;u(this,or)&&(j(this,mt,null),this._uiManager.imageManager.deleteId(u(this,or)),(t=u(this,sn))==null||t.remove(),j(this,sn,null),u(this,nn)&&(clearTimeout(u(this,nn)),j(this,nn,null))),super.remove()}rebuild(){if(!this.parent){u(this,or)&&C(this,Ue,sv).call(this);return}super.rebuild(),this.div!==null&&(u(this,or)&&u(this,sn)===null&&C(this,Ue,sv).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(u(this,po)||u(this,mt)||u(this,ra)||u(this,fo)||u(this,or))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;if(this.width&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),u(this,mt)?C(this,Ue,Ww).call(this):C(this,Ue,sv).call(this),this.width&&!this.annotationElementId){const[s,n]=this.parentDimensions;this.setAt(t*s,i*n,this.width*s,this.height*n)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;u(this,nn)!==null&&clearTimeout(u(this,nn)),j(this,nn,setTimeout(()=>{j(this,nn,null),C(this,Ue,Kw).call(this)},200))}copyCanvas(t,i,s=!1){var m;t||(t=224);const{width:n,height:o}=u(this,mt),l=new qb;let c=u(this,mt),d=n,h=o,p=null;if(i){if(n>i||o>i){const P=Math.min(i/n,i/o);d=Math.floor(n*P),h=Math.floor(o*P)}p=document.createElement("canvas");const g=p.width=Math.ceil(d*l.sx),v=p.height=Math.ceil(h*l.sy);u(this,fi)||(c=C(this,Ue,nv).call(this,g,v));const x=p.getContext("2d");x.filter=this._uiManager.hcmFilter;let _="white",y="#cfcfd8";this._uiManager.hcmFilter!=="none"?y="black":(m=window.matchMedia)!=null&&m.call(window,"(prefers-color-scheme: dark)").matches&&(_="#8f8f9d",y="#42414d");const w=15,k=w*l.sx,E=w*l.sy,S=new OffscreenCanvas(k*2,E*2),A=S.getContext("2d");A.fillStyle=_,A.fillRect(0,0,k*2,E*2),A.fillStyle=y,A.fillRect(0,0,k,E),A.fillRect(k,E,k,E),x.fillStyle=x.createPattern(S,"repeat"),x.fillRect(0,0,g,v),x.drawImage(c,0,0,c.width,c.height,0,0,g,v)}let f=null;if(s){let g,v;if(l.symmetric&&c.width<t&&c.height<t)g=c.width,v=c.height;else if(c=u(this,mt),n>t||o>t){const y=Math.min(t/n,t/o);g=Math.floor(n*y),v=Math.floor(o*y),u(this,fi)||(c=C(this,Ue,nv).call(this,g,v))}const _=new OffscreenCanvas(g,v).getContext("2d",{willReadFrequently:!0});_.drawImage(c,0,0,c.width,c.height,0,0,g,v),f={width:g,height:v,data:_.getImageData(0,0,g,v).data}}return{canvas:p,width:d,height:h,imageData:f}}getImageForAltText(){return u(this,sn)}static async deserialize(t,i,s){var v;let n=null;if(t instanceof AR){const{data:{rect:x,rotation:_,id:y,structParent:w,popupRef:k},container:E,parent:{page:{pageNumber:S}}}=t,A=E.querySelector("canvas"),P=s.imageManager.getFromCanvas(E.id,A);A.remove();const R=((v=await i._structTree.getAriaAttributes(`${H0}${y}`))==null?void 0:v.get("aria-label"))||"";n=t={annotationType:Ae.STAMP,bitmapId:P.id,bitmap:P.bitmap,pageIndex:S-1,rect:x.slice(0),rotation:_,id:y,deleted:!1,accessibilityData:{decorative:!1,altText:R},isSvg:!1,structParent:w,popupRef:k}}const o=await super.deserialize(t,i,s),{rect:l,bitmap:c,bitmapUrl:d,bitmapId:h,isSvg:p,accessibilityData:f}=t;h&&s.imageManager.isValidId(h)?(j(o,or,h),c&&j(o,mt,c)):j(o,ra,d),j(o,fi,p);const[m,g]=o.pageDimensions;return o.width=(l[2]-l[0])/m,o.height=(l[3]-l[1])/g,o.annotationElementId=t.id||null,f&&(o.altTextData=f),o._initialData=n,j(o,Lu,!!n),o}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:Ae.STAMP,bitmapId:u(this,or),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,fi),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=C(this,Ue,av).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:n,altText:o}=this.serializeAltText(!1);if(!n&&o&&(s.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=C(this,Ue,aI).call(this,s);if(c.isSame)return null;c.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,i===null)return s;i.stamps||(i.stamps=new Map);const l=u(this,fi)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(u(this,or)))i.stamps.set(u(this,or),{area:l,serialized:s}),s.bitmap=C(this,Ue,av).call(this,!1);else if(u(this,fi)){const c=i.stamps.get(u(this,or));l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=C(this,Ue,av).call(this,!1))}return s}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};mt=new WeakMap,or=new WeakMap,po=new WeakMap,ra=new WeakMap,fo=new WeakMap,Fu=new WeakMap,sn=new WeakMap,nn=new WeakMap,fi=new WeakMap,Lu=new WeakMap,Ue=new WeakSet,Hh=function(t,i=!1){if(!t){this.remove();return}j(this,mt,t.bitmap),i||(j(this,or,t.id),j(this,fi,t.isSvg)),t.file&&j(this,Fu,t.file.name),C(this,Ue,Ww).call(this)},Gh=function(){if(j(this,po,null),this._uiManager.enableWaiting(!1),!!u(this,sn)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,mt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,mt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},sv=function(){if(u(this,or)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,or)).then(s=>C(this,Ue,Hh).call(this,s,!0)).finally(()=>C(this,Ue,Gh).call(this));return}if(u(this,ra)){const s=u(this,ra);j(this,ra,null),this._uiManager.enableWaiting(!0),j(this,po,this._uiManager.imageManager.getFromUrl(s).then(n=>C(this,Ue,Hh).call(this,n)).finally(()=>C(this,Ue,Gh).call(this)));return}if(u(this,fo)){const s=u(this,fo);j(this,fo,null),this._uiManager.enableWaiting(!0),j(this,po,this._uiManager.imageManager.getFromFile(s).then(n=>C(this,Ue,Hh).call(this,n)).finally(()=>C(this,Ue,Gh).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=cp.supportedTypesStr;const i=this._uiManager._signal;j(this,po,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const n=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),C(this,Ue,Hh).call(this,n)}s()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>C(this,Ue,Gh).call(this))),t.click()},Ww=function(){var p;const{div:t}=this;let{width:i,height:s}=u(this,mt);const[n,o]=this.pageDimensions,l=.75;if(this.width)i=this.width*n,s=this.height*o;else if(i>l*n||s>l*o){const f=Math.min(l*n/i,l*o/s);i*=f,s*=f}const[c,d]=this.parentDimensions;this.setDims(i*c/n,s*d/o),this._uiManager.enableWaiting(!1);const h=j(this,sn,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),this.width=i/n,this.height=s/o,(p=this._initialOptions)!=null&&p.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),C(this,Ue,Kw).call(this),u(this,Lu)||(this.parent.addUndoableEditor(this),j(this,Lu,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,Fu)&&h.setAttribute("aria-label",u(this,Fu))},nv=function(t,i){const{width:s,height:n}=u(this,mt);let o=s,l=n,c=u(this,mt);for(;o>2*t||l>2*i;){const d=o,h=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*i&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(o,l);p.getContext("2d").drawImage(c,0,0,d,h,0,0,o,l),c=p.transferToImageBitmap()}return c},Kw=function(){const[t,i]=this.parentDimensions,{width:s,height:n}=this,o=new qb,l=Math.ceil(s*t*o.sx),c=Math.ceil(n*i*o.sy),d=u(this,sn);if(!d||d.width===l&&d.height===c)return;d.width=l,d.height=c;const h=u(this,fi)?u(this,mt):C(this,Ue,nv).call(this,l,c),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(h,0,0,h.width,h.height,0,0,l,c)},av=function(t){if(t){if(u(this,fi)){const n=this._uiManager.imageManager.getSvgUrl(u(this,or));if(n)return n}const i=document.createElement("canvas");return{width:i.width,height:i.height}=u(this,mt),i.getContext("2d").drawImage(u(this,mt),0,0),i.toDataURL()}if(u(this,fi)){const[i,s]=this.pageDimensions,n=Math.round(this.width*i*Vo.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*Vo.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(n,o);return l.getContext("2d").drawImage(u(this,mt),0,0,u(this,mt).width,u(this,mt).height,0,0,n,o),l.transferToImageBitmap()}return structuredClone(u(this,mt))},aI=function(t){var l;const{pageIndex:i,accessibilityData:{altText:s}}=this._initialData,n=t.pageIndex===i,o=(((l=t.accessibilityData)==null?void 0:l.alt)||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&n&&o,isSameAltText:o}},ge(cp,"_type","stamp"),ge(cp,"_editorType",Ae.STAMP);let Gw=cp;var pc,Mu,an,mo,ia,Oi,go,Ou,fc,vs,sa,br,na,de,vo,ut,oI,zs,Xw,Jw,ov;const is=class is{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:s,accessibilityManager:n,annotationLayer:o,drawLayer:l,textLayer:c,viewport:d,l10n:h}){N(this,ut);N(this,pc);N(this,Mu,!1);N(this,an,null);N(this,mo,null);N(this,ia,null);N(this,Oi,new Map);N(this,go,!1);N(this,Ou,!1);N(this,fc,!1);N(this,vs,null);N(this,sa,null);N(this,br,null);N(this,na,null);N(this,de);const p=[...u(is,vo).values()];if(!is._initialized){is._initialized=!0;for(const f of p)f.initialize(h,e)}e.registerEditorTypes(p),j(this,de,e),this.pageIndex=t,this.div=i,j(this,pc,n),j(this,an,o),this.viewport=d,j(this,br,c),this.drawLayer=l,this._structTree=s,u(this,de).addLayer(this)}get isEmpty(){return u(this,Oi).size===0}get isInvisible(){return this.isEmpty&&u(this,de).getMode()===Ae.NONE}updateToolbar(e){u(this,de).updateToolbar(e)}updateMode(e=u(this,de).getMode()){switch(C(this,ut,ov).call(this),e){case Ae.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ae.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ae.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const i of u(is,vo).values())t.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=u(this,br))==null?void 0:t.div)}setEditingState(e){u(this,de).setEditingState(e)}addCommands(e){u(this,de).addCommands(e)}cleanUndoStack(e){u(this,de).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=u(this,an))==null||t.div.classList.toggle("disabled",!e)}async enable(){j(this,fc,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of u(this,Oi).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(u(this,de).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!u(this,an)){j(this,fc,!1);return}const t=u(this,an).getEditableAnnotations();for(const i of t){if(i.hide(),u(this,de).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}j(this,fc,!1)}disable(){var s;j(this,Ou,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const n of u(this,Oi).values())if(n.disableEditing(),!!n.annotationElementId){if(n.serialize()!==null){e.set(n.annotationElementId,n);continue}else t.set(n.annotationElementId,n);(s=this.getEditableAnnotation(n.annotationElementId))==null||s.show(),n.remove()}if(u(this,an)){const n=u(this,an).getEditableAnnotations();for(const o of n){const{id:l}=o.data;if(u(this,de).isDeletedAnnotationElement(l))continue;let c=t.get(l);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=e.get(l),c&&(u(this,de).addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}C(this,ut,ov).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const n of u(is,vo).values())i.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),j(this,Ou,!1)}getEditableAnnotation(e){var t;return((t=u(this,an))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,de).getActive()!==e&&u(this,de).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=u(this,br))!=null&&e.div&&!u(this,na)){j(this,na,new AbortController);const t=u(this,de).combinedSignal(u(this,na));u(this,br).div.addEventListener("pointerdown",C(this,ut,oI).bind(this),{signal:t}),u(this,br).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,br))!=null&&e.div&&u(this,na)&&(u(this,na).abort(),j(this,na,null),u(this,br).div.classList.remove("highlighting"))}enableClick(){if(u(this,mo))return;j(this,mo,new AbortController);const e=u(this,de).combinedSignal(u(this,mo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=u(this,mo))==null||e.abort(),j(this,mo,null)}attach(e){u(this,Oi).set(e.id,e);const{annotationElementId:t}=e;t&&u(this,de).isDeletedAnnotationElement(t)&&u(this,de).removeDeletedAnnotationElement(e)}detach(e){var t;u(this,Oi).delete(e.id),(t=u(this,pc))==null||t.removePointerInTextLayer(e.contentDiv),!u(this,Ou)&&e.annotationElementId&&u(this,de).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,de).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,de).addDeletedAnnotationElement(e.annotationElementId),_t.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,de).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!u(this,fc)),u(this,de).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!u(this,ia)&&(e._focusEventsAllowed=!1,j(this,ia,setTimeout(()=>{j(this,ia,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:u(this,de)._signal}),t.focus())},0))),e._structTreeParentId=(i=u(this,pc))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getNextId(){return u(this,de).getId()}combinedSignal(e){return u(this,de).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=u(this,ut,zs))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){u(this,de).updateToolbar(e),u(this,de).updateMode(e);const{offsetX:i,offsetY:s}=C(this,ut,Jw).call(this),n=this.getNextId(),o=C(this,ut,Xw).call(this,{parent:this,id:n,x:i,y:s,uiManager:u(this,de),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=u(is,vo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,u(this,de)))||null}createAndAddNewEditor(e,t,i={}){const s=this.getNextId(),n=C(this,ut,Xw).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:u(this,de),isCentered:t,...i});return n&&this.add(n),n}addNewEditor(){this.createAndAddNewEditor(C(this,ut,Jw).call(this),!0)}setSelected(e){u(this,de).setSelected(e)}toggleSelected(e){u(this,de).toggleSelected(e)}unselect(e){u(this,de).unselect(e)}pointerup(e){var i;const{isMac:t}=Mr.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&u(this,go)&&(j(this,go,!1),!((i=u(this,ut,zs))!=null&&i.isDrawer&&u(this,ut,zs).supportMultipleDrawings))){if(!u(this,Mu)){j(this,Mu,!0);return}if(u(this,de).getMode()===Ae.STAMP){u(this,de).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){var s;if(u(this,de).getMode()===Ae.HIGHLIGHT&&this.enableTextSelection(),u(this,go)){j(this,go,!1);return}const{isMac:t}=Mr.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(j(this,go,!0),(s=u(this,ut,zs))!=null&&s.isDrawer){this.startDrawingSession(e);return}const i=u(this,de).getActive();j(this,Mu,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus(),u(this,vs)){u(this,ut,zs).startDrawing(this,u(this,de),!1,e);return}u(this,de).setCurrentDrawingSession(this),j(this,vs,new AbortController);const t=u(this,de).combinedSignal(u(this,vs));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(j(this,sa,null),this.commitOrRemove())},{signal:t}),u(this,ut,zs).startDrawing(this,u(this,de),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&j(this,sa,t);return}u(this,sa)&&setTimeout(()=>{var t;(t=u(this,sa))==null||t.focus(),j(this,sa,null)},0)}endDrawingSession(e=!1){return u(this,vs)?(u(this,de).setCurrentDrawingSession(null),u(this,vs).abort(),j(this,vs,null),j(this,sa,null),u(this,ut,zs).endDrawing(e)):null}findNewParent(e,t,i){const s=u(this,de).findParent(t,i);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return u(this,vs)?(this.endDrawingSession(),!0):!1}onScaleChanging(){u(this,vs)&&u(this,ut,zs).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=u(this,de).getActive())==null?void 0:e.parent)===this&&(u(this,de).commitOrRemove(),u(this,de).setActiveEditor(null)),u(this,ia)&&(clearTimeout(u(this,ia)),j(this,ia,null));for(const i of u(this,Oi).values())(t=u(this,pc))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,u(this,Oi).clear(),u(this,de).removeLayer(this)}render({viewport:e}){this.viewport=e,Pc(this.div,e);for(const t of u(this,de).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){u(this,de).commitOrRemove(),C(this,ut,ov).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,Pc(this.div,{rotation:i}),t!==i)for(const s of u(this,Oi).values())s.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return u(this,de).viewParameters.realScale}};pc=new WeakMap,Mu=new WeakMap,an=new WeakMap,mo=new WeakMap,ia=new WeakMap,Oi=new WeakMap,go=new WeakMap,Ou=new WeakMap,fc=new WeakMap,vs=new WeakMap,sa=new WeakMap,br=new WeakMap,na=new WeakMap,de=new WeakMap,vo=new WeakMap,ut=new WeakSet,oI=function(e){u(this,de).unselectAll();const{target:t}=e;if(t===u(this,br).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&u(this,br).div.contains(t)){const{isMac:i}=Mr.platform;if(e.button!==0||e.ctrlKey&&i)return;u(this,de).showAllEditors("highlight",!0,!0),u(this,br).div.classList.add("free"),this.toggleDrawing(),Qv.startHighlighting(this,u(this,de).direction==="ltr",{target:u(this,br).div,x:e.x,y:e.y}),u(this,br).div.addEventListener("pointerup",()=>{u(this,br).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,de)._signal}),e.preventDefault()}},zs=function(){return u(is,vo).get(u(this,de).getMode())},Xw=function(e){const t=u(this,ut,zs);return t?new t.prototype.constructor(e):null},Jw=function(){const{x:e,y:t,width:i,height:s}=this.div.getBoundingClientRect(),n=Math.max(0,e),o=Math.max(0,t),l=Math.min(window.innerWidth,e+i),c=Math.min(window.innerHeight,t+s),d=(n+l)/2-e,h=(o+c)/2-t,[p,f]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:p,offsetY:f}},ov=function(){for(const e of u(this,Oi).values())e.isEmpty()&&e.remove()},ge(is,"_initialized",!1),N(is,vo,new Map([Pw,Hw,Gw,Qv].map(e=>[e._editorType,e])));let Yw=is;var _s,fm,Ir,mc,__,lI,yn,Zw,cI,ek;const vr=class vr{constructor({pageIndex:e}){N(this,yn);N(this,_s,null);N(this,fm,0);N(this,Ir,new Map);N(this,mc,new Map);this.pageIndex=e}setParent(e){if(!u(this,_s)){j(this,_s,e);return}if(u(this,_s)!==e){if(u(this,Ir).size>0)for(const t of u(this,Ir).values())t.remove(),e.append(t);j(this,_s,e)}}static get _svgFactory(){return Ie(this,"_svgFactory",new Q0)}draw(e,t=!1,i=!1){const s=Nr(this,fm)._++,n=C(this,yn,Zw).call(this),o=vr._svgFactory.createElement("defs");n.append(o);const l=vr._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),t&&u(this,mc).set(s,l);const d=i?C(this,yn,cI).call(this,o,c):null,h=vr._svgFactory.createElement("use");return n.append(h),h.setAttribute("href",`#${c}`),this.updateProperties(n,e),u(this,Ir).set(s,n),{id:s,clipPathId:`url(#${d})`}}drawOutline(e,t){const i=Nr(this,fm)._++,s=C(this,yn,Zw).call(this),n=vr._svgFactory.createElement("defs");s.append(n);const o=vr._svgFactory.createElement("path");n.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const p=vr._svgFactory.createElement("mask");n.append(p),c=`mask_p${this.pageIndex}_${i}`,p.setAttribute("id",c),p.setAttribute("maskUnits","objectBoundingBox");const f=vr._svgFactory.createElement("rect");p.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const m=vr._svgFactory.createElement("use");p.append(m),m.setAttribute("href",`#${l}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const d=vr._svgFactory.createElement("use");s.append(d),d.setAttribute("href",`#${l}`),c&&d.setAttribute("mask",`url(#${c})`);const h=d.cloneNode();return s.append(h),d.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(s,e),u(this,Ir).set(i,s),i}finalizeDraw(e,t){u(this,mc).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var c;if(!t)return;const{root:i,bbox:s,rootClass:n,path:o}=t,l=typeof e=="number"?u(this,Ir).get(e):e;if(l){if(i&&C(this,yn,ek).call(this,l,i),s&&C(c=vr,__,lI).call(c,l,s),n){const{classList:d}=l;for(const[h,p]of Object.entries(n))d.toggle(h,p)}if(o){const h=l.firstChild.firstChild;C(this,yn,ek).call(this,h,o)}}}updateParent(e,t){if(t===this)return;const i=u(this,Ir).get(e);i&&(u(t,_s).append(i),u(this,Ir).delete(e),u(t,Ir).set(e,i))}remove(e){u(this,mc).delete(e),u(this,_s)!==null&&(u(this,Ir).get(e).remove(),u(this,Ir).delete(e))}destroy(){j(this,_s,null);for(const e of u(this,Ir).values())e.remove();u(this,Ir).clear(),u(this,mc).clear()}};_s=new WeakMap,fm=new WeakMap,Ir=new WeakMap,mc=new WeakMap,__=new WeakSet,lI=function(e,[t,i,s,n]){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*t}%`,o.width=`${100*s}%`,o.height=`${100*n}%`},yn=new WeakSet,Zw=function(){const e=vr._svgFactory.create(1,1,!0);return u(this,_s).append(e),e.setAttribute("aria-hidden",!0),e},cI=function(e,t){const i=vr._svgFactory.createElement("clipPath");e.append(i);const s=`clip_${t}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const n=vr._svgFactory.createElement("use");return i.append(n),n.setAttribute("href",`#${t}`),n.classList.add("clip"),s},ek=function(e,t){for(const[i,s]of Object.entries(t))s===null?e.removeAttribute(i):e.setAttribute(i,s)},N(vr,__);let Qw=vr;globalThis.pdfjsTestingUtils={HighlightOutliner:Rw};be.AbortException;be.AnnotationEditorLayer;be.AnnotationEditorParamsType;be.AnnotationEditorType;be.AnnotationEditorUIManager;be.AnnotationLayer;be.AnnotationMode;be.ColorPicker;be.DOMSVGFactory;be.DrawLayer;be.FeatureTest;var nA=be.GlobalWorkerOptions;be.ImageKind;be.InvalidPDFException;be.MissingPDFException;be.OPS;be.OutputScale;be.PDFDataRangeTransport;be.PDFDateString;be.PDFWorker;be.PasswordResponses;be.PermissionFlag;be.PixelsPerInch;be.RenderingCancelledException;be.TextLayer;be.TouchManager;be.UnexpectedResponseException;be.Util;be.VerbosityLevel;be.XfaLayer;be.build;be.createValidAbsoluteUrl;be.fetchData;var o7=be.getDocument;be.getFilenameFromUrl;be.getPdfFilenameFromUrl;be.getXfaPageViewport;be.isDataScheme;be.isPdfFile;be.noContextMenu;be.normalizeUnicode;be.setLayerDimensions;be.shadow;be.stopEvent;var l7=be.version;try{nA.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString()}catch{try{nA.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${l7}/pdf.worker.min.js`}catch(e){console.warn("PDF.js worker setup failed, text extraction may not work:",e)}}async function c7(r){try{const e=await r.arrayBuffer(),t=await o7({data:e}).promise;let i="";for(let s=1;s<=t.numPages;s++){const l=(await(await t.getPage(s)).getTextContent()).items.map(c=>c.str).join(" ");i+=l+`

`}return i.trim()}catch(e){return console.error("Error extracting text from PDF:",e),""}}function aA(){const{id:r}=Ji(),e=Ct(),{user:t}=Ci(),{toast:i}=Sa(),{t:s}=Qe(),n=!!r,[o,l]=b.useState(!1),[c,d]=b.useState(!1),[h,p]=b.useState({title:"",slug:"",excerpt:"",content:"",cover_url:"",status:"draft",is_featured:!1}),[f,m]=b.useState([]),[g,v]=b.useState([]),[x,_]=b.useState(""),[y,w]=b.useState(!1),[k,E]=b.useState([]),[S,A]=b.useState(!1);b.useEffect(()=>{I(),n&&R()},[r]);const P=async F=>{try{const{data:B,error:J}=await G.from("article_files").select("*").eq("article_id",F).order("is_primary",{ascending:!1}).order("uploaded_at",{ascending:!1});if(J)throw J;const te=await Promise.all((B||[]).map(async q=>{try{const{data:ie,error:H}=await G.storage.from("article-files").createSignedUrl(q.storage_path,3600);return H?(console.error("Error generating signed URL for file:",q.id,H),{...q,signed_url:null}):{...q,signed_url:ie.signedUrl}}catch(ie){return console.error("Error generating signed URL for file:",q.id,ie),{...q,signed_url:null}}}));E(te);const re=te.find(q=>q.is_primary);re&&re.signed_url&&p(q=>({...q,pdf_url:re.signed_url,pdf_title:re.file_name,pdf_file_size:re.file_size_bytes}))}catch(B){console.error("Error fetching article files:",B)}},R=async()=>{var F;try{const{data:B,error:J}=await G.from("articles").select(`
          *,
          article_tags(tag_id, tags(*))
        `).eq("id",r).single();if(J)throw J;p(B),m(((F=B.article_tags)==null?void 0:F.map(te=>te.tags))||[]),await P(B.id)}catch(B){console.error("Error fetching article:",B),i({title:s("common.error","Error"),description:s("article_editor.error_loading","Failed to load article"),variant:"destructive"})}},I=async()=>{try{const{data:F,error:B}=await G.from("tags").select("*").order("name");if(B)throw B;v(F||[])}catch(F){console.error("Error fetching tags:",F)}},M=F=>F.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").slice(0,100),L=F=>{p(B=>({...B,title:F,slug:M(F)}))},W=async F=>{if(F){if(!["image/jpeg","image/png","image/webp"].includes(F.type)){i({title:s("common.error","Error"),description:s("article_editor.image_type_error","Only JPEG, PNG, and WebP images are allowed"),variant:"destructive"});return}if(F.size>5*1024*1024){i({title:s("common.error","Error"),description:s("article_editor.image_size_error","Image must be less than 5MB"),variant:"destructive"});return}w(!0);try{const B=F.name.split(".").pop(),J=`${Date.now()}-${Math.random().toString(36).substring(2)}.${B}`,te=`covers/${t==null?void 0:t.id}/${J}`,{error:re}=await G.storage.from("article-images").upload(te,F);if(re)throw re;const{data:q}=G.storage.from("article-images").getPublicUrl(te);p(ie=>({...ie,cover_url:q.publicUrl})),i({title:s("common.success","Success"),description:s("article_editor.image_uploaded","Image uploaded successfully")})}catch(B){console.error("Error uploading image:",B),i({title:s("common.error","Error"),description:s("article_editor.image_error","Failed to upload image"),variant:"destructive"})}finally{w(!1)}}},U=async F=>{if(F){if(F.type!=="application/pdf"){i({title:s("common.error","Error"),description:s("article_editor.pdf_type_error","Only PDF files are allowed"),variant:"destructive"});return}if(F.size>20*1024*1024){i({title:s("common.error","Error"),description:s("article_editor.pdf_size_error","File must be less than 20MB"),variant:"destructive"});return}A(!0);try{const J=`${Date.now()}-${F.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`,te=`pdfs/${h.id||"temp"}/${J}`,{error:re}=await G.storage.from("article-files").upload(te,F);if(re)throw re;const q={article_id:h.id,file_name:F.name,storage_path:te,content_type:F.type,file_size_bytes:F.size,uploaded_by:t==null?void 0:t.id,is_primary:k.length===0},{data:ie,error:H}=await G.from("article_files").insert([q]).select().single();if(H)throw H;const we=[...k,ie];if(E(we),ie.is_primary){const{data:qe,error:Le}=await G.storage.from("article-files").createSignedUrl(ie.storage_path,3600);if(Le)throw Le;p($e=>({...$e,pdf_url:qe.signedUrl,pdf_title:ie.file_name,pdf_file_size:ie.file_size_bytes}))}i({title:s("common.success","Success"),description:s("article_editor.pdf_uploaded","PDF uploaded successfully")})}catch(B){console.error("Error uploading PDF:",B),i({title:s("common.error","Error"),description:s("article_editor.pdf_error","Failed to upload PDF"),variant:"destructive"})}finally{A(!1)}}},Y=async F=>{try{const B=k.find(q=>q.id===F),J=B==null?void 0:B.is_primary,{error:te}=await G.from("article_files").delete().eq("id",F);if(te)throw te;const re=k.filter(q=>q.id!==F);if(E(re),J)if(re.length>0){const q=re[0];await O(q.id)}else p(q=>({...q,pdf_url:void 0,pdf_title:void 0,pdf_file_size:void 0}));i({title:s("common.success","Success"),description:s("article_editor.file_deleted","File deleted successfully")})}catch(B){console.error("Error deleting file:",B),i({title:s("common.error","Error"),description:s("article_editor.error_deleting","Failed to delete file"),variant:"destructive"})}},O=async F=>{try{await G.from("article_files").update({is_primary:!1}).eq("article_id",h.id);const{error:B}=await G.from("article_files").update({is_primary:!0}).eq("id",F);if(B)throw B;const J=k.map(re=>({...re,is_primary:re.id===F}));E(J);const te=J.find(re=>re.is_primary);if(te){const{data:re,error:q}=await G.storage.from("article-files").createSignedUrl(te.storage_path,3600);if(q)throw q;p(ie=>({...ie,pdf_url:re.signedUrl,pdf_title:te.file_name,pdf_file_size:te.file_size_bytes}))}else p(re=>({...re,pdf_url:void 0,pdf_title:void 0,pdf_file_size:void 0}));i({title:s("common.success","Success"),description:s("article_editor.primary_file_updated","Primary file updated")})}catch(B){console.error("Error updating primary file:",B),i({title:s("common.error","Error"),description:s("article_editor.error_updating_primary","Failed to update primary file"),variant:"destructive"})}},V=async(F=!1)=>{if(!h.title){i({title:s("common.error","Error"),description:s("article_editor.title_required","Title is required"),variant:"destructive"});return}let B=h.content;if(!B&&k.length>0){const J=k.find(te=>te.is_primary)||k[0];if(J)try{d(!0),i({title:s("article_editor.extracting_text","Extracting PDF text"),description:s("article_editor.extracting_text_desc","Please wait while we extract text from your PDF...")});const{data:te,error:re}=await G.storage.from("article-files").download(J.storage_path);if(re)throw re;const q=await c7(new File([te],J.file_name));q.trim()?(B=q,i({title:s("article_editor.text_extracted","Text extracted"),description:s("article_editor.text_extracted_desc","PDF text has been extracted and will be used as article content")})):(i({title:s("article_editor.extraction_failed","Text extraction failed"),description:s("article_editor.extraction_failed_desc","Could not extract text from PDF. Article will be saved without content."),variant:"destructive"}),B="")}catch(te){console.error("Error extracting PDF text:",te),i({title:s("article_editor.extraction_failed","Text extraction failed"),description:s("article_editor.extraction_failed_desc","Could not extract text from PDF. Article will be saved without content."),variant:"destructive"}),B=""}}if(!B&&k.length===0){i({title:"Error",description:"Content is required. Please provide content or upload a PDF file.",variant:"destructive"});return}d(!0);try{const J={...h,content:B,status:F?"published":"draft",published_at:F&&!h.published_at?new Date().toISOString():h.published_at,author:t==null?void 0:t.id};let te;if(n){const{data:re,error:q}=await G.from("articles").update(J).eq("id",r).select().single();if(q)throw q;te=re}else{const{data:re,error:q}=await G.from("articles").insert(J).select().single();if(q)throw q;te=re}if(n&&await G.from("article_tags").delete().eq("article_id",te.id),f.length>0){const re=f.map(ie=>({article_id:te.id,tag_id:ie.id})),{error:q}=await G.from("article_tags").insert(re);if(q)throw q}if(!n&&k.length>0){const{error:re}=await G.from("article_files").update({article_id:te.id}).is("article_id",null);if(re)throw re}await G.rpc("log_article_action",{p_article_id:te.id,p_action:n?"update":"create"}),i({title:s("common.success","Success"),description:s(n?"article_editor.success_updated":"article_editor.success_created",`Article ${n?"updated":"created"} successfully`)}),n||e(`/admin/articles/${te.id}/edit`)}catch(J){console.error("Error saving article:",J),i({title:s("common.error","Error"),description:s("article_editor.error_saving","Failed to save article"),variant:"destructive"})}finally{d(!1)}},D=async()=>{if(x.trim())try{const{data:F,error:B}=await G.from("tags").insert({name:x.trim()}).select().single();if(B)throw B;v(J=>[...J,F]),m(J=>[...J,F]),_("")}catch(F){console.error("Error creating tag:",F),i({title:s("common.error","Error"),description:s("article_editor.error_creating_tag","Failed to create tag"),variant:"destructive"})}},z=F=>{m(B=>B.find(J=>J.id===F.id)?B.filter(J=>J.id!==F.id):[...B,F])};return o?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:n?s("article_editor.edit_title","Edit Article"):s("article_editor.create_title","Create New Article")}),a.jsx("p",{className:"text-muted-foreground",children:n?s("article_editor.edit_description","Update your article content"):s("article_editor.create_description","Write a new article for your blog")})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($,{variant:"outline",asChild:!0,children:a.jsxs("a",{href:`/articles/${h.slug}`,target:"_blank",rel:"noopener noreferrer",children:[a.jsx(vn,{className:"w-4 h-4 mr-2"}),s("article_editor.preview","Preview")]})}),a.jsxs($,{variant:"outline",onClick:()=>V(!1),disabled:c,children:[a.jsx(xC,{className:"w-4 h-4 mr-2"}),s("article_editor.save_draft","Save Draft")]}),a.jsx($,{onClick:()=>V(!0),disabled:c,children:h.status==="published"?s("article_editor.update","Update"):s("article_editor.publish","Publish")})]})]}),a.jsxs("div",{className:"grid gap-6",children:[a.jsxs(K,{children:[a.jsx(Te,{children:a.jsx(Re,{children:s("article_editor.basic_info","Basic Information")})}),a.jsxs(Q,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"title",children:"Title *"}),a.jsx(le,{id:"title",value:h.title,onChange:F=>L(F.target.value),placeholder:s("article_editor.title_placeholder","Enter article title")})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"slug",children:"Slug"}),a.jsx(le,{id:"slug",value:h.slug,onChange:F=>p(B=>({...B,slug:F.target.value})),placeholder:s("article_editor.slug_placeholder","url-friendly-slug")})]}),a.jsxs("div",{children:[a.jsx(ue,{htmlFor:"excerpt",children:"Excerpt"}),a.jsx(Ts,{id:"excerpt",value:h.excerpt,onChange:F=>p(B=>({...B,excerpt:F.target.value})),placeholder:s("article_editor.excerpt_placeholder","Brief description of the article"),rows:3})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(U0,{id:"featured",checked:h.is_featured,onCheckedChange:F=>p(B=>({...B,is_featured:F}))}),a.jsx(ue,{htmlFor:"featured",children:s("article_editor.featured","Featured article")})]})]})]}),a.jsxs(K,{children:[a.jsx(Te,{children:a.jsx(Re,{children:s("article_editor.cover_image","Cover Image")})}),a.jsxs(Q,{children:[h.cover_url?a.jsxs("div",{className:"space-y-4",children:[a.jsx("img",{src:h.cover_url,alt:"Cover",className:"w-full max-w-md h-48 object-cover rounded-lg"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($,{variant:"outline",onClick:()=>{var F;return(F=document.getElementById("image-upload"))==null?void 0:F.click()},disabled:y,children:[a.jsx(Nd,{className:"w-4 h-4 mr-2"}),s("article_editor.change_image","Change Image")]}),a.jsxs($,{variant:"destructive",onClick:()=>p(F=>({...F,cover_url:""})),children:[a.jsx(mn,{className:"w-4 h-4 mr-2"}),s("article_editor.remove","Remove")]})]})]}):a.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center",children:[a.jsx(Nd,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:s("article_editor.upload_cover_image","Upload a cover image")}),a.jsx($,{onClick:()=>{var F;return(F=document.getElementById("image-upload"))==null?void 0:F.click()},disabled:y,children:s("article_editor.choose_file","Choose File")})]}),a.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:F=>{var B;return((B=F.target.files)==null?void 0:B[0])&&W(F.target.files[0])},className:"hidden"})]})]}),a.jsxs(K,{children:[a.jsx(Te,{children:a.jsxs(Re,{children:[s("article_editor.content","Content")," ",k.length===0?"*":"("+s("article_editor.optional","optional if PDF uploaded")+")"]})}),a.jsxs(Q,{children:[a.jsx(Ts,{value:h.content,onChange:F=>p(B=>({...B,content:F.target.value})),placeholder:k.length>0?s("article_editor.content_placeholder_pdf","Write your article content here, or leave blank to use extracted PDF text..."):s("article_editor.content_placeholder","Write your article content here..."),rows:20,className:"font-mono"}),k.length>0&&!h.content&&a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:s("article_editor.content_extraction_info","Content will be automatically extracted from your uploaded PDF file.")})]})]}),a.jsxs(K,{children:[a.jsx(Te,{children:a.jsx(Re,{children:s("article_editor.tags","Tags")})}),a.jsx(Q,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(le,{value:x,onChange:F=>_(F.target.value),placeholder:s("article_editor.add_tag_placeholder","Add new tag"),onKeyPress:F=>F.key==="Enter"&&D()}),a.jsx($,{onClick:D,disabled:!x.trim(),children:a.jsx(ga,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(F=>a.jsx(je,{variant:f.find(B=>B.id===F.id)?"default":"secondary",className:"cursor-pointer",onClick:()=>z(F),children:F.name},F.id))})]})})]}),a.jsxs(K,{children:[a.jsx(Te,{children:a.jsx(Re,{children:s("article_editor.documents_attachments","Documents & Attachments (PDF)")})}),a.jsx(Q,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[a.jsx(Nd,{className:"h-8 w-8 mx-auto mb-4 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s("article_editor.upload_pdf_description","Upload PDF documents to attach to this article")}),a.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:F=>{var J;const B=(J=F.target.files)==null?void 0:J[0];B&&U(B)},className:"hidden",id:"pdf-upload",disabled:S}),a.jsx("label",{htmlFor:"pdf-upload",children:a.jsx($,{variant:"outline",disabled:S,asChild:!0,children:a.jsx("span",{children:S?s("article_editor.uploading","Uploading..."):s("article_editor.choose_pdf_file","Choose PDF File")})})}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:s("article_editor.max_file_size","Maximum file size: 20 MB")})]}),k.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium",children:s("article_editor.uploaded_files","Uploaded Files")}),k.map(F=>a.jsxs("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(zi,{className:"h-8 w-8 text-red-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:F.file_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[F.file_size_bytes<1024*1024?`${Math.round(F.file_size_bytes/1024)} KB`:`${(F.file_size_bytes/(1024*1024)).toFixed(1)} MB`,"  PDF Document",F.is_primary&&a.jsx(je,{variant:"secondary",className:"ml-2 text-xs",children:s("article_editor.primary","Primary")})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[!F.is_primary&&a.jsx($,{variant:"outline",size:"sm",onClick:()=>O(F.id),children:s("article_editor.set_primary","Set Primary")}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>window.open(F.signed_url,"_blank"),children:[a.jsx(vn,{className:"h-4 w-4 mr-2"}),s("article_editor.preview","Preview")]}),a.jsx($,{variant:"destructive",size:"sm",onClick:()=>Y(F.id),children:a.jsx(mn,{className:"h-4 w-4"})})]})]},F.id))]})]})})]})]})]})}function d7(){const{t:r,lang:e}=Qe(),[t,i]=b.useState([]),[s,n]=b.useState([]),[o,l]=b.useState(!0),[c,d]=b.useState(""),[h,p]=b.useState(!1);Qk();const[f,m]=b.useState(1),[g,v]=b.useState(!0),[x,_]=b.useState(!1),{toast:y}=Sa(),w=10;b.useEffect(()=>{k()},[]);const k=async(L=1,W=!1)=>{try{const U=(L-1)*w,Y=U+w-1,{data:O,error:V}=await G.from("articles").select(`
          *,
          author_profile:profiles!articles_author_fkey(full_name)
        `,{count:"exact"}).eq("status","published").order("published_at",{ascending:!1}).range(U,Y);if(V)throw V;i(W?D=>[...D,...O||[]]:O||[]),v(((O==null?void 0:O.length)||0)===w),m(L)}catch(U){console.error("Error fetching articles:",U),y({title:r("common.error","Error"),description:r("articles.load_failed","Failed to load articles"),variant:"destructive"})}finally{l(!1),_(!1)}},E=async L=>{if(!L.trim()){n([]),p(!1),m(1),v(!0),k(1,!1);return}p(!0),m(1),v(!1);try{const{data:W,error:U}=await G.rpc("search_articles",{q:L.trim(),lim:50});if(U)throw U;n(W||[])}catch(W){console.error("Error searching articles:",W),y({title:"Search Error",description:"Failed to search articles",variant:"destructive"})}finally{p(!1)}},S=L=>{L.preventDefault(),E(c)},A=L=>{d(L),L.trim()||(n([]),p(!1),m(1),v(!0),k(1,!1))},P=()=>{!x&&g&&!h&&(_(!0),k(f+1,!0))},R=(L,W,U)=>{const O={en:"english",sv:"swedish",fi:"finnish",da:"danish",nb:"norwegian",de:"german",fr:"french",es:"spanish",it:"italian",hr:"croatian"}[e];if(O){const V=L[`${O}_${W}`];if(V&&typeof V=="string")return V}return U},I=s.length>0?s:t,M=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return o?a.jsx("div",{className:"min-h-screen bg-background",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})})}):a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"max-w-2xl mx-auto mb-8",children:[a.jsxs("form",{onSubmit:S,className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Mp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(le,{type:"text",placeholder:r("articles.search_placeholder","Search articles..."),value:c,onChange:L=>A(L.target.value),className:"pl-10"})]}),a.jsx($,{type:"submit",disabled:h,children:h?r("articles.searching","Searching..."):r("articles.search","Search")})]}),s.length>0&&a.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[r("articles.found_results","Found")," ",s.length," ",r("articles.results","result"),s.length!==1?r("articles.results_plural","s"):""," ",r("articles.for_query","for"),' "',c,'"']})]}),I.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(zi,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:c?r("articles.no_found","No articles found"):r("articles.no_published","No articles published yet")}),a.jsx("p",{className:"text-muted-foreground mb-4",children:c?r("articles.try_adjust","Try adjusting your search terms or browse all articles."):r("articles.check_back","Check back later for new content.")}),c&&a.jsx($,{onClick:()=>{d(""),n([]),p(!1),m(1),v(!0),k(1,!1)},children:r("articles.view_all","View All Articles")})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-8",children:I.map(L=>{var W;return a.jsx(K,{className:"group hover:shadow-lg transition-shadow duration-200 overflow-hidden",children:a.jsx(Q,{className:"p-0",children:a.jsxs("div",{className:"md:flex",children:[a.jsx("div",{className:"md:w-1/3",children:L.cover_url?a.jsx("div",{className:"aspect-video md:aspect-square overflow-hidden",children:a.jsx("img",{src:L.cover_url,alt:L.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"})}):L.pdf_url?a.jsx("div",{className:"aspect-video md:aspect-square bg-muted flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(zi,{className:"h-16 w-16 mx-auto mb-2 text-muted-foreground"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:r("articles.pdf_document","PDF Document")})]})}):a.jsx("div",{className:"aspect-video md:aspect-square bg-muted flex items-center justify-center",children:a.jsx(zi,{className:"h-16 w-16 text-muted-foreground"})})}),a.jsxs("div",{className:"md:w-2/3 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[L.is_featured&&a.jsx(je,{variant:"default",children:r("articles.featured","Featured")}),L.pdf_url&&a.jsx(je,{variant:"secondary",children:r("articles.pdf_article","PDF Article")}),"rank"in L&&a.jsxs(je,{variant:"secondary",children:[r("articles.match","Match"),": ",L.rank.toFixed(1)]})]}),a.jsx("h3",{className:"text-2xl font-bold mb-3 group-hover:text-primary transition-colors",children:a.jsx(Fr,{to:`/${e}/articles/${L.slug}`,children:R(L,"title",L.title)})}),L.excerpt&&a.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-3 text-lg leading-relaxed",children:R(L,"description",L.excerpt)}),L.pdf_url&&a.jsxs("div",{className:"mb-4 p-3 bg-muted/50 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[a.jsx(zi,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:r("articles.pdf_available","PDF Document Available")})]}),L.pdf_title&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:L.pdf_title}),L.pdf_file_size&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:[(L.pdf_file_size/1024/1024).toFixed(1)," MB"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(va,{className:"h-4 w-4"}),"author_profile"in L&&((W=L.author_profile)!=null&&W.full_name)?L.author_profile.full_name:r("articles.viaestate_team","ViaEstate Team")]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(fn,{className:"h-4 w-4"}),M(L.published_at||L.created_at)]})]}),a.jsxs(Fr,{to:`/${e}/articles/${L.slug}`,className:"inline-flex items-center text-primary hover:text-primary/80 font-medium",children:[L.pdf_url&&!L.content?r("articles.view_pdf","View PDF"):r("articles.read_more","Read More"),a.jsx(l0,{className:"h-4 w-4 ml-1"})]})]})]})]})})},L.id)})}),g&&!h&&!o&&a.jsx("div",{className:"text-center mt-8",children:a.jsx($,{onClick:P,disabled:x,variant:"outline",size:"lg",children:x?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary mr-2"}),r("common.loading","Loading...")]}):r("articles.load_more","Load More Articles")})})]}),I.length>0&&!c&&a.jsx("div",{className:"text-center mt-8",children:a.jsxs("p",{className:"text-muted-foreground",children:[r("articles.showing","Showing")," ",I.length," ",r("articles.article","article"),I.length!==1?r("articles.articles","s"):""]})})]})})}function u7(){var E;const{t:r,lang:e}=Qe(),{slug:t}=Ji(),[i,s]=b.useState(null),[n,o]=b.useState([]),[l,c]=b.useState(!0),[d,h]=b.useState(""),[p,f]=b.useState(!1),{toast:m}=Sa();b.useEffect(()=>{t&&g()},[t]);const g=async()=>{try{const{data:S,error:A}=await G.from("articles").select(`
          *,
          author_profile:profiles!articles_author_fkey(full_name)
        `).eq("slug",t).eq("status","published").single();if(A)throw A;s(S),await v(S.id)}catch(S){console.error("Error fetching article:",S),m({title:r("article_view.error","Error"),description:r("article_view.article_not_found","Article not found or not published"),variant:"destructive"})}finally{c(!1)}},v=async S=>{try{const{data:A,error:P}=await G.from("article_files").select("*").eq("article_id",S).order("is_primary",{ascending:!1}).order("uploaded_at",{ascending:!1});if(P)throw P;const R=await Promise.all((A||[]).map(async I=>{try{const{data:M,error:L}=await G.storage.from("article-files").createSignedUrl(I.storage_path,3600);return L?(console.error("Error generating signed URL for file:",I.id,L),{...I,signed_url:null}):{...I,signed_url:M.signedUrl}}catch(M){return console.error("Error generating signed URL for file:",I.id,M),{...I,signed_url:null}}}));o(R)}catch(A){console.error("Error fetching article files:",A)}},x=async S=>{try{h(S.signed_url||""),f(!0)}catch(A){console.error("Error generating PDF preview:",A),m({title:r("article_view.error","Error"),description:r("article_view.pdf_preview_failed","Failed to load PDF preview"),variant:"destructive"})}},_=S=>{if(S.signed_url){const A=document.createElement("a");A.href=S.signed_url,A.download=S.file_name,A.target="_blank",document.body.appendChild(A),A.click(),document.body.removeChild(A),m({title:r("article_view.download_started","Download Started"),description:r("article_view.downloading_file","Downloading {fileName}",{fileName:S.file_name})})}},y=S=>new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),w=S=>S<1024?`${S} B`:S<1024*1024?`${Math.round(S/1024)} KB`:`${(S/(1024*1024)).toFixed(1)} MB`,k=(S,A,P)=>{const I={en:"english",sv:"swedish",fi:"finnish",da:"danish",nb:"norwegian",de:"german",fr:"french",es:"spanish",it:"italian",hr:"croatian"}[e];if(I){const M=S[`${I}_${A}`];if(M&&typeof M=="string")return M}return P};return l?a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Jr,{showFilters:!0}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})})]}):i?a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("div",{className:"mb-6",children:a.jsx($,{variant:"ghost",asChild:!0,className:"mb-4",children:a.jsxs(Fr,{to:`/${e}/articles`,children:[a.jsx(Ov,{className:"h-4 w-4 mr-2"}),r("article_view.back_to_articles","Back to Articles")]})})}),a.jsxs("div",{className:"max-w-4xl mx-auto mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.is_featured&&a.jsx(je,{variant:"default",className:"text-sm",children:r("article_view.featured_article","Featured Article")}),a.jsx(je,{variant:"secondary",className:"text-sm",children:r("article_view.published","Published")})]}),a.jsx("h1",{className:"text-4xl font-bold mb-4 leading-tight",children:k(i,"title",i.title)}),a.jsx("p",{className:"text-xl text-muted-foreground mb-6",children:k(i,"description",i.excerpt||"")}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground border-b border-border pb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(va,{className:"h-4 w-4"}),a.jsxs("span",{children:[r("article_view.by","By")," ",((E=i.author_profile)==null?void 0:E.full_name)||r("article_view.viaestate_team","ViaEstate Team")]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fn,{className:"h-4 w-4"}),a.jsx("span",{children:y(i.published_at||i.created_at)})]})]})]}),i.cover_url&&a.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:a.jsx("img",{src:i.cover_url,alt:i.title,className:"w-full max-h-96 object-cover rounded-lg shadow-lg"})}),i.content&&a.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:a.jsx("div",{className:"prose prose-lg max-w-none",children:a.jsx("div",{className:"text-foreground leading-relaxed",dangerouslySetInnerHTML:{__html:i.content.replace(/\n/g,"<br>")}})})}),i.pdf_url&&a.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:a.jsx(K,{children:a.jsxs(Q,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(zi,{className:"h-6 w-6 text-red-500"}),r("article_view.pdf_document","PDF Document")]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($,{variant:"outline",onClick:()=>window.open(i.pdf_url,"_blank"),children:[a.jsx(vn,{className:"h-4 w-4 mr-2"}),r("article_view.open_new_tab","Open in New Tab")]}),a.jsxs($,{variant:"outline",onClick:()=>{const S=document.createElement("a");S.href=i.pdf_url,S.download=i.pdf_title||i.title+".pdf",S.target="_blank",document.body.appendChild(S),S.click(),document.body.removeChild(S)},children:[a.jsx(dE,{className:"h-4 w-4 mr-2"}),r("article_view.download","Download")]})]})]}),a.jsx("div",{className:"overflow-hidden",children:a.jsx("iframe",{src:`${i.pdf_url}#toolbar=0&navpanes=0&zoom=page-fit`,className:"w-full h-[800px] border-0",title:`PDF: ${i.pdf_title||i.title}`})})]})})}),n.filter(S=>!S.is_primary).length>0&&a.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:a.jsx(K,{children:a.jsxs(Q,{className:"p-6",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[a.jsx(zi,{className:"h-6 w-6"}),r("article_view.additional_documents","Additional Documents")]}),a.jsx("div",{className:"space-y-4",children:n.filter(S=>!S.is_primary).map(S=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(zi,{className:"h-8 w-8 text-red-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:S.file_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[w(S.file_size_bytes),"  PDF Document",S.is_primary&&a.jsx(je,{variant:"secondary",className:"ml-2 text-xs",children:"Primary"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(cn,{open:p&&d===S.signed_url,onOpenChange:f,children:[a.jsx(QC,{asChild:!0,children:a.jsxs($,{variant:"outline",size:"sm",onClick:()=>x(S),children:[a.jsx(vn,{className:"h-4 w-4 mr-2"}),r("article_view.preview","Preview")]})}),a.jsxs(ws,{className:"max-w-4xl max-h-[90vh]",children:[a.jsx(ks,{children:a.jsx(js,{children:S.file_name})}),a.jsx("div",{className:"w-full h-[70vh]",children:a.jsx("iframe",{src:`${d}#toolbar=0&navpanes=0&zoom=page-fit`,className:"w-full h-full border-0 rounded",title:`Preview of ${S.file_name}`})})]})]}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>_(S),children:[a.jsx(dE,{className:"h-4 w-4 mr-2"}),r("article_view.download","Download")]})]})]},S.id))})]})})}),a.jsx("div",{className:"max-w-4xl mx-auto text-center",children:a.jsxs("div",{className:"border-t border-border pt-8",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:r("article_view.enjoyed_article","Enjoyed this article? Check out more content on our blog.")}),a.jsx($,{asChild:!0,children:a.jsxs(Fr,{to:"/articles",children:[a.jsx(zi,{className:"h-4 w-4 mr-2"}),r("article_view.browse_all_articles","Browse All Articles")]})})]})})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Jr,{showFilters:!0}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(zi,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),a.jsx("h1",{className:"text-2xl font-bold mb-2",children:r("article_view.article_not_found_title","Article Not Found")}),a.jsx("p",{className:"text-muted-foreground mb-4",children:r("article_view.article_not_found_desc","The article you're looking for doesn't exist or has been removed.")}),a.jsx($,{asChild:!0,children:a.jsxs(Fr,{to:`/${e}/articles`,children:[a.jsx(Ov,{className:"h-4 w-4 mr-2"}),r("article_view.back_to_articles","Back to Articles")]})})]})})]})}const h7=()=>{const{user:r,profile:e}=Ci(),{t}=Qe(),[i,s]=b.useState([]),[n,o]=b.useState(!0),[l,c]=b.useState(""),[d,h]=b.useState(!1),[p,f]=b.useState({title:"",content:""});b.useEffect(()=>{m()},[]);const m=async()=>{try{let x=G.from("forum_posts").select(`
          *,
          profiles:user_id (
            full_name,
            role
          )
        `).eq("status","approved").order("created_at",{ascending:!1});l&&(x=x.or(`title.ilike.%${l}%,content.ilike.%${l}%`));const{data:_,error:y}=await x;if(y)throw y;s(_||[])}catch(x){me({title:t("forum.error_fetching","Error fetching posts"),description:x.message,variant:"destructive"})}finally{o(!1)}},g=async x=>{if(x.preventDefault(),!r){me({title:t("forum.please_sign_in","Please sign in"),description:t("forum.login_required","You need to be logged in to create a post."),variant:"destructive"});return}try{const{error:_}=await G.from("forum_posts").insert({title:p.title,content:p.content,user_id:r.id,status:"pending"});if(_)throw _;me({title:t("forum.post_submitted","Post submitted!"),description:t("forum.post_submitted_desc","Your post has been submitted for review and will be published soon.")}),f({title:"",content:""}),h(!1)}catch(_){me({title:t("forum.error_creating","Error creating post"),description:_.message,variant:"destructive"})}},v=x=>{const _=new Date(x),w=Math.floor((new Date().getTime()-_.getTime())/1e3);return w<60?t("forum.just_now","Just now"):w<3600?t("forum.minutes_ago","{count} minutes ago").replace("{count}",Math.floor(w/60).toString()):w<86400?t("forum.hours_ago","{count} hours ago").replace("{count}",Math.floor(w/3600).toString()):w<2592e3?t("forum.days_ago","{count} days ago").replace("{count}",Math.floor(w/86400).toString()):_.toLocaleDateString()};return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs(cn,{open:d,onOpenChange:h,children:[a.jsx(QC,{asChild:!0,children:a.jsxs($,{children:[a.jsx(ga,{className:"h-4 w-4 mr-2"}),t("forum.new_post","New Post")]})}),a.jsxs(ws,{className:"max-w-2xl",children:[a.jsxs(ks,{children:[a.jsx(js,{children:t("forum.create_new_post","Create New Post")}),a.jsx(vd,{children:t("forum.dialog_description","Share your thoughts, ask questions, or start a discussion with the community. Your post will be reviewed before being published.")})]}),a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs(ue,{htmlFor:"post-title",children:[t("forum.title","Title")," *"]}),a.jsx(le,{id:"post-title",placeholder:t("forum.title_placeholder","What's your post about?"),value:p.title,onChange:x=>f({...p,title:x.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsxs(ue,{htmlFor:"post-content",children:[t("forum.content","Content")," *"]}),a.jsx(Ts,{id:"post-content",placeholder:t("forum.content_placeholder","Share your thoughts..."),rows:6,value:p.content,onChange:x=>f({...p,content:x.target.value}),required:!0})]}),!r&&a.jsx("div",{className:"bg-muted p-4 rounded-lg",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:t("forum.please_sign_in_desc","Please sign in to create a post.")})}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx($,{type:"button",variant:"outline",onClick:()=>h(!1),children:t("common.cancel","Cancel")}),a.jsx($,{type:"submit",disabled:!r,children:t("forum.submit_review","Submit for Review")})]})]})]})]}),a.jsx(K,{className:"mb-8",children:a.jsx(Q,{className:"p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Mp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(le,{placeholder:t("forum.search_placeholder","Search forum posts..."),value:l,onChange:x=>c(x.target.value),className:"pl-10"})]})})}),n?a.jsx("div",{className:"space-y-4",children:[...Array(5)].map((x,_)=>a.jsx(K,{className:"animate-pulse",children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-6 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),a.jsx("div",{className:"h-4 bg-muted rounded w-full"}),a.jsx("div",{className:"h-4 bg-muted rounded w-2/3"})]})})},_))}):i.length===0?a.jsx(K,{children:a.jsxs(Q,{className:"p-12 text-center",children:[a.jsx(Wu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:t("forum.no_posts_found","No posts found")}),a.jsx("p",{className:"text-muted-foreground mb-6",children:l?t("forum.try_adjusting_search","Try adjusting your search terms or browse all posts."):t("forum.be_first_to_discuss","Be the first to start a discussion in our community!")}),!l&&a.jsxs($,{onClick:()=>h(!0),children:[a.jsx(ga,{className:"h-4 w-4 mr-2"}),t("forum.create_first_post","Create First Post")]})]})}):a.jsx("div",{className:"space-y-6",children:i.map(x=>{var _,y;return a.jsxs(K,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Te,{children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsx(Re,{className:"text-xl mb-2",children:x.title}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(va,{className:"h-4 w-4"}),a.jsx("span",{children:((_=x.profiles)==null?void 0:_.full_name)||"Anonymous"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Ab,{className:"h-4 w-4"}),a.jsx("span",{children:v(x.created_at)})]}),((y=x.profiles)==null?void 0:y.role)&&a.jsx(je,{variant:"outline",children:x.profiles.role==="broker"?"Professional":"Community Member"})]})]})})}),a.jsx(Q,{children:a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:x.content})})]},x.id)})})]})})},p7=()=>{const{t:r}=Qe();return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsx("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-6 text-foreground",children:r("guidance.title","Guidance")}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:r("guidance.subtitle","Your step-by-step guide to buying property in Southern Europe")})]}),a.jsx("div",{className:"bg-white rounded-2xl p-12 text-center border border-border",children:a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:r("guidance.coming_soon","Coming Soon")}),a.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:r("guidance.description","We are working on comprehensive step-by-step guides to help you buy property in Spain, France, Italy, Croatia, Greece and more. Check back soon for detailed guidance.")})]})}),a.jsxs("div",{className:"mt-12 text-center",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:r("guidance.have_questions","Have questions?")}),a.jsx("a",{href:"mailto:info@viaestate.eu",className:"inline-block px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:r("guidance.contact_us","Contact Us")})]})]})})})},f7=()=>{const{user:r,profile:e}=Ci(),t=Ct(),{toast:i}=Sa(),[s,n]=b.useState([]),[o,l]=b.useState([]),[c,d]=b.useState([]),[h,p]=b.useState(!0);b.useEffect(()=>{if(!r){t("/login");return}if(e&&e.role!=="broker"){t("/dashboard");return}e&&f()},[r,e,t]);const f=async()=>{try{const{data:x,error:_}=await G.from("properties").select("*").eq("seller_id",r==null?void 0:r.id).order("created_at",{ascending:!1});if(_)throw _;const{data:y,error:w}=await G.from("property_requests").select("*").eq("status","open").order("created_at",{ascending:!1});if(w)throw w;const{data:k,error:E}=await G.from("property_requests").select("*").eq("claimed_by",r==null?void 0:r.id).order("created_at",{ascending:!1});if(E)throw E;n(x||[]),l(y||[]),d(k||[])}catch(x){console.error("Error fetching agent data:",x),i({title:"Error",description:"Failed to load agent data.",variant:"destructive"})}finally{p(!1)}},m=async x=>{try{const{error:_}=await G.from("property_requests").update({status:"claimed",claimed_by:r==null?void 0:r.id,claimed_at:new Date().toISOString()}).eq("id",x).eq("status","open");if(_)throw _;i({title:"Request Claimed",description:"You have successfully claimed this property request."}),f()}catch(_){console.error("Error claiming request:",_),i({title:"Error",description:_.message||"Failed to claim request. It may have been claimed by another agent.",variant:"destructive"})}},g=x=>`${x.toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:0})}`,v=x=>new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return!r||e&&e.role!=="broker"?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(K,{className:"w-96",children:a.jsxs(Q,{className:"p-8 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"You need to be logged in as a broker to access this panel."}),a.jsx($,{onClick:()=>t("/login"),children:"Sign In"})]})})}):h?a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Jr,{}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"text-center",children:"Loading agent panel..."})})]}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Jr,{}),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Agent Panel"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your properties and claim new customer requests"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx(K,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"My Properties"}),a.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),a.jsx(pn,{className:"h-8 w-8 text-primary"})]})})}),a.jsx(K,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Open Requests"}),a.jsx("p",{className:"text-2xl font-bold",children:o.length})]}),a.jsx(Ab,{className:"h-8 w-8 text-orange-500"})]})})}),a.jsx(K,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Claimed Requests"}),a.jsx("p",{className:"text-2xl font-bold",children:c.length})]}),a.jsx(Lp,{className:"h-8 w-8 text-green-500"})]})})})]}),a.jsxs(W_,{defaultValue:"properties",className:"space-y-6",children:[a.jsxs(Am,{className:"grid w-full grid-cols-3",children:[a.jsx(zt,{value:"properties",children:"My Properties"}),a.jsx(zt,{value:"requests",children:"Available Requests"}),a.jsx(zt,{value:"claimed",children:"My Claimed Requests"})]}),a.jsx(Bt,{value:"properties",children:a.jsxs(K,{children:[a.jsx(Te,{children:a.jsx(Re,{children:"My Properties"})}),a.jsx(Q,{children:s.length>0?a.jsx("div",{className:"space-y-4",children:s.map(x=>a.jsx(K,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:x.title}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ur,{className:"h-4 w-4"}),x.city,", ",x.country]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(_c,{className:"h-4 w-4"}),g(x.price)]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(fn,{className:"h-4 w-4"}),v(x.created_at)]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:x.description})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[a.jsx(je,{variant:x.status==="published"?"default":"secondary",children:x.status}),a.jsx($,{size:"sm",variant:"outline",children:"Edit"})]})]})},x.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(pn,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No properties listed yet. Start by adding a property!"}),a.jsx($,{className:"mt-4",onClick:()=>t("/list-property"),children:"Add Property"})]})})]})}),a.jsx(Bt,{value:"requests",children:a.jsxs(K,{children:[a.jsx(Te,{children:a.jsx(Re,{children:"Available Property Requests"})}),a.jsx(Q,{children:o.length>0?a.jsx("div",{className:"space-y-4",children:o.map(x=>a.jsx(K,{className:"p-4 border-l-4 border-l-orange-500",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:x.title}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(va,{className:"h-4 w-4"}),x.customer_name]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ur,{className:"h-4 w-4"}),x.city,", ",x.country]}),x.estimated_price&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(_c,{className:"h-4 w-4"}),g(x.estimated_price)]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(fn,{className:"h-4 w-4"}),v(x.created_at)]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:x.description}),a.jsx(je,{variant:"secondary",className:"mt-2",children:x.property_type})]}),a.jsx($,{onClick:()=>m(x.id),className:"ml-4",children:"Claim Request"})]})},x.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ab,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No open property requests available at the moment."})]})})]})}),a.jsx(Bt,{value:"claimed",children:a.jsxs(K,{children:[a.jsx(Te,{children:a.jsx(Re,{children:"My Claimed Requests"})}),a.jsx(Q,{children:c.length>0?a.jsx("div",{className:"space-y-4",children:c.map(x=>a.jsx(K,{className:"p-4 border-l-4 border-l-green-500",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:x.title}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(va,{className:"h-4 w-4"}),x.customer_name]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ur,{className:"h-4 w-4"}),x.city,", ",x.country]}),x.estimated_price&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(_c,{className:"h-4 w-4"}),g(x.estimated_price)]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(fn,{className:"h-4 w-4"}),"Claimed: ",v(x.claimed_at)]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:x.description}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(je,{variant:"secondary",children:x.property_type}),a.jsx(je,{variant:"default",children:x.status})]})]}),a.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[a.jsx($,{size:"sm",variant:"outline",children:"Contact Customer"}),a.jsx($,{size:"sm",children:"Mark Complete"})]})]})},x.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Lp,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No claimed requests yet. Check the available requests to get started!"})]})})]})})]})]})]})},m7=()=>{const{t:r}=Qe(),e=[{icon:Mp,step:"01",title:r("about.step1_title","Property Selection"),description:r("about.step1_desc","We help you find properties that match your preferences and budget in Southern Europe.")},{icon:fC,step:"02",title:r("about.step2_title","Coordination"),description:r("about.step2_desc","We coordinate with trusted local agents, lawyers, and notaries on your behalf.")},{icon:z5,step:"03",title:r("about.step3_title","Guidance to Completion"),description:r("about.step3_desc","We guide you through every step until you receive the keys to your new home.")}],t=[r("about.value_connecting","Connecting people and properties"),r("about.value_marketing","Smart digital marketing"),r("about.value_insights","Data-driven insights"),r("about.value_showcase","Professional property showcase")];return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsx("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx(je,{className:"mb-4 bg-primary/10 text-primary hover:bg-primary/20",children:r("about.about_viaestate","About ViaEstate")}),a.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold mb-6 text-foreground",children:[r("about.about","About")," ",a.jsx("span",{className:"text-primary",children:r("about.us","Us")})]}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:r("about.founded_desc","ViaEstate was founded in Karlstad, Sweden, in 2025 with a clear vision: to help Scandinavians buy property in Southern Europe safely and confidently.")})]}),a.jsxs("section",{className:"mb-16",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:r("about.our_purpose","Our Purpose")}),a.jsx("div",{className:"w-20 h-1 bg-primary mx-auto rounded-full"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:r("about.purpose_desc1","Buying property in a foreign country can feel overwhelming. There are different laws, languages, and customs to navigate  often without the support you need.")}),a.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:r("about.purpose_desc2","ViaEstate was created to change this. We act as the bridge between Scandinavian buyers and trusted local professionals in Southern Europe, ensuring a smooth and secure property buying experince")}),a.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:r("about.purpose_desc3","Our mission is simple: to make your property purchase in Southern Europe as smooth, safe, and confident as possible.")})]}),a.jsx("div",{className:"relative",children:a.jsxs(K,{className:"p-8 bg-gradient-subtle border-primary/20",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-primary rounded-2xl flex items-center justify-center",children:a.jsx(bC,{className:"h-8 w-8 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-foreground",children:r("about.founded_2025","Founded 2025")}),a.jsx("p",{className:"text-muted-foreground",children:r("about.karlstad_sweden","Karlstad, Sweden")})]})]}),a.jsx("div",{className:"space-y-3",children:t.map((i,s)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Lp,{className:"h-5 w-5 text-primary"}),a.jsx("span",{className:"text-sm text-foreground/80",children:i})]},s))})]})})]})]}),a.jsxs("section",{className:"mb-16",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:r("about.how_we_work","How We Work")}),a.jsx("div",{className:"w-20 h-1 bg-primary mx-auto rounded-full"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((i,s)=>a.jsx(K,{className:"p-6 hover:shadow-elegant transition-smooth border-t-4 border-t-primary",children:a.jsxs(Q,{className:"p-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center",children:a.jsx(i.icon,{className:"h-6 w-6 text-primary"})}),a.jsx("span",{className:"text-3xl font-bold text-primary/20",children:i.step})]}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:i.title}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.description})]})},s))})]}),a.jsxs("section",{className:"mb-16",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:r("about.meet_founders","The Team")}),a.jsx("div",{className:"w-20 h-1 bg-primary mx-auto rounded-full"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 max-w-4xl mx-auto",children:[a.jsx(K,{className:"p-6 hover:shadow-elegant transition-smooth",children:a.jsx(Q,{className:"p-0",children:a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("img",{src:w0,alt:"Joel Johansson",className:"w-32 h-32 rounded-full object-cover object-center border-4 border-primary/20 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold",children:"Joel Johansson"}),a.jsx("p",{className:"text-primary font-medium text-sm mb-3",children:"Co-Founder & Business Development Director"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4 leading-relaxed",children:"With extensive experience in business development and the Scandinavian market, Joel ensures that every client receives personalized attention and finds their perfect property in Southern Europe."}),a.jsxs("a",{href:"mailto:joel.johansson@viaestate.eu",className:"flex items-center text-sm text-muted-foreground hover:text-primary transition-colors",children:[a.jsx(yc,{className:"h-3 w-3 mr-2"}),"joel.johansson@viaestate.eu"]})]})})}),a.jsx(K,{className:"p-6 hover:shadow-elegant transition-smooth",children:a.jsx(Q,{className:"p-0",children:a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("img",{src:b0,alt:"Joar Flood",className:"w-32 h-32 rounded-full object-cover object-center border-4 border-primary/20 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold",children:"Joar Flood"}),a.jsx("p",{className:"text-primary font-medium text-sm mb-3",children:"Co-Founder & Managing Director"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4 leading-relaxed",children:"Joar brings deep expertise in international real estate and technology. His vision drives ViaEstate's mission to simplify property purchases for Scandinavian buyers across Europe."}),a.jsxs("a",{href:"mailto:joar.flood@viaestate.eu",className:"flex items-center text-sm text-muted-foreground hover:text-primary transition-colors",children:[a.jsx(yc,{className:"h-3 w-3 mr-2"}),"joar.flood@viaestate.eu"]})]})})})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(Ku,{className:"h-12 w-12 mx-auto mb-6 text-primary"}),a.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:r("about.cta_title","Ready to Find Your Home in Southern Europe?")}),a.jsx("p",{className:"text-lg text-black/80 max-w-2xl mx-auto leading-relaxed mb-8",children:r("about.cta_desc","We are here to guide you through every step of buying property abroad. Book a free consultation to discuss your plans.")}),a.jsx("a",{href:"mailto:info@viaestate.eu",className:"inline-flex items-center justify-center px-8 py-3 text-base font-medium border-2 border-black text-black hover:bg-gold hover:text-navy transition-colors",children:r("about.cta_button","Get in Touch")})]})]})})})},g7=()=>{const{t:r}=Qe(),e=[{icon:a.jsx(Sc,{className:"h-8 w-8"}),title:r("work_with_us.broker_grow","We Help Brokers Grow"),description:r("work_with_us.broker_grow_desc","We offer a modern platform that helps real estate brokers reach more customers and streamline their business. With our network, you get access to thousands of potential buyers and sellers.")},{icon:a.jsx(pC,{className:"h-8 w-8"}),title:r("work_with_us.international_reach","International Reach"),description:r("work_with_us.international_reach_desc","Through our global network, you can market properties to buyers from around the world. We handle multilingual content and internationalization for you.")},{icon:a.jsx(K5,{className:"h-8 w-8"}),title:r("work_with_us.mobile_app","Coming Soon: Mobile App"),description:r("work_with_us.mobile_app_desc","We are developing a modern app that will make it even easier to manage your properties and contacts. Designed to save time and increase efficiency.")},{icon:a.jsx(fn,{className:"h-8 w-8"}),title:r("work_with_us.booking_system","Coming Soon: Booking System"),description:r("work_with_us.booking_system_desc","A new booking system is under development that will allow you to schedule viewings, manage meetings, and follow up with potential customers directly in the platform.")}];return a.jsx("section",{className:"py-20 bg-muted/30",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("h2",{className:"text-4xl sm:text-5xl font-bold mb-6",children:[r("work_with_us.work_with","Work With")," ",a.jsx("span",{className:"text-primary",children:r("work_with_us.us","Us")})]}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-4xl mx-auto mb-8",children:r("work_with_us.intro","ViaEstate is a modern real estate platform that helps brokers grow their business. We offer tools and services that make it easier to reach customers, market properties, and streamline your daily work as a real estate broker.")})]}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-center mb-10",children:r("work_with_us.what_offer","What We Offer to Brokers")}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.map((t,i)=>a.jsx(K,{className:"bg-card border-border hover:shadow-elegant transition-smooth",children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-primary flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-primary-foreground",children:t.icon})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xl font-bold mb-2",children:t.title}),a.jsx("p",{className:"text-muted-foreground",children:t.description})]})]})})},i))})]}),a.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-2xl p-8 md:p-12 border border-primary/20 mb-16",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:r("work_with_us.get_started","Ready to Get Started?")}),a.jsx("p",{className:"text-lg text-muted-foreground mb-8 max-w-2xl mx-auto",children:r("work_with_us.contact_desc","Contact us today to discuss how we can help you grow your brokerage business. We'll help you find the right solution for your needs.")}),a.jsxs("a",{href:"mailto:info@viaestate.eu",className:"inline-flex items-center gap-2 bg-primary text-primary-foreground px-8 py-4 rounded-full font-semibold hover:bg-primary/90 transition-colors",children:[a.jsx(yc,{className:"h-5 w-5"}),"info@viaestate.eu"]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("img",{src:w0,alt:"Joel Johansson",className:"w-28 h-28 rounded-full object-cover object-center border-4 border-primary/20 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold",children:"Joel Johansson"}),a.jsx("p",{className:"text-primary font-medium text-sm mb-1",children:"Co-Founder & Business Development Director"}),a.jsxs("a",{href:"mailto:joel.johansson@viaestate.eu",className:"flex items-center text-xs text-muted-foreground hover:text-primary transition-colors",children:[a.jsx(yc,{className:"h-3 w-3 mr-2"}),"joel.johansson@viaestate.eu"]})]}),a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("img",{src:b0,alt:"Joar Flood",className:"w-28 h-28 rounded-full object-cover object-center border-4 border-primary/20 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold",children:"Joar Flood"}),a.jsx("p",{className:"text-primary font-medium text-sm mb-1",children:"Co-Founder & Managing Director"}),a.jsxs("a",{href:"mailto:joar.flood@viaestate.eu",className:"flex items-center text-xs text-muted-foreground hover:text-primary transition-colors",children:[a.jsx(yc,{className:"h-3 w-3 mr-2"}),"joar.flood@viaestate.eu"]})]})]})]})})},v7=()=>a.jsx(g7,{}),_7=()=>{const r=bn();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",r.pathname)},[r.pathname]),a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Jr,{}),a.jsx("div",{className:"flex min-h-[80vh] items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-6 max-w-md mx-auto px-4",children:[a.jsx(d0,{className:"h-16 w-16 text-primary mx-auto"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-6xl font-bold text-primary",children:"404"}),a.jsx("h2",{className:"text-2xl font-semibold",children:"Page Not Found"}),a.jsx("p",{className:"text-muted-foreground",children:"Sorry, the page you're looking for doesn't exist or has been moved."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx($,{asChild:!0,size:"lg",className:"w-full",children:a.jsxs(Fr,{to:"/",children:[a.jsx(Po,{className:"h-4 w-4 mr-2"}),"Return to Home"]})}),a.jsx($,{asChild:!0,variant:"outline",size:"lg",className:"w-full",children:a.jsx(Fr,{to:"/properties",children:"Browse Properties"})})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Path attempted: ",a.jsx("code",{className:"bg-muted px-2 py-1 rounded",children:r.pathname})]})]})})]})},vx=768;function y7(){const[r,e]=b.useState(void 0);return b.useEffect(()=>{const t=window.matchMedia(`(max-width: ${vx-1}px)`),i=()=>{e(window.innerWidth<vx)};return t.addEventListener("change",i),e(window.innerWidth<vx),()=>t.removeEventListener("change",i)},[]),!!r}function oA(){const{lang:r,setLang:e,languages:t}=Qe(),i={en:"",sv:"",fi:"",da:"",nb:"",es:"",fr:"",de:"",it:"",hr:"",is:""};return a.jsx("div",{className:"language-switcher",children:a.jsx("select",{value:r,onChange:s=>e(s.target.value),className:"px-3 py-2 border rounded-md bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:t.map(({code:s,name:n})=>a.jsxs("option",{value:s,children:[i[s]," ",n]},s))})})}const x7=_0,b7=y0,w7=x0,dI=b.forwardRef(({className:r,...e},t)=>a.jsx(wm,{className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...e,ref:t}));dI.displayName=wm.displayName;const k7=B_("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),uI=b.forwardRef(({side:r="right",className:e,children:t,...i},s)=>a.jsxs(w7,{children:[a.jsx(dI,{}),a.jsxs(km,{ref:s,className:xe(k7({side:r}),e),...i,children:[t,a.jsxs(H_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(mn,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));uI.displayName=km.displayName;const j7=b.forwardRef(({className:r,...e},t)=>a.jsx(jm,{ref:t,className:xe("text-lg font-semibold text-foreground",r),...e}));j7.displayName=jm.displayName;const S7=b.forwardRef(({className:r,...e},t)=>a.jsx(Sm,{ref:t,className:xe("text-sm text-muted-foreground",r),...e}));S7.displayName=Sm.displayName;function E7(){const{user:r,profile:e}=Ci(),{lang:t}=Ji(),{t:i}=Qe(),s=y7(),[n,o]=b.useState(!1),l=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="broker",c=[{to:`/${t}/properties`,label:i("nav.properties","Properties")},{to:`/${t}/guidance`,label:i("nav.guidance","Guidance")},{to:`/${t}/articles`,label:i("nav.articles","Articles")},{to:`/${t}/work-with-us`,label:i("nav.work_with_us","Work with Us")},{to:`/${t}/about`,label:i("nav.about_us","About Us")}],d=({mobile:h=!1,onClick:p=()=>{}})=>a.jsxs(a.Fragment,{children:[c.map(f=>a.jsx(Vy,{to:f.to,className:`text-sm hover:text-amber-600 ${h?"block py-2":""}`,onClick:p,children:f.label},f.to)),l&&a.jsx(Vy,{to:`/${t}/panel`,className:`text-sm font-medium text-amber-700 bg-amber-100 px-3 py-1 rounded-full ${h?"block w-fit mt-2":""}`,onClick:p,children:i("nav.panel","Panel")})]});return a.jsx("nav",{className:"w-full border-b bg-white sticky top-0 z-50",children:a.jsxs("div",{className:"container mx-auto px-4 h-14 flex items-center justify-between",children:[a.jsxs(Vy,{to:`/${t}`,className:"text-xl font-semibold",children:[a.jsx("span",{className:"text-muted-foreground",children:"Via"}),a.jsx("span",{className:"text-primary",children:"Estate"})]}),!s&&a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx(d,{}),a.jsx(oA,{})]}),!1,s&&a.jsxs(x7,{open:n,onOpenChange:o,children:[a.jsx(b7,{asChild:!0,children:a.jsx($,{variant:"ghost",size:"sm",children:a.jsx(q5,{className:"h-5 w-5"})})}),a.jsx(uI,{side:"right",className:"w-64",children:a.jsxs("div",{className:"flex flex-col space-y-4 mt-8",children:[a.jsx(d,{mobile:!0,onClick:()=>o(!1)}),a.jsx("div",{className:"pt-4 border-t",children:a.jsx(oA,{})})]})})]})]})})}function A7(){const{lang:r}=Ji();return r&&!z_.includes(r)?a.jsx(Cp,{to:"/en",replace:!0}):a.jsxs(a.Fragment,{children:[a.jsx(E7,{}),a.jsx(HL,{})]})}function N7(){return a.jsx(Cp,{to:"/en",replace:!0})}const C7=()=>a.jsxs(WL,{children:[a.jsx(et,{path:"/",element:a.jsx(N7,{})}),a.jsxs(et,{path:"/:lang",element:a.jsx(A7,{}),children:[a.jsx(et,{index:!0,element:a.jsx(Yq,{})}),a.jsx(et,{path:"login",element:a.jsx(kG,{})}),a.jsx(et,{path:"auth/callback",element:a.jsx(jG,{})}),a.jsx(et,{path:"properties",element:a.jsx(uE,{children:a.jsx(EG,{})})}),a.jsx(et,{path:"properties/:id",element:a.jsx(uE,{children:a.jsx(AG,{})})}),a.jsx(et,{path:"articles",element:a.jsx(d7,{})}),a.jsx(et,{path:"articles/:slug",element:a.jsx(u7,{})}),a.jsx(et,{path:"about",element:a.jsx(m7,{})}),a.jsx(et,{path:"forum",element:a.jsx(h7,{})}),a.jsx(et,{path:"guidance",element:a.jsx(p7,{})}),a.jsx(et,{path:"work-with-us",element:a.jsx(v7,{})}),a.jsx(et,{path:"packages",element:a.jsx(Cp,{to:"/:lang/work-with-us",replace:!0})}),a.jsx(et,{path:"dashboard",element:a.jsx(Os,{children:a.jsx(KG,{})})}),a.jsx(et,{path:"panel",element:a.jsx(Os,{children:a.jsx($E,{})})}),a.jsx(et,{path:"list-property",element:a.jsx(Os,{children:a.jsx(CG,{})})}),a.jsx(et,{path:"submit-property",element:a.jsx(Os,{children:a.jsx(TG,{})})}),a.jsx(et,{path:"edit-property/:id",element:a.jsx(Os,{children:a.jsx(YG,{})})}),a.jsx(et,{path:"admin",element:a.jsx(Os,{allowedRoles:["admin"],children:a.jsx($E,{})})}),a.jsx(et,{path:"admin/articles",element:a.jsx(Os,{allowedRoles:["admin"],children:a.jsx(oW,{})})}),a.jsx(et,{path:"admin/articles/new",element:a.jsx(Os,{allowedRoles:["admin"],children:a.jsx(aA,{})})}),a.jsx(et,{path:"admin/articles/:id/edit",element:a.jsx(Os,{allowedRoles:["admin"],children:a.jsx(aA,{})})}),a.jsx(et,{path:"agent-panel",element:a.jsx(Os,{allowedRoles:["broker","admin"],children:a.jsx(f7,{})})})]}),a.jsx(et,{path:"*",element:a.jsx(_7,{})})]}),P7=()=>a.jsx(z4,{children:a.jsx(HU,{children:a.jsx(rM,{children:a.jsx(C7,{})})})});wN(document.getElementById("root")).render(a.jsx(P7,{}));
